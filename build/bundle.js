var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,i;function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n){return t.set(n),e}function a(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function g(){return x(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t){return""===t?null:+t}function y(t,e){t.value=null==e?"":e}function P(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function w(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function $(t){i=t}const C=[],_=[];let E=[];const M=[],Z=Promise.resolve();let q=!1;function z(t){E.push(t)}const L=new Set;let T=0;function B(){if(0!==T)return;const t=i;do{try{for(;T<C.length;){const t=C[T];T++,$(t),O(t.$$)}}catch(t){throw C.length=0,T=0,t}for($(null),C.length=0,T=0;_.length;)_.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];L.has(e)||(L.add(e),e())}E.length=0}while(C.length);for(;M.length;)M.pop()();q=!1,L.clear(),$(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const j=new Set;function D(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),E=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(C.push(t),q||(q=!0,Z.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(r,s,c,u,a,d,v,h=[-1]){const f=i;$(r);const x=r.$$={fragment:null,ctx:[],props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:s.target||f.$$.root};v&&v(x.root);let g=!1;if(x.ctx=c?c(r,s.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return x.ctx&&a(x.ctx[t],x.ctx[t]=o)&&(!x.skip_bound&&x.bound[t]&&x.bound[t](o),g&&F(r,t)),e})):[],x.update(),g=!0,o(x.before_update),x.fragment=!!u&&u(x.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);x.fragment&&x.fragment.l(t),t.forEach(p)}else x.fragment&&x.fragment.c();s.intro&&((m=r.$$.fragment)&&m.i&&(j.delete(m),m.i(k))),function(t,n,r,s){const{fragment:i,after_update:c}=t.$$;i&&i.m(n,r),s||z((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(z)}(r,s.target,s.anchor,s.customElement),B()}var m,k;$(f)}class S{$destroy(){D(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const H=[];function N(t,e,n){const o=t.slice();return o[14]=e[n],o[61]=e,o[62]=n,o}function A(t,e,n){const o=t.slice();return o[12]=e[n].x,o[13]=e[n].y,o[63]=e,o[64]=n,o}function R(t,e,n){const o=t.slice();return o[14]=e[n],o}function U(t,e,n){const o=t.slice();return o[14]=e[n],o}function X(t,e,n){const o=t.slice();return o[12]=e[n].x,o[13]=e[n].y,o}function Y(t){let e,n,l;return{c(){e=h("input"),k(e,"class","standard-input-box svelte-pvx5kr"),k(e,"type","number"),k(e,"step","0.01")},m(o,r){d(o,e,r),y(e,t[5][0].controlPoints[0].x),n||(l=[m(e,"input",t[31]),m(e,"input",t[32])],n=!0)},p(t,n){32&n[0]&&b(e.value)!==t[5][0].controlPoints[0].x&&y(e,t[5][0].controlPoints[0].x)},d(t){t&&p(e),n=!1,o(l)}}}function J(t){let e,n,l;return{c(){e=h("input"),k(e,"class","standard-input-box svelte-pvx5kr"),k(e,"type","number"),k(e,"step","0.01")},m(o,r){d(o,e,r),y(e,t[5][0].controlPoints[0].y),n||(l=[m(e,"input",t[33]),m(e,"input",t[34])],n=!0)},p(t,n){32&n[0]&&b(e.value)!==t[5][0].controlPoints[0].y&&y(e,t[5][0].controlPoints[0].y)},d(t){t&&p(e),n=!1,o(l)}}}function W(t){let e,n;return{c(){e=h("div"),n=h("div"),k(n,"class","point svelte-pvx5kr"),P(n,"left",t[12]/144*100+"%"),P(n,"bottom",t[13]/144*100+"%"),P(n,"background",t[14].color),k(e,"class","hover-point svelte-pvx5kr")},m(t,o){d(t,e,o),a(e,n)},p(t,e){32&e[0]&&P(n,"left",t[12]/144*100+"%"),32&e[0]&&P(n,"bottom",t[13]/144*100+"%"),32&e[0]&&P(n,"background",t[14].color)},d(t){t&&p(e)}}}function G(t){let e,n=t[14].controlPoints,o=[];for(let e=0;e<n.length;e+=1)o[e]=W(X(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=x("")},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);d(t,e,n)},p(t,l){if(32&l[0]){let r;for(n=t[14].controlPoints,r=0;r<n.length;r+=1){const s=X(t,n,r);o[r]?o[r].p(s,l):(o[r]=W(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){v(o,t),t&&p(e)}}}function K(t){let e,n;return{c(){var o,l;e=h("img"),o=e.src,l=n="./robot.png",s||(s=document.createElement("a")),s.href=l,o!==s.href&&k(e,"src","./robot.png"),k(e,"alt","Robot"),k(e,"id","robot"),P(e,"width",t[7]/144*100+"%"),P(e,"height",t[6]/144*100+"%"),P(e,"left",t[8]/144*100+"%"),P(e,"bottom",t[9]/144*100+"%"),P(e,"user-select","none"),k(e,"class","svelte-pvx5kr")},m(t,n){d(t,e,n)},p(t,n){128&n[0]&&P(e,"width",t[7]/144*100+"%"),64&n[0]&&P(e,"height",t[6]/144*100+"%"),256&n[0]&&P(e,"left",t[8]/144*100+"%"),512&n[0]&&P(e,"bottom",t[9]/144*100+"%")},d(t){t&&p(e)}}}function Q(t){let e,n;return{c(){e=f("polyline"),k(e,"class","curve svelte-pvx5kr"),k(e,"points",n=t[14].bezierCurvePoints.map(ut).join(" ")),P(e,"stroke",t[14].color)},m(t,n){d(t,e,n)},p(t,o){32&o[0]&&n!==(n=t[14].bezierCurvePoints.map(ut).join(" "))&&k(e,"points",n),32&o[0]&&P(e,"stroke",t[14].color)},d(t){t&&p(e)}}}function V(t){let e,n,o,l,r,s=t[64]-1+"";return{c(){e=h("label"),n=x("Control Point "),o=x(s),l=x(":"),k(e,"for",r="control-point-"+t[14].id+"-"+t[64]),P(e,"user-select","none"),k(e,"class","svelte-pvx5kr")},m(t,r){d(t,e,r),a(e,n),a(e,o),a(e,l)},p(t,n){32&n[0]&&r!==(r="control-point-"+t[14].id+"-"+t[64])&&k(e,"for",r)},d(t){t&&p(e)}}}function tt(t){let e,n,o;return{c(){e=h("label"),n=x("Endpoint:"),k(e,"for",o="control-point-"+t[14].id+"-"+t[64]),P(e,"user-select","none"),k(e,"class","svelte-pvx5kr")},m(t,o){d(t,e,o),a(e,n)},p(t,n){32&n[0]&&o!==(o="control-point-"+t[14].id+"-"+t[64])&&k(e,"for",o)},d(t){t&&p(e)}}}function et(t){let e,n,l,r,s,i,c,u,v,w,$,C,_,E,M,Z,q,z,L;function T(){t[44].call(c,t[64],t[61],t[62])}function B(){return t[45](t[14])}function O(){t[46].call(M,t[64],t[61],t[62])}function j(){return t[47](t[14])}let D=t[64]>1&&function(t){let e,n,o,l;function r(){return t[48](t[14],t[64])}return{c(){e=f("svg"),n=f("path"),k(n,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),k(n,"class","svelte-pvx5kr"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"height","24px"),k(e,"viewBox","0 -960 960 960"),k(e,"width","24px"),k(e,"fill","#FF474D"),P(e,"cursor","pointer"),k(e,"class","svelte-pvx5kr")},m(t,s){d(t,e,s),a(e,n),o||(l=m(e,"click",r),o=!0)},p(e,n){t=e},d(t){t&&p(e),o=!1,l()}}}(t);return{c(){e=h("div"),n=h("div"),l=h("label"),r=x("X:"),i=g(),c=h("input"),v=g(),w=h("div"),$=h("label"),C=x("Y:"),E=g(),M=h("input"),q=g(),D&&D.c(),k(l,"class","cp-x svelte-pvx5kr"),k(l,"for",s="control-point-"+t[14].id+"-"+t[64]),P(l,"user-select","none"),k(c,"id",u="control-point-"+t[14].id+"-"+t[64]),k(c,"class","standard-input-box svelte-pvx5kr"),k(c,"type","number"),k(c,"step","0.01"),k(n,"class","control-point-mini-box-x svelte-pvx5kr"),k($,"class","cp-y svelte-pvx5kr"),k($,"for",_="control-point-"+t[14].id+"-"+t[64]+"-y"),P($,"user-select","none"),k(M,"id",Z="control-point-"+t[14].id+"-"+t[64]+"-y"),k(M,"class","standard-input-box svelte-pvx5kr"),k(M,"type","number"),k(M,"step","0.01"),k(w,"class","control-point-mini-box-y svelte-pvx5kr"),k(e,"class","control-point-mini-box svelte-pvx5kr")},m(o,s){d(o,e,s),a(e,n),a(n,l),a(l,r),a(n,i),a(n,c),y(c,t[14].controlPoints[t[64]].x),a(e,v),a(e,w),a(w,$),a($,C),a(w,E),a(w,M),y(M,t[14].controlPoints[t[64]].y),a(e,q),D&&D.m(e,null),z||(L=[m(c,"input",T),m(c,"input",B),m(M,"input",O),m(M,"input",j)],z=!0)},p(e,n){t=e,32&n[0]&&s!==(s="control-point-"+t[14].id+"-"+t[64])&&k(l,"for",s),32&n[0]&&u!==(u="control-point-"+t[14].id+"-"+t[64])&&k(c,"id",u),32&n[0]&&b(c.value)!==t[14].controlPoints[t[64]].x&&y(c,t[14].controlPoints[t[64]].x),32&n[0]&&_!==(_="control-point-"+t[14].id+"-"+t[64]+"-y")&&k($,"for",_),32&n[0]&&Z!==(Z="control-point-"+t[14].id+"-"+t[64]+"-y")&&k(M,"id",Z),32&n[0]&&b(M.value)!==t[14].controlPoints[t[64]].y&&y(M,t[14].controlPoints[t[64]].y),t[64]>1&&D.p(t,n)},d(t){t&&p(e),D&&D.d(),z=!1,o(L)}}}function nt(t){let e,n;function o(t,e){return t[14].controlPoints.length>=2&&t[64]>0&&t[64]<2?tt:t[64]>0?V:void 0}let l=o(t),r=l&&l(t),s=(t[64]>0||1===t[14].controlPoints.length)&&et(t);return{c(){e=h("div"),r&&r.c(),n=g(),s&&s.c(),k(e,"class","control-point-box svelte-pvx5kr")},m(t,o){d(t,e,o),r&&r.m(e,null),a(e,n),s&&s.m(e,null)},p(t,i){l===(l=o(t))&&r?r.p(t,i):(r&&r.d(1),r=l&&l(t),r&&(r.c(),r.m(e,n))),t[64]>0||1===t[14].controlPoints.length?s?s.p(t,i):(s=et(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&p(e),r&&r.d(),s&&s.d()}}}function ot(t){let e,n,l,r,s,i,c,u,b,w,$,C,_,E,M,Z,q,z,L,T,B,O,j,D,F,I,S,H,N=t[14].id+1+"";function R(){return t[37](t[14])}function U(){return t[38](t[14])}function X(){t[39].call(C,t[61],t[62])}function Y(){return t[40](t[14])}function J(){return t[41](t[14])}function W(){return t[42](t[14])}function G(...e){return t[43](t[14],...e)}let K=t[14].controlPoints,Q=[];for(let e=0;e<K.length;e+=1)Q[e]=nt(A(t,K,e));return{c(){e=h("div"),n=h("div"),l=h("div"),r=f("svg"),s=f("path"),c=g(),u=f("svg"),b=f("path"),$=g(),C=h("input"),_=g(),E=h("p"),M=x("Path "),Z=x(N),q=g(),z=h("div"),L=f("svg"),T=f("path"),O=g(),j=f("svg"),D=f("path"),F=g(),I=h("div");for(let t=0;t<Q.length;t+=1)Q[t].c();k(s,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),k(s,"class","svelte-pvx5kr"),k(r,"xmlns","http://www.w3.org/2000/svg"),k(r,"height","24px"),k(r,"viewBox","0 -960 960 960"),k(r,"width","24px"),k(r,"fill",i=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray"),P(r,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),k(r,"class","svelte-pvx5kr"),k(b,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),k(b,"class","svelte-pvx5kr"),k(u,"xmlns","http://www.w3.org/2000/svg"),k(u,"height","24px"),k(u,"viewBox","0 -960 960 960"),k(u,"width","24px"),k(u,"fill",w=0!=t[14].id&&1!=t[14].id?"black":"gray"),P(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),k(u,"class","svelte-pvx5kr"),k(C,"type","color"),k(C,"class","color-circle svelte-pvx5kr"),P(C,"background-color",t[14].color),k(E,"class","path-title svelte-pvx5kr"),P(E,"user-select","none"),k(l,"class","path-and-color svelte-pvx5kr"),k(T,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),k(T,"class","svelte-pvx5kr"),k(L,"xmlns","http://www.w3.org/2000/svg"),k(L,"height","24px"),k(L,"viewBox","0 -960 960 960"),k(L,"width","24px"),k(L,"fill",B=t[5].length>1?"#FF474D":"gray"),P(L,"cursor",t[5].length>1?"pointer":"default"),k(L,"class","svelte-pvx5kr"),k(D,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),k(D,"class","svelte-pvx5kr"),k(j,"xmlns","http://www.w3.org/2000/svg"),k(j,"height","24px"),k(j,"viewBox","0 -960 960 960"),k(j,"width","24px"),k(j,"fill","#90EE90"),P(j,"cursor","pointer"),k(j,"class","svelte-pvx5kr"),k(z,"class","add-and-remove svelte-pvx5kr"),k(n,"class","path-header svelte-pvx5kr"),k(I,"class","path-control-points svelte-pvx5kr"),k(e,"class","path svelte-pvx5kr"),P(e,"border-color",t[14].color)},m(o,i){d(o,e,i),a(e,n),a(n,l),a(l,r),a(r,s),a(l,c),a(l,u),a(u,b),a(l,$),a(l,C),y(C,t[14].color),a(l,_),a(l,E),a(E,M),a(E,Z),a(n,q),a(n,z),a(z,L),a(L,T),a(z,O),a(z,j),a(j,D),a(e,F),a(e,I);for(let t=0;t<Q.length;t+=1)Q[t]&&Q[t].m(I,null);S||(H=[m(r,"click",R),m(u,"click",U),m(C,"input",X),m(C,"input",Y),m(L,"click",J),m(j,"click",W),m(j,"keydown",G)],S=!0)},p(n,o){if(t=n,32&o[0]&&i!==(i=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray")&&k(r,"fill",i),32&o[0]&&P(r,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),32&o[0]&&w!==(w=0!=t[14].id&&1!=t[14].id?"black":"gray")&&k(u,"fill",w),32&o[0]&&P(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),32&o[0]&&P(C,"background-color",t[14].color),32&o[0]&&y(C,t[14].color),32&o[0]&&N!==(N=t[14].id+1+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(Z,N),32&o[0]&&B!==(B=t[5].length>1?"#FF474D":"gray")&&k(L,"fill",B),32&o[0]&&P(L,"cursor",t[5].length>1?"pointer":"default"),98336&o[0]){let e;for(K=t[14].controlPoints,e=0;e<K.length;e+=1){const n=A(t,K,e);Q[e]?Q[e].p(n,o):(Q[e]=nt(n),Q[e].c(),Q[e].m(I,null))}for(;e<Q.length;e+=1)Q[e].d(1);Q.length=K.length}32&o[0]&&P(e,"border-color",t[14].color)},d(t){t&&p(e),v(Q,t),S=!1,o(H)}}}function lt(e){let n,o,l,r;return{c(){n=f("svg"),o=f("path"),k(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),k(o,"class","svelte-pvx5kr"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"height","24px"),k(n,"viewBox","0 -960 960 960"),k(n,"width","24px"),k(n,"fill","#FF474D"),k(n,"class","svelte-pvx5kr")},m(t,s){d(t,n,s),a(n,o),l||(r=m(n,"click",e[25]),l=!0)},p:t,d(t){t&&p(n),l=!1,r()}}}function rt(e){let n,o,l,r;return{c(){n=f("svg"),o=f("path"),k(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),k(o,"class","svelte-pvx5kr"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"height","24px"),k(n,"viewBox","0 -960 960 960"),k(n,"width","24px"),k(n,"fill","#90EE90"),k(n,"class","svelte-pvx5kr")},m(t,s){d(t,n,s),a(n,o),l||(r=m(n,"click",e[24]),l=!0)},p:t,d(t){t&&p(n),l=!1,r()}}}function st(e){let n,l,r,s,i,c,u,x,$,C,_,E,M,Z,q,L,T,B,O,j,D,F,I,S,H,A,X,W,V,tt,et,nt,st,it,ct,ut,at,dt,pt,vt,ht,ft,xt,gt,mt,kt,bt,yt,Pt,wt,$t,Ct,_t,Et,Mt,Zt,qt,zt,Lt,Tt,Bt,Ot,jt,Dt,Ft,It,St,Ht,Nt,At,Rt,Ut,Xt,Yt,Jt=e[5].length>0&&Y(e),Wt=e[5].length>0&&J(e),Gt=e[5],Kt=[];for(let t=0;t<Gt.length;t+=1)Kt[t]=G(U(e,Gt,t));let Qt=e[5].length>0&&K(e),Vt=e[5],te=[];for(let t=0;t<Vt.length;t+=1)te[t]=Q(R(e,Vt,t));let ee=e[5],ne=[];for(let t=0;t<ee.length;t+=1)ne[t]=ot(N(e,ee,t));function oe(t,e){return t[3]?lt:rt}let le=oe(e),re=le(e);return{c(){n=h("div"),l=h("div"),r=h("h1"),r.textContent="JPather",s=g(),i=h("div"),c=h("button"),c.textContent="Import Control Points",u=g(),x=h("button"),x.textContent="Export Control Points",$=g(),C=h("div"),_=h("div"),E=h("div"),M=h("div"),Z=h("div"),q=h("h2"),q.textContent="Robot Options",L=g(),T=h("div"),B=h("label"),B.textContent="Units:",O=g(),j=h("select"),D=h("option"),D.textContent="Inches",F=h("option"),F.textContent="Centimeters",I=g(),S=h("div"),H=h("label"),H.textContent="Robot Length:",A=g(),X=h("input"),W=g(),V=h("div"),tt=h("label"),tt.textContent="Robot Width:",et=g(),nt=h("input"),st=g(),it=h("h2"),it.textContent="Field Options",ct=g(),ut=h("label"),ut.textContent="Starting Position:",at=g(),dt=h("div"),pt=h("div"),vt=h("label"),vt.textContent="X:",ht=g(),Jt&&Jt.c(),ft=g(),xt=h("div"),gt=h("label"),gt.textContent="Y:",mt=g(),Wt&&Wt.c(),kt=g(),bt=h("h2"),bt.textContent="Advanced Options",yt=g(),Pt=h("div"),wt=h("label"),wt.textContent="Infinite Path Looping:",$t=g(),Ct=h("input"),_t=g(),Et=h("div"),Mt=h("label"),Mt.textContent="Auto-link Paths:",Zt=g(),qt=h("input"),zt=g(),Lt=h("div");for(let t=0;t<Kt.length;t+=1)Kt[t].c();Tt=g(),Qt&&Qt.c(),Bt=g(),Ot=f("svg");for(let t=0;t<te.length;t+=1)te[t].c();jt=g(),Dt=h("div");for(let t=0;t<ne.length;t+=1)ne[t].c();Ft=g(),It=h("button"),It.textContent="Add Path",St=g(),Ht=h("div"),Nt=h("div"),At=h("div"),re.c(),Rt=g(),Ut=h("input"),k(r,"class","page-title svelte-pvx5kr"),P(c,"user-select","none"),k(c,"class","svelte-pvx5kr"),P(x,"user-select","none"),k(x,"class","svelte-pvx5kr"),k(i,"class","export-import svelte-pvx5kr"),k(l,"class","header svelte-pvx5kr"),k(q,"class","section-title svelte-pvx5kr"),P(q,"user-select","none"),k(B,"for","robotUnits"),P(B,"user-select","none"),k(B,"class","svelte-pvx5kr"),D.__value="inches",D.value=D.__value,k(D,"class","svelte-pvx5kr"),F.__value="cm",F.value=F.__value,k(F,"class","svelte-pvx5kr"),k(j,"id","robotUnits"),k(j,"class","standard-input-box svelte-pvx5kr"),void 0===e[2]&&z((()=>e[28].call(j))),k(T,"class","robot-options svelte-pvx5kr"),k(H,"for","robot-length"),P(H,"user-select","none"),k(H,"class","svelte-pvx5kr"),k(X,"id","robot-length"),k(X,"class","standard-input-box svelte-pvx5kr"),k(X,"type","number"),k(X,"step","0.01"),k(S,"class","robot-options svelte-pvx5kr"),k(tt,"for","robot-width"),P(tt,"user-select","none"),k(tt,"class","svelte-pvx5kr"),k(nt,"id","robot-width"),k(nt,"class","standard-input-box svelte-pvx5kr"),k(nt,"type","number"),k(nt,"step","0.01"),k(V,"class","robot-options svelte-pvx5kr"),k(it,"id","field-options"),k(it,"class","section-title svelte-pvx5kr"),P(it,"user-select","none"),P(ut,"user-select","none"),k(ut,"class","svelte-pvx5kr"),k(vt,"class","cp-x svelte-pvx5kr"),P(vt,"user-select","none"),k(pt,"class","control-point-mini-box-x svelte-pvx5kr"),k(gt,"class","cp-x svelte-pvx5kr"),P(gt,"user-select","none"),k(xt,"class","control-point-mini-box-y svelte-pvx5kr"),k(dt,"class","control-point-mini-box svelte-pvx5kr"),k(bt,"id","advanced-options"),k(bt,"class","section-title svelte-pvx5kr"),P(bt,"user-select","none"),k(wt,"for","field-length"),P(wt,"user-select","none"),k(wt,"class","svelte-pvx5kr"),k(Ct,"id","auto-link-paths"),k(Ct,"type","checkbox"),k(Ct,"class","svelte-pvx5kr"),k(Pt,"class","advanced-options svelte-pvx5kr"),k(Mt,"for","field-length"),P(Mt,"user-select","none"),k(Mt,"class","svelte-pvx5kr"),k(qt,"id","auto-link-paths"),k(qt,"type","checkbox"),k(qt,"class","svelte-pvx5kr"),k(Et,"class","advanced-options svelte-pvx5kr"),k(Z,"class","svelte-pvx5kr"),k(M,"class","robot-options-menu svelte-pvx5kr"),k(E,"class","settings-column svelte-pvx5kr"),k(Ot,"viewBox","0 0 144 144"),k(Ot,"width","100%"),k(Ot,"height","100%"),P(Ot,"position","absolute"),P(Ot,"top","0"),P(Ot,"left","0"),k(Ot,"class","svelte-pvx5kr"),k(Lt,"class","field svelte-pvx5kr"),P(It,"user-select","none"),k(It,"class","svelte-pvx5kr"),k(Dt,"class","paths svelte-pvx5kr"),k(_,"class","container svelte-pvx5kr"),k(At,"class","play-button svelte-pvx5kr"),k(Ut,"type","range"),k(Ut,"id","scrub"),k(Ut,"min","0"),k(Ut,"max","100"),k(Ut,"step","0.001"),k(Ut,"class","svelte-pvx5kr"),k(Nt,"class","scrubbing-bar svelte-pvx5kr"),k(Ht,"class","footer svelte-pvx5kr"),k(C,"class","main-content svelte-pvx5kr"),k(n,"class","svelte-pvx5kr")},m(t,o){d(t,n,o),a(n,l),a(l,r),a(l,s),a(l,i),a(i,c),a(i,u),a(i,x),a(n,$),a(n,C),a(C,_),a(_,E),a(E,M),a(M,Z),a(Z,q),a(Z,L),a(Z,T),a(T,B),a(T,O),a(T,j),a(j,D),a(j,F),w(j,e[2],!0),a(Z,I),a(Z,S),a(S,H),a(S,A),a(S,X),y(X,e[0]),a(Z,W),a(Z,V),a(V,tt),a(V,et),a(V,nt),y(nt,e[1]),a(Z,st),a(Z,it),a(Z,ct),a(Z,ut),a(Z,at),a(Z,dt),a(dt,pt),a(pt,vt),a(pt,ht),Jt&&Jt.m(pt,null),a(dt,ft),a(dt,xt),a(xt,gt),a(xt,mt),Wt&&Wt.m(xt,null),a(Z,kt),a(Z,bt),a(Z,yt),a(Z,Pt),a(Pt,wt),a(Pt,$t),a(Pt,Ct),Ct.checked=e[10],a(Z,_t),a(Z,Et),a(Et,Mt),a(Et,Zt),a(Et,qt),qt.checked=e[11],a(_,zt),a(_,Lt);for(let t=0;t<Kt.length;t+=1)Kt[t]&&Kt[t].m(Lt,null);a(Lt,Tt),Qt&&Qt.m(Lt,null),a(Lt,Bt),a(Lt,Ot);for(let t=0;t<te.length;t+=1)te[t]&&te[t].m(Ot,null);a(_,jt),a(_,Dt);for(let t=0;t<ne.length;t+=1)ne[t]&&ne[t].m(Dt,null);a(Dt,Ft),a(Dt,It),a(C,St),a(C,Ht),a(Ht,Nt),a(Nt,At),re.m(At,null),a(Nt,Rt),a(Nt,Ut),y(Ut,e[4]),Xt||(Yt=[m(c,"click",e[18]),m(x,"click",e[17]),m(j,"change",e[28]),m(X,"input",e[29]),m(nt,"input",e[30]),m(Ct,"change",e[35]),m(qt,"change",e[36]),m(It,"click",e[49]),m(Ut,"change",e[50]),m(Ut,"input",e[50]),m(Ut,"input",e[23])],Xt=!0)},p(t,e){if(4&e[0]&&w(j,t[2]),1&e[0]&&b(X.value)!==t[0]&&y(X,t[0]),2&e[0]&&b(nt.value)!==t[1]&&y(nt,t[1]),t[5].length>0?Jt?Jt.p(t,e):(Jt=Y(t),Jt.c(),Jt.m(pt,null)):Jt&&(Jt.d(1),Jt=null),t[5].length>0?Wt?Wt.p(t,e):(Wt=J(t),Wt.c(),Wt.m(xt,null)):Wt&&(Wt.d(1),Wt=null),1024&e[0]&&(Ct.checked=t[10]),2048&e[0]&&(qt.checked=t[11]),32&e[0]){let n;for(Gt=t[5],n=0;n<Gt.length;n+=1){const o=U(t,Gt,n);Kt[n]?Kt[n].p(o,e):(Kt[n]=G(o),Kt[n].c(),Kt[n].m(Lt,Tt))}for(;n<Kt.length;n+=1)Kt[n].d(1);Kt.length=Gt.length}if(t[5].length>0?Qt?Qt.p(t,e):(Qt=K(t),Qt.c(),Qt.m(Lt,Bt)):Qt&&(Qt.d(1),Qt=null),32&e[0]){let n;for(Vt=t[5],n=0;n<Vt.length;n+=1){const o=R(t,Vt,n);te[n]?te[n].p(o,e):(te[n]=Q(o),te[n].c(),te[n].m(Ot,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=Vt.length}if(74559520&e[0]){let n;for(ee=t[5],n=0;n<ee.length;n+=1){const o=N(t,ee,n);ne[n]?ne[n].p(o,e):(ne[n]=ot(o),ne[n].c(),ne[n].m(Dt,Ft))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=ee.length}le===(le=oe(t))&&re?re.p(t,e):(re.d(1),re=le(t),re&&(re.c(),re.m(At,null))),16&e[0]&&y(Ut,t[4])},i:t,o:t,d(t){t&&p(n),Jt&&Jt.d(),Wt&&Wt.d(),v(Kt,t),Qt&&Qt.d(),v(te,t),v(ne,t),re.d(),Xt=!1,o(Yt)}}}function it(t,e){let n=[];for(let o=0;o<=1;o+=1/e)n.push(ct(t,o));return n.push(t[t.length-1]),n}function ct(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,r=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:r})}return ct(n,e)}const ut=t=>`${t.x},${144-t.y}`;function at(e,n,o){let l,s,i=function(e,n=t){let o;const l=new Set;function s(t){if(r(e,t)&&(e=t,o)){const t=!H.length;for(const t of l)t[1](),H.push(t,e);if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,i=t){const c=[r,i];return l.add(c),1===l.size&&(o=n(s)||t),r(e),()=>{l.delete(c),0===l.size&&o&&(o(),o=null)}}}}([]);c(e,i,(t=>o(5,s=t)));let a=0,d=0,p=18,v=18,h=18,f=18,x="inches";function g(t){i.update((e=>{const n=e.find((e=>e.id===t));return n&&(n.bezierCurvePoints=it(n.controlPoints,100)),e}))}function m(){i.update((t=>{const e={id:t.length,controlPoints:[],bezierCurvePoints:[],color:`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`};if(t.length>0){const n=t[t.length-1];if(n.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,r=72+Math.cos(o)*l,s=72+Math.sin(o)*l;e.controlPoints.push({x:t.x,y:t.y}),e.controlPoints.push({x:r,y:s})}}else 0===t.length&&(e.controlPoints.push({x:12,y:96}),e.controlPoints.push({x:36,y:96}));return[...t,e]}))}function k(t){i.update((e=>{const n=e.find((e=>e.id===t));if(n){const t=2*Math.random()*Math.PI,e=50;o(12,a=72+Math.cos(t)*e),o(13,d=72+Math.sin(t)*e),n.controlPoints.splice(n.controlPoints.length-1,0,{x:a,y:d}),n.bezierCurvePoints=it(n.controlPoints,100)}return e}))}function y(t,e){i.update((n=>{const o=n.find((e=>e.id===t));return o&&(o.color=e),n}))}function P(t){i.update((e=>{const n=e.filter((e=>e.id!==t));return n.forEach(((t,e)=>{t.id=e})),n}))}let w=0,$=12,C=96;function _(){let t=0;s.forEach((e=>{t+=e.bezierCurvePoints.length}));let e=0;for(let n of s){if(w<=(e+n.bezierCurvePoints.length)/t*100){const l=(w-e/t*100)/(n.bezierCurvePoints.length/t*100),r=Math.floor(l*(n.bezierCurvePoints.length-1)),s=n.bezierCurvePoints[r];s&&(o(8,$=s.x),o(9,C=s.y));break}e+=n.bezierCurvePoints.length}}let E=!1,M=!1,Z=!0,q=null,z=0,L=0,T=null,B=0,O=0,j=0,D=0,F=!0;function I(){o(3,E=!1),q&&(clearInterval(q),q=null),o(27,M=!0),Z=!1}document.addEventListener("DOMContentLoaded",(()=>{m(),g(s.length-1)})),document.addEventListener("mousedown",(t=>{const e=document.querySelector(".field").getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;let l=null,r=null,c=null,u=null;if(s.forEach((t=>{t.controlPoints.forEach(((s,i)=>{const a=s.x/144*e.width,d=e.height-s.y/144*e.height;Math.sqrt((n-a)**2+(o-d)**2)<10&&(null===l&&null===r?(l=t.id,r=i):S&&null===c&&null===u&&(c=t.id,u=i))}))})),null!==l&&null!==r){const t=t=>{const n=t.clientX-e.left,o=t.clientY-e.top,s=n/e.width*144,a=144-o/e.height*144;i.update((t=>{const e=t.find((t=>t.id===l));if(e&&(e.controlPoints[r]={x:s,y:a},e.bezierCurvePoints=it(e.controlPoints,100)),S&&null!==c&&null!==u){const e=t.find((t=>t.id===c));e&&(e.controlPoints[u]={x:s,y:a},e.bezierCurvePoints=it(e.controlPoints,100))}return t})),_()},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}));let S=!0;function N(){S&&i.update((t=>{for(let e=0;e<t.length-1;e++){const n=t[e],o=t[e+1];if(n.controlPoints.length>0&&o.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=it(o.controlPoints,100)}}return t}))}return e.$$.update=()=>{if(7&e.$$.dirty[0]){const t="inches"===x?1:2.54;o(6,h=p/t),o(7,f=v/t)}if(32&e.$$.dirty[0]&&(l=1.56*s.length),134217784&e.$$.dirty[0]&&!E&&M){const t=s.length,e=Math.floor(O/100*t),n=O/100*t-e,o=n<.5?2*n*n:(4-2*n)*n-1;w=(e+o)/t*100,j=e,z=o,_()}if(8&e.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=E?"transform 1ms linear":"none",t.style.filter=E?"blur(0.2px)":"none")}},N(),_(),g(1),[p,v,x,E,O,s,h,f,$,C,F,S,a,d,T,i,g,function(){const t=s.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color}))),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const e=t.target.files[0],n=await e.text(),o=JSON.parse(n);i.set(o.map(((t,e)=>({...t,id:e})))),o.forEach(((t,e)=>g(e))),_()},t.click()},m,k,y,P,_,function(){E||(o(3,E=!0),j=Z?0:Math.floor(w/100*s.length),D=Date.now()-(Z?0:w%(100/s.length)/100*l*1e3),M&&(D=Date.now()-z*B*1e3),q=setInterval((()=>{L=(Date.now()-D)/1e3,o(14,T=s[j]),B=l/s.length,z=L/B,o(4,O=(j+z)/s.length*100),z<.5?z*=2*z:z=(4-2*z)*z-1,w=(j+z)/s.length*100,_(),L>=B&&(j+1>=s.length?F?j=0:I():j++,D=Date.now())}),1))},I,N,M,function(){x=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),o(2,x)},function(){p=b(this.value),o(0,p)},function(){v=b(this.value),o(1,v)},function(){s[0].controlPoints[0].x=b(this.value),i.set(s)},()=>_(),function(){s[0].controlPoints[0].y=b(this.value),i.set(s)},()=>_(),function(){F=this.checked,o(10,F)},function(){S=this.checked,o(11,S)},t=>{if(0!=t.id&&t.id!=s.length-1){const e=s[t.id+1];u(i,s[t.id+1]={...s[t.id],id:t.id+1},s),u(i,s[t.id]={...e,id:t.id},s),i.set(s),N()}},t=>{if(0!=t.id&&1!=t.id){const e=s[t.id-1];u(i,s[t.id-1]={...s[t.id],id:t.id-1},s),u(i,s[t.id]={...e,id:t.id},s),i.set(s),N()}},function(t,e){t[e].color=this.value,i.set(s)},t=>y(t.id,t.color),t=>{s.length>1&&P(t.id)},t=>k(t.id),(t,e)=>{"Enter"===e.key&&k(t.id)},function(t,e,n){e[n].controlPoints[t].x=b(this.value),i.set(s)},t=>g(t.id),function(t,e,n){e[n].controlPoints[t].y=b(this.value),i.set(s)},t=>g(t.id),(t,e)=>{t.controlPoints.length>2&&(t.controlPoints.splice(e,1),g(t.id),i.set(s))},()=>{m(),g(s.length-1)},function(){O=b(this.value),o(4,O)}]}return new class extends S{constructor(t){super(),I(this,t,at,st,r,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
