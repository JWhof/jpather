var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,r;function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function a(t,e,n){return t.set(n),e}function u(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function b(){return v(" ")}function m(){return v("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t){return""===t?null:+t}function P(t,e){t.value=null==e?"":e}function $(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function w(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function C(t){const e=t.querySelector(":checked");return e&&e.__value}function k(t){r=t}function M(t){(function(){if(!r)throw new Error("Function called outside component initialization");return r})().$$.on_mount.push(t)}const _=[],A=[];let E=[];const H=[],D=Promise.resolve();let F=!1;function Z(t){E.push(t)}const q=new Set;let B=0;function I(){if(0!==B)return;const t=r;do{try{for(;B<_.length;){const t=_[B];B++,k(t),j(t.$$)}}catch(t){throw _.length=0,B=0,t}for(k(null),_.length=0,B=0;A.length;)A.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];q.has(e)||(q.add(e),e())}E.length=0}while(_.length);for(;H.length;)H.pop()();F=!1,q.clear(),k(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}const R=new Set;function T(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),E=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(_.push(t),F||(F=!0,D.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(s,i,c,a,u,p,g,f=[-1]){const h=r;k(s);const v=s.$$={fragment:null,ctx:[],props:p,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||h.$$.root};g&&g(v.root);let b=!1;if(v.ctx=c?c(s,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&u(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),b&&L(s,t)),e})):[],v.update(),b=!0,o(v.before_update),v.fragment=!!a&&a(v.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);v.fragment&&v.fragment.l(t),t.forEach(d)}else v.fragment&&v.fragment.c();i.intro&&((m=s.$$.fragment)&&m.i&&(R.delete(m),m.i(x))),function(t,n,s,i){const{fragment:r,after_update:c}=t.$$;r&&r.m(n,s),i||Z((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(Z)}(s,i.target,i.anchor,i.customElement),I()}var m,x;k(h)}class O{$destroy(){T(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const N=[];function U(e,n=t){let o;const l=new Set;function i(t){if(s(e,t)&&(e=t,o)){const t=!N.length;for(const t of l)t[1](),N.push(t,e);if(t){for(let t=0;t<N.length;t+=2)N[t][0](N[t+1]);N.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,r=t){const c=[s,r];return l.add(c),1===l.size&&(o=n(i)||t),s(e),()=>{l.delete(c),0===l.size&&o&&(o(),o=null)}}}}class X{constructor(t,e=[],n=this.getRandomBrightColor(),o="constant"){this.id=t,this.controlPoints=e,this.color=n,this.robotHeading=o,this.bezierCurvePoints=this.calculateBezier()}getRandomBrightColor(){return`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`}calculateBezier(t=100){if(this.controlPoints.length<2)return[];let e=[];for(let n=0;n<=1;n+=1/t)e.push(this.deCasteljau(this.controlPoints,n));return e.push(this.controlPoints[this.controlPoints.length-1]),e}deCasteljau(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return this.deCasteljau(n,e)}addControlPoint(t,e){this.controlPoints.push({x:t,y:e}),this.bezierCurvePoints=this.calculateBezier()}updateControlPoint(t,e,n){t>=0&&t<this.controlPoints.length&&(this.controlPoints[t]={x:e,y:n},this.bezierCurvePoints=this.calculateBezier())}setColor(t){this.color=t}setHeading(t){this.robotHeading=t}}const Y=new Map;function J(t,e){const n=JSON.stringify({t:t,controlPoints:e});return Y.has(n)||Y.set(n,G(t,e)),Y.get(n)}function G(t,e){if(2===e.length)return{x:(1-t)*e[0].x+t*e[1].x,y:(1-t)*e[0].y+t*e[1].y};if(1===e.length)return e[0];let n=[];for(let o=0;o<e.length-1;o++){let l=(1-t)*e[o].x+t*e[o+1].x,s=(1-t)*e[o].y+t*e[o+1].y;n.push({x:l,y:s})}return G(t,n)}function W(t,e){const n=function(t,e){if(e.length<2)return{x:0,y:0};let n=[];for(let t=0;t<e.length-1;t++){let o=e.length*(e[t+1].x-e[t].x),l=e.length*(e[t+1].y-e[t].y);n.push({x:o,y:l})}return J(t,n)}(t,e),o=Math.sqrt(n.x**2+n.y**2);return 0===o?{x:0,y:0}:{x:-n.y/o,y:n.x/o}}function K(t,e,n){const o=J(t,e),l=W(t,e);return{left:{x:o.x+l.x*(n/2),y:o.y+l.y*(n/2)},right:{x:o.x-l.x*(n/2),y:o.y-l.y*(n/2)}}}function Q(t,e,n){const o=t.slice();return o[10]=e[n],o[82]=e,o[83]=n,o}function V(t,e,n){const o=t.slice();return o[84]=e[n].x,o[85]=e[n].y,o[87]=n,o}function tt(t,e,n){const o=t.slice();return o[10]=e[n],o}function et(t,e,n){const o=t.slice();return o[10]=e[n],o}function nt(t,e,n){const o=t.slice();return o[10]=e[n],o}function ot(t,e,n){const o=t.slice();return o[84]=e[n].x,o[85]=e[n].y,o}function lt(t){let e,n,l;return{c(){e=f("input"),y(e,"class","start-pos-box svelte-1pbflzg"),y(e,"type","number"),y(e,"step","1")},m(o,s){p(o,e,s),P(e,t[9][0].controlPoints[0].x),n||(l=[x(e,"input",t[40]),x(e,"input",t[41])],n=!0)},p(t,n){512&n[0]&&z(e.value)!==t[9][0].controlPoints[0].x&&P(e,t[9][0].controlPoints[0].x)},d(t){t&&d(e),n=!1,o(l)}}}function st(t){let e,n,l;return{c(){e=f("input"),y(e,"class","start-pos-box svelte-1pbflzg"),y(e,"type","number"),y(e,"step","1")},m(o,s){p(o,e,s),P(e,t[9][0].controlPoints[0].y),n||(l=[x(e,"input",t[42]),x(e,"input",t[43])],n=!0)},p(t,n){512&n[0]&&z(e.value)!==t[9][0].controlPoints[0].y&&P(e,t[9][0].controlPoints[0].y)},d(t){t&&d(e),n=!1,o(l)}}}function it(t){let e,n,o;return{c(){e=f("div"),n=f("div"),o=b(),y(n,"class","point svelte-1pbflzg"),$(n,"left",t[84]/144*100+"%"),$(n,"bottom",t[85]/144*100+"%"),$(n,"background",t[10].color),y(e,"class","hover-point svelte-1pbflzg")},m(t,l){p(t,e,l),u(e,n),u(e,o)},p(t,e){512&e[0]&&$(n,"left",t[84]/144*100+"%"),512&e[0]&&$(n,"bottom",t[85]/144*100+"%"),512&e[0]&&$(n,"background",t[10].color)},d(t){t&&d(e)}}}function rt(t){let e,n=t[10].controlPoints,o=[];for(let e=0;e<n.length;e+=1)o[e]=it(ot(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);p(t,e,n)},p(t,l){if(512&l[0]){let s;for(n=t[10].controlPoints,s=0;s<n.length;s+=1){const i=ot(t,n,s);o[s]?o[s].p(i,l):(o[s]=it(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){g(o,t),t&&d(e)}}}function ct(t){let e,n;return{c(){var o,l;e=f("img"),o=e.src,l=n="./assets/robot.png",i||(i=document.createElement("a")),i.href=l,o!==i.href&&y(e,"src","./assets/robot.png"),y(e,"alt","Robot"),y(e,"id","robot"),$(e,"width",t[3]/144*100+"%"),$(e,"height",t[2]/144*100+"%"),$(e,"left",t[11]/144*100+"%"),$(e,"bottom",t[12]/144*100+"%"),$(e,"user-select","none"),$(e,"position","absolute"),y(e,"class","svelte-1pbflzg")},m(t,n){p(t,e,n)},p(t,n){8&n[0]&&$(e,"width",t[3]/144*100+"%"),4&n[0]&&$(e,"height",t[2]/144*100+"%"),2048&n[0]&&$(e,"left",t[11]/144*100+"%"),4096&n[0]&&$(e,"bottom",t[12]/144*100+"%")},d(t){t&&d(e)}}}function at(t){let e,n=t[8],o=[];for(let e=0;e<n.length;e+=1)o[e]=pt(et(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);p(t,e,n)},p(t,l){if(256&l[0]){let s;for(n=t[8],s=0;s<n.length;s+=1){const i=et(t,n,s);o[s]?o[s].p(i,l):(o[s]=pt(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){g(o,t),t&&d(e)}}}function ut(t){let e,n,o,l,s,i,r,c;return{c(){e=h("polygon"),o=h("path"),i=h("path"),y(e,"points",n=t[10].left.map(_t).join(" ")+" "+t[10].right.reverse().map(At).join(" ")),y(e,"fill","rgba(255, 255, 255, 0.2)"),y(e,"stroke","none"),y(e,"class","svelte-1pbflzg"),y(o,"d",l="M "+t[10].left.map(Et).join(" ")),y(o,"stroke",s=t[10].color),y(o,"fill","none"),y(o,"stroke-width","1"),y(o,"opacity","0.4"),y(o,"class","svelte-1pbflzg"),y(i,"d",r="M "+t[10].right.map(Ht).join(" ")),y(i,"stroke",c=t[10].color),y(i,"fill","none"),y(i,"stroke-width","1"),y(i,"opacity","0.4"),y(i,"class","svelte-1pbflzg")},m(t,n){p(t,e,n),p(t,o,n),p(t,i,n)},p(t,a){256&a[0]&&n!==(n=t[10].left.map(_t).join(" ")+" "+t[10].right.reverse().map(At).join(" "))&&y(e,"points",n),256&a[0]&&l!==(l="M "+t[10].left.map(Et).join(" "))&&y(o,"d",l),256&a[0]&&s!==(s=t[10].color)&&y(o,"stroke",s),256&a[0]&&r!==(r="M "+t[10].right.map(Ht).join(" "))&&y(i,"d",r),256&a[0]&&c!==(c=t[10].color)&&y(i,"stroke",c)},d(t){t&&d(e),t&&d(o),t&&d(i)}}}function pt(t){let e,n=t[10].left.length>0&&t[10].right.length>0&&ut(t);return{c(){n&&n.c(),e=m()},m(t,o){n&&n.m(t,o),p(t,e,o)},p(t,o){t[10].left.length>0&&t[10].right.length>0?n?n.p(t,o):(n=ut(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&d(e)}}}function dt(t){let e,n,o;return{c(){e=h("path"),y(e,"d",n="M "+t[10].main.map(Dt).join(" ")),y(e,"stroke",o=t[10].color),y(e,"fill","none"),y(e,"stroke-width","1"),y(e,"class","svelte-1pbflzg")},m(t,n){p(t,e,n)},p(t,l){256&l[0]&&n!==(n="M "+t[10].main.map(Dt).join(" "))&&y(e,"d",n),256&l[0]&&o!==(o=t[10].color)&&y(e,"stroke",o)},d(t){t&&d(e)}}}function gt(t){let e,n=t[10].main.length>0&&dt(t);return{c(){n&&n.c(),e=m()},m(t,o){n&&n.m(t,o),p(t,e,o)},p(t,o){t[10].main.length>0?n?n.p(t,o):(n=dt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&d(e)}}}function ft(t){let e,n,o,l,s;return{c(){e=f("label"),n=v("Control Point "),o=v(t[87]),l=v(":"),y(e,"for",s="control-point-"+t[10].id+"-"+t[87]),$(e,"user-select","none"),y(e,"class","svelte-1pbflzg")},m(t,s){p(t,e,s),u(e,n),u(e,o),u(e,l)},p(t,n){512&n[0]&&s!==(s="control-point-"+t[10].id+"-"+t[87])&&y(e,"for",s)},d(t){t&&d(e)}}}function ht(t){let e,n,o;return{c(){e=f("label"),n=v("Endpoint:"),y(e,"for",o="control-point-"+t[10].id+"-"+t[87]),$(e,"user-select","none"),y(e,"class","svelte-1pbflzg")},m(t,o){p(t,e,o),u(e,n)},p(t,n){512&n[0]&&o!==(o="control-point-"+t[10].id+"-"+t[87])&&y(e,"for",o)},d(t){t&&d(e)}}}function vt(t){let e,n,l,s,i,r,c,a,g,h,m,z,P,C,k,M,_,A,E,H,D,F,q,B,I,j;function R(...e){return t[60](t[10],t[82],t[83],...e)}function T(...e){return t[61](t[10],t[82],t[83],...e)}function L(){t[62].call(H,t[82],t[83])}function S(){return t[63](t[10])}function O(t,e){return"linear"===t[10].robotHeading?yt:"tangential"===t[10].robotHeading?xt:"constant"===t[10].robotHeading?mt:void 0}let N=O(t),U=N&&N(t);return{c(){e=f("div"),n=f("div"),l=f("label"),s=v("X:"),r=b(),c=f("input"),h=b(),m=f("div"),z=f("label"),P=v("Y:"),k=b(),M=f("input"),E=b(),H=f("select"),D=f("option"),D.textContent="Constant",F=f("option"),F.textContent="Tangential",q=f("option"),q.textContent="Linear",B=b(),U&&U.c(),y(l,"class","cp-x svelte-1pbflzg"),y(l,"for",i="control-point-"+t[10].id+"-"+t[87]),$(l,"user-select","none"),y(c,"id",a="control-point-"+t[10].id+"-"+t[87]),y(c,"class","standard-input-box svelte-1pbflzg"),y(c,"type","number"),y(c,"step","1"),c.value=g=t[10].controlPoints[t[10].controlPoints.length-1].x,y(n,"class","control-point-mini-box-x svelte-1pbflzg"),y(z,"class","cp-y svelte-1pbflzg"),y(z,"for",C="control-point-"+t[10].id+"-"+t[87]+"-y"),$(z,"user-select","none"),y(M,"id",_="control-point-"+t[10].id+"-"+t[87]+"-y"),y(M,"class","standard-input-box svelte-1pbflzg"),y(M,"type","number"),y(M,"step","1"),M.value=A=t[10].controlPoints[t[10].controlPoints.length-1].y,y(m,"class","control-point-mini-box-y svelte-1pbflzg"),D.__value="constant",D.value=D.__value,y(D,"class","svelte-1pbflzg"),F.__value="tangential",F.value=F.__value,y(F,"class","svelte-1pbflzg"),q.__value="linear",q.value=q.__value,y(q,"class","svelte-1pbflzg"),y(H,"id","robot-heading"),y(H,"class","standard-input-box svelte-1pbflzg"),void 0===t[10].robotHeading&&Z(L),y(e,"class","control-point-mini-box svelte-1pbflzg")},m(o,i){p(o,e,i),u(e,n),u(n,l),u(l,s),u(n,r),u(n,c),u(e,h),u(e,m),u(m,z),u(z,P),u(m,k),u(m,M),u(e,E),u(e,H),u(H,D),u(H,F),u(H,q),w(H,t[10].robotHeading,!0),u(e,B),U&&U.m(e,null),I||(j=[x(c,"input",R),x(M,"input",T),x(H,"change",L),x(H,"change",S)],I=!0)},p(n,o){t=n,512&o[0]&&i!==(i="control-point-"+t[10].id+"-"+t[87])&&y(l,"for",i),512&o[0]&&a!==(a="control-point-"+t[10].id+"-"+t[87])&&y(c,"id",a),512&o[0]&&g!==(g=t[10].controlPoints[t[10].controlPoints.length-1].x)&&c.value!==g&&(c.value=g),512&o[0]&&C!==(C="control-point-"+t[10].id+"-"+t[87]+"-y")&&y(z,"for",C),512&o[0]&&_!==(_="control-point-"+t[10].id+"-"+t[87]+"-y")&&y(M,"id",_),512&o[0]&&A!==(A=t[10].controlPoints[t[10].controlPoints.length-1].y)&&M.value!==A&&(M.value=A),512&o[0]&&w(H,t[10].robotHeading),N===(N=O(t))&&U?U.p(t,o):(U&&U.d(1),U=N&&N(t),U&&(U.c(),U.m(e,null)))},d(t){t&&d(e),U&&U.d(),I=!1,o(j)}}}function bt(t){let e,n,l,s,i,r,c,a,g,m,z,P,w,C,k,M,_,A,E;function H(...e){return t[57](t[10],t[87],t[82],t[83],...e)}function D(...e){return t[58](t[10],t[87],t[82],t[83],...e)}let F=t[87]>0&&function(t){let e,n,o,l;function s(){return t[59](t[10],t[87])}return{c(){e=h("svg"),n=h("path"),y(n,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),y(n,"class","svelte-1pbflzg"),y(e,"xmlns","http://www.w3.org/2000/svg"),y(e,"height","24px"),y(e,"viewBox","0 -960 960 960"),y(e,"width","24px"),y(e,"fill","#FF474D"),$(e,"cursor","pointer"),y(e,"class","svelte-1pbflzg")},m(t,i){p(t,e,i),u(e,n),o||(l=x(e,"click",s),o=!0)},p(e,n){t=e},d(t){t&&d(e),o=!1,l()}}}(t);return{c(){e=f("div"),n=f("div"),l=f("label"),s=v("X:"),r=b(),c=f("input"),g=b(),m=f("div"),z=f("label"),P=v("Y:"),C=b(),k=f("input"),_=b(),F&&F.c(),y(l,"class","cp-x svelte-1pbflzg"),y(l,"for",i="control-point-"+t[10].id+"-"+t[87]),$(l,"user-select","none"),y(c,"id","cp-input"),y(c,"class","standard-input-box svelte-1pbflzg"),y(c,"type","number"),y(c,"step","1"),c.value=a=t[10].controlPoints[t[87]].x,y(n,"class","control-point-mini-box-x svelte-1pbflzg"),y(z,"class","cp-y svelte-1pbflzg"),y(z,"for",w="control-point-"+t[10].id+"-"+t[87]+"-y"),$(z,"user-select","none"),y(k,"id","cp-input"),y(k,"class","standard-input-box svelte-1pbflzg"),y(k,"type","number"),y(k,"step","1"),k.value=M=t[10].controlPoints[t[87]].y,y(m,"class","control-point-mini-box-y svelte-1pbflzg"),y(e,"class","control-point-mini-box svelte-1pbflzg")},m(t,o){p(t,e,o),u(e,n),u(n,l),u(l,s),u(n,r),u(n,c),u(e,g),u(e,m),u(m,z),u(z,P),u(m,C),u(m,k),u(e,_),F&&F.m(e,null),A||(E=[x(c,"input",H),x(k,"input",D)],A=!0)},p(e,n){t=e,512&n[0]&&i!==(i="control-point-"+t[10].id+"-"+t[87])&&y(l,"for",i),512&n[0]&&a!==(a=t[10].controlPoints[t[87]].x)&&c.value!==a&&(c.value=a),512&n[0]&&w!==(w="control-point-"+t[10].id+"-"+t[87]+"-y")&&y(z,"for",w),512&n[0]&&M!==(M=t[10].controlPoints[t[87]].y)&&k.value!==M&&(k.value=M),t[87]>0&&F.p(t,n)},d(t){t&&d(e),F&&F.d(),A=!1,o(E)}}}function mt(t){let e,n,l,s;function i(){t[70].call(n,t[82],t[83])}return{c(){e=f("div"),n=f("input"),y(n,"id","constant-angle"),y(n,"class","standard-input-box svelte-1pbflzg"),y(n,"type","number"),y(n,"step","0.01"),y(e,"class","control-point-mini-box svelte-1pbflzg")},m(o,r){p(o,e,r),u(e,n),P(n,t[10].constantAngleDegrees),l||(s=[x(n,"input",i),x(n,"input",t[71])],l=!0)},p(e,o){t=e,512&o[0]&&z(n.value)!==t[10].constantAngleDegrees&&P(n,t[10].constantAngleDegrees)},d(t){t&&d(e),l=!1,o(s)}}}function xt(t){let e,n,l,s,i,r;function c(){t[68].call(s,t[82],t[83])}return{c(){e=f("div"),n=f("label"),n.textContent="Reverse:",l=b(),s=f("input"),y(n,"for","reverse"),$(n,"user-select","none"),y(n,"class","svelte-1pbflzg"),y(s,"id","reverse"),y(s,"type","checkbox"),y(s,"class","svelte-1pbflzg"),y(e,"class","control-point-mini-box svelte-1pbflzg")},m(o,a){p(o,e,a),u(e,n),u(e,l),u(e,s),s.checked=t[10].reverse,i||(r=[x(s,"change",c),x(s,"input",t[69])],i=!0)},p(e,n){t=e,512&n[0]&&(s.checked=t[10].reverse)},d(t){t&&d(e),i=!1,o(r)}}}function yt(t){let e,n,l,s,i,r,c;function a(){t[64].call(n,t[82],t[83])}function g(){t[66].call(i,t[82],t[83])}return{c(){e=f("div"),n=f("input"),l=b(),s=f("div"),i=f("input"),y(n,"id","start-angle"),y(n,"class","standard-input-box svelte-1pbflzg"),y(n,"type","number"),y(n,"step","0.01"),y(e,"class","control-point-mini-box svelte-1pbflzg"),y(i,"id","end-angle"),y(i,"class","standard-input-box svelte-1pbflzg"),y(i,"type","number"),y(i,"step","0.01"),y(s,"class","control-point-mini-box svelte-1pbflzg")},m(o,d){p(o,e,d),u(e,n),P(n,t[10].startAngleDegrees),p(o,l,d),p(o,s,d),u(s,i),P(i,t[10].endAngleDegrees),r||(c=[x(n,"input",a),x(n,"input",t[65]),x(i,"input",g),x(i,"input",t[67])],r=!0)},p(e,o){t=e,512&o[0]&&z(n.value)!==t[10].startAngleDegrees&&P(n,t[10].startAngleDegrees),512&o[0]&&z(i.value)!==t[10].endAngleDegrees&&P(i,t[10].endAngleDegrees)},d(t){t&&d(e),t&&d(l),t&&d(s),r=!1,o(c)}}}function zt(t){let e,n;function o(t,e){return 0==t[87]?ht:t[87]>0&&t[87]!=t[10].controlPoints.length-1?ft:void 0}let l=o(t),s=l&&l(t);function i(t,e){return t[87]>0&&t[87]!=t[10].controlPoints.length-1?bt:0==t[87]?vt:void 0}let r=i(t),c=r&&r(t);return{c(){e=f("div"),s&&s.c(),n=b(),c&&c.c(),y(e,"class","control-point-box svelte-1pbflzg")},m(t,o){p(t,e,o),s&&s.m(e,null),u(e,n),c&&c.m(e,null)},p(t,a){l===(l=o(t))&&s?s.p(t,a):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(e,n))),r===(r=i(t))&&c?c.p(t,a):(c&&c.d(1),c=r&&r(t),c&&(c.c(),c.m(e,null)))},d(t){t&&d(e),s&&s.d(),c&&c.d()}}}function Pt(t){let e,n,l,s,i,r,c,a,m,z,w,C,k,M,_,A,E,H,D,F,Z,q,B,I,j,R,T,L,S=t[10].id+1+"";function O(){return t[50](t[10])}function N(){return t[51](t[10])}function U(){t[52].call(C,t[82],t[83])}function X(){return t[53](t[10])}function Y(){return t[54](t[10])}function J(){return t[55](t[10])}function G(...e){return t[56](t[10],...e)}let W=t[10].controlPoints,K=[];for(let e=0;e<W.length;e+=1)K[e]=zt(V(t,W,e));return{c(){e=f("div"),n=f("div"),l=f("div"),s=h("svg"),i=h("path"),c=b(),a=h("svg"),m=h("path"),w=b(),C=f("input"),k=b(),M=f("p"),_=v("Path "),A=v(S),E=b(),H=f("div"),D=h("svg"),F=h("path"),q=b(),B=h("svg"),I=h("path"),j=b(),R=f("div");for(let t=0;t<K.length;t+=1)K[t].c();y(i,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),y(i,"class","svelte-1pbflzg"),y(s,"xmlns","http://www.w3.org/2000/svg"),y(s,"height","24px"),y(s,"viewBox","0 -960 960 960"),y(s,"width","24px"),y(s,"fill",r=0!=t[10].id&&t[10].id!=t[9].length-1?"black":"gray"),$(s,"cursor",0!=t[10].id&&t[10].id!=t[9].length-1?"pointer":"default"),y(s,"class","svelte-1pbflzg"),y(m,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),y(m,"class","svelte-1pbflzg"),y(a,"xmlns","http://www.w3.org/2000/svg"),y(a,"height","24px"),y(a,"viewBox","0 -960 960 960"),y(a,"width","24px"),y(a,"fill",z=0!=t[10].id&&1!=t[10].id?"black":"gray"),$(a,"cursor",0!=t[10].id&&1!=t[10].id?"pointer":"default"),y(a,"class","svelte-1pbflzg"),y(C,"type","color"),y(C,"class","color-circle svelte-1pbflzg"),$(C,"background-color",t[10].color),y(M,"class","path-title svelte-1pbflzg"),$(M,"user-select","none"),y(l,"class","path-and-color svelte-1pbflzg"),y(F,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),y(F,"class","svelte-1pbflzg"),y(D,"xmlns","http://www.w3.org/2000/svg"),y(D,"height","24px"),y(D,"viewBox","0 -960 960 960"),y(D,"width","24px"),y(D,"fill",Z=t[9].length>1?"#FF474D":"gray"),$(D,"cursor",t[9].length>1?"pointer":"default"),y(D,"class","svelte-1pbflzg"),y(I,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),y(I,"class","svelte-1pbflzg"),y(B,"xmlns","http://www.w3.org/2000/svg"),y(B,"height","24px"),y(B,"viewBox","0 -960 960 960"),y(B,"width","24px"),y(B,"fill","#90EE90"),$(B,"cursor","pointer"),y(B,"class","svelte-1pbflzg"),y(H,"class","add-and-remove svelte-1pbflzg"),y(n,"class","path-header svelte-1pbflzg"),y(R,"class","path-control-points svelte-1pbflzg"),y(e,"class","path svelte-1pbflzg"),$(e,"border-color",t[10].color)},m(o,r){p(o,e,r),u(e,n),u(n,l),u(l,s),u(s,i),u(l,c),u(l,a),u(a,m),u(l,w),u(l,C),P(C,t[10].color),u(l,k),u(l,M),u(M,_),u(M,A),u(n,E),u(n,H),u(H,D),u(D,F),u(H,q),u(H,B),u(B,I),u(e,j),u(e,R);for(let t=0;t<K.length;t+=1)K[t]&&K[t].m(R,null);T||(L=[x(s,"click",O),x(a,"click",N),x(C,"input",U),x(C,"input",X),x(D,"click",Y),x(B,"click",J),x(B,"keydown",G)],T=!0)},p(n,o){if(t=n,512&o[0]&&r!==(r=0!=t[10].id&&t[10].id!=t[9].length-1?"black":"gray")&&y(s,"fill",r),512&o[0]&&$(s,"cursor",0!=t[10].id&&t[10].id!=t[9].length-1?"pointer":"default"),512&o[0]&&z!==(z=0!=t[10].id&&1!=t[10].id?"black":"gray")&&y(a,"fill",z),512&o[0]&&$(a,"cursor",0!=t[10].id&&1!=t[10].id?"pointer":"default"),512&o[0]&&$(C,"background-color",t[10].color),512&o[0]&&P(C,t[10].color),512&o[0]&&S!==(S=t[10].id+1+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(A,S),512&o[0]&&Z!==(Z=t[9].length>1?"#FF474D":"gray")&&y(D,"fill",Z),512&o[0]&&$(D,"cursor",t[9].length>1?"pointer":"default"),1077936642&o[0]){let e;for(W=t[10].controlPoints,e=0;e<W.length;e+=1){const n=V(t,W,e);K[e]?K[e].p(n,o):(K[e]=zt(n),K[e].c(),K[e].m(R,null))}for(;e<K.length;e+=1)K[e].d(1);K.length=W.length}512&o[0]&&$(e,"border-color",t[10].color)},d(t){t&&d(e),g(K,t),T=!1,o(L)}}}function $t(e){let n,o,l,s;return{c(){n=h("svg"),o=h("path"),y(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),y(o,"class","svelte-1pbflzg"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"height","24px"),y(n,"viewBox","0 -960 960 960"),y(n,"width","24px"),y(n,"fill","#FF474D"),y(n,"class","svelte-1pbflzg")},m(t,i){p(t,n,i),u(n,o),l||(s=x(n,"click",e[31]),l=!0)},p:t,d(t){t&&d(n),l=!1,s()}}}function wt(e){let n,o,l,s;return{c(){n=h("svg"),o=h("path"),y(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),y(o,"class","svelte-1pbflzg"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"height","24px"),y(n,"viewBox","0 -960 960 960"),y(n,"width","24px"),y(n,"fill","#90EE90"),y(n,"class","svelte-1pbflzg")},m(t,i){p(t,n,i),u(n,o),l||(s=x(n,"click",e[29]),l=!0)},p:t,d(t){t&&d(n),l=!1,s()}}}function Ct(e){let n,l,s,i,r,c,a,v,C,k,M,_,A,E,H,D,F,q,B,I,j,R,T,L,S,O,N,U,X,Y,J,G,W,K,V,et,ot,it,ut,pt,dt,ft,ht,vt,bt,mt,xt,yt,zt,Ct,kt,Mt,_t,At,Et,Ht,Dt,Ft,Zt,qt,Bt,It,jt,Rt,Tt,Lt,St,Ot,Nt,Ut,Xt,Yt,Jt,Gt,Wt,Kt,Qt,Vt,te,ee,ne,oe,le,se,ie,re,ce,ae,ue,pe,de,ge,fe,he,ve,be,me,xe,ye,ze,Pe,$e,we,Ce,ke,Me,_e,Ae,Ee,He,De,Fe,Ze,qe,Be,Ie,je,Re=e[9].length>0&&lt(e),Te=e[9].length>0&&st(e),Le=e[9],Se=[];for(let t=0;t<Le.length;t+=1)Se[t]=rt(nt(e,Le,t));let Oe=e[9].length>0&&ct(e),Ne=e[19]&&at(e),Ue=e[8],Xe=[];for(let t=0;t<Ue.length;t+=1)Xe[t]=gt(tt(e,Ue,t));let Ye=e[9],Je=[];for(let t=0;t<Ye.length;t+=1)Je[t]=Pt(Q(e,Ye,t));function Ge(t,e){return t[6]?$t:wt}let We=Ge(e),Ke=We(e);return{c(){n=f("div"),l=f("div"),s=f("h1"),s.textContent="JPather",i=b(),r=f("div"),c=h("svg"),a=h("path"),v=b(),C=f("button"),C.textContent="Import Control Points",k=b(),M=f("button"),M.textContent="Export Control Points",_=b(),A=f("div"),E=f("div"),H=f("div"),D=f("div"),F=f("div"),q=f("h2"),q.textContent="Robot Options",B=b(),I=f("div"),j=f("label"),j.textContent="Units:",R=b(),T=f("select"),L=f("option"),L.textContent="Inches",S=f("option"),S.textContent="Centimeters",O=b(),N=f("div"),U=f("label"),U.textContent="Robot Length:",X=b(),Y=f("input"),J=b(),G=f("div"),W=f("label"),W.textContent="Robot Width:",K=b(),V=f("input"),et=b(),ot=f("h2"),ot.textContent="Field Options",it=b(),ut=f("div"),pt=f("label"),pt.textContent="Starting Position:",dt=b(),ft=f("div"),ht=f("div"),vt=f("label"),vt.textContent="X:",bt=b(),Re&&Re.c(),mt=b(),xt=f("div"),yt=f("label"),yt.textContent="Y:",zt=b(),Te&&Te.c(),Ct=b(),kt=f("label"),kt.textContent="Live Position:",Mt=b(),_t=f("div"),At=f("div"),Et=f("div"),Ht=f("label"),Ht.textContent="X:",Dt=b(),Ft=f("input"),Zt=b(),qt=f("div"),Bt=f("label"),Bt.textContent="Y:",It=b(),jt=f("input"),Rt=b(),Tt=f("div"),Lt=f("label"),Lt.textContent="θ:",St=b(),Ot=f("input"),Ut=b(),Xt=f("div"),Yt=f("label"),Yt.textContent="Current Path:",Jt=b(),Gt=f("input"),Kt=b(),Qt=f("h2"),Qt.textContent="Advanced Options",Vt=b(),te=f("div"),ee=f("label"),ee.textContent="Show Robot Hitbox:",ne=b(),oe=f("input"),le=b(),se=f("div"),ie=f("label"),ie.textContent="Infinite Path Looping:",re=b(),ce=f("input"),ae=b(),ue=f("div"),pe=f("label"),pe.textContent="Auto-link Paths:",de=b(),ge=f("input"),fe=b(),he=f("div"),ve=f("label"),ve.textContent="Rotational Units:",be=b(),me=f("select"),xe=f("option"),xe.textContent="Degrees",ye=f("option"),ye.textContent="Radians",ze=b(),Pe=f("div");for(let t=0;t<Se.length;t+=1)Se[t].c();$e=b(),Oe&&Oe.c(),we=b(),Ce=h("svg"),Ne&&Ne.c(),ke=m();for(let t=0;t<Xe.length;t+=1)Xe[t].c();Me=b(),_e=f("div");for(let t=0;t<Je.length;t+=1)Je[t].c();Ae=b(),Ee=f("button"),Ee.textContent="Add Path",He=b(),De=f("div"),Fe=f("div"),Ze=f("div"),Ke.c(),qe=b(),Be=f("input"),y(s,"class","page-title svelte-1pbflzg"),y(a,"d","M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z"),y(a,"class","svelte-1pbflzg"),y(c,"id","code-window-btn"),y(c,"xmlns","http://www.w3.org/2000/svg"),y(c,"height","24px"),y(c,"viewBox","0 -960 960 960"),y(c,"width","24px"),y(c,"fill","black"),y(c,"class","svelte-1pbflzg"),$(C,"user-select","none"),y(C,"class","svelte-1pbflzg"),$(M,"user-select","none"),y(M,"class","svelte-1pbflzg"),y(r,"class","export-import svelte-1pbflzg"),y(l,"class","header svelte-1pbflzg"),y(q,"class","section-title svelte-1pbflzg"),$(q,"user-select","none"),y(j,"for","robotUnits"),$(j,"user-select","none"),y(j,"class","svelte-1pbflzg"),L.__value="inches",L.value=L.__value,y(L,"class","svelte-1pbflzg"),S.__value="cm",S.value=S.__value,y(S,"class","svelte-1pbflzg"),y(T,"id","robotUnits"),y(T,"class","standard-input-box svelte-1pbflzg"),void 0===e[4]&&Z((()=>e[35].call(T))),y(I,"class","robot-options svelte-1pbflzg"),y(U,"for","robot-length"),$(U,"user-select","none"),y(U,"class","svelte-1pbflzg"),y(Y,"id","robot-length"),y(Y,"class","standard-input-box svelte-1pbflzg"),y(Y,"type","number"),y(Y,"step","1"),y(N,"class","robot-options svelte-1pbflzg"),y(W,"for","robot-width"),$(W,"user-select","none"),y(W,"class","svelte-1pbflzg"),y(V,"id","robot-width"),y(V,"class","standard-input-box svelte-1pbflzg"),y(V,"type","number"),y(V,"step","1"),y(G,"class","robot-options svelte-1pbflzg"),y(ot,"id","field-options"),y(ot,"class","section-title svelte-1pbflzg"),$(ot,"user-select","none"),y(pt,"class","adv-options svelte-1pbflzg"),$(pt,"user-select","none"),y(vt,"class","cp-x svelte-1pbflzg"),$(vt,"user-select","none"),y(ht,"class","control-point-mini-box-x svelte-1pbflzg"),y(yt,"class","cp-x svelte-1pbflzg"),$(yt,"user-select","none"),y(xt,"class","control-point-mini-box-y svelte-1pbflzg"),y(ft,"class","control-point-mini-box svelte-1pbflzg"),y(ut,"class","start-pos-container svelte-1pbflzg"),y(kt,"class","adv-options svelte-1pbflzg"),$(kt,"user-select","none"),y(Ht,"class","cp-x svelte-1pbflzg"),$(Ht,"user-select","none"),y(Ft,"class","start-pos-box svelte-1pbflzg"),y(Ft,"type","number"),y(Ft,"step","0.001"),Ft.readOnly=!0,y(Et,"class","control-point-mini-box-x svelte-1pbflzg"),y(Bt,"class","cp-y svelte-1pbflzg"),$(Bt,"user-select","none"),y(jt,"class","start-pos-box svelte-1pbflzg"),y(jt,"type","number"),y(jt,"step","0.001"),jt.readOnly=!0,y(qt,"class","control-point-mini-box-y svelte-1pbflzg"),y(Lt,"class","cp-heading svelte-1pbflzg"),$(Lt,"user-select","none"),y(Ot,"class","start-pos-box svelte-1pbflzg"),y(Ot,"type","number"),y(Ot,"step","0.001"),Ot.value=Nt=Math.round(e[15]),Ot.readOnly=!0,y(Tt,"class","control-point-mini-box-heading svelte-1pbflzg"),y(At,"class","cp-x-y svelte-1pbflzg"),y(Yt,"class","cp-x svelte-1pbflzg"),$(Yt,"user-select","none"),$(Yt,"font-weight","600"),y(Gt,"class","start-pos-box svelte-1pbflzg"),y(Gt,"type","number"),y(Gt,"step","0.001"),Gt.value=Wt=e[13]+1,Gt.readOnly=!0,y(Xt,"class","control-point-mini-box-x current-path svelte-1pbflzg"),y(_t,"id","live-pos"),y(_t,"class","control-point-mini-box svelte-1pbflzg"),y(Qt,"id","advanced-options"),y(Qt,"class","section-title svelte-1pbflzg"),$(Qt,"user-select","none"),y(ee,"for","field-length"),$(ee,"user-select","none"),y(ee,"class","svelte-1pbflzg"),y(oe,"id","auto-link-paths"),y(oe,"type","checkbox"),y(oe,"class","svelte-1pbflzg"),y(te,"class","advanced-options svelte-1pbflzg"),y(ie,"for","field-length"),$(ie,"user-select","none"),y(ie,"class","svelte-1pbflzg"),y(ce,"id","auto-link-paths"),y(ce,"type","checkbox"),y(ce,"class","svelte-1pbflzg"),y(se,"class","advanced-options svelte-1pbflzg"),y(pe,"for","field-length"),$(pe,"user-select","none"),y(pe,"class","svelte-1pbflzg"),y(ge,"id","auto-link-paths"),y(ge,"type","checkbox"),y(ge,"class","svelte-1pbflzg"),y(ue,"class","advanced-options svelte-1pbflzg"),y(ve,"for","rotationUnits"),$(ve,"user-select","none"),y(ve,"class","svelte-1pbflzg"),xe.__value="degrees",xe.value=xe.__value,y(xe,"class","svelte-1pbflzg"),ye.__value="radians",ye.value=ye.__value,y(ye,"class","svelte-1pbflzg"),y(me,"id","rotationUnits"),y(me,"class","standard-input-box svelte-1pbflzg"),void 0===e[5]&&Z((()=>e[49].call(me))),y(he,"class","advanced-options svelte-1pbflzg"),y(F,"class","svelte-1pbflzg"),y(D,"class","robot-options-menu svelte-1pbflzg"),y(H,"class","settings-column svelte-1pbflzg"),y(Ce,"viewBox","0 0 144 144"),y(Ce,"width","100%"),y(Ce,"height","100%"),$(Ce,"position","absolute"),$(Ce,"top","0"),$(Ce,"left","0"),y(Ce,"class","svelte-1pbflzg"),y(Pe,"class","field svelte-1pbflzg"),$(Ee,"user-select","none"),y(Ee,"class","svelte-1pbflzg"),y(_e,"class","paths svelte-1pbflzg"),y(E,"class","container svelte-1pbflzg"),y(Ze,"class","play-button svelte-1pbflzg"),y(Be,"type","range"),y(Be,"id","scrub"),y(Be,"min","0"),y(Be,"max","100"),y(Be,"step","0.001"),y(Be,"class","svelte-1pbflzg"),y(Fe,"class","scrubbing-bar svelte-1pbflzg"),y(De,"class","footer svelte-1pbflzg"),y(A,"class","main-content svelte-1pbflzg"),y(n,"class","svelte-1pbflzg")},m(t,o){p(t,n,o),u(n,l),u(l,s),u(l,i),u(l,r),u(r,c),u(c,a),u(r,v),u(r,C),u(r,k),u(r,M),u(n,_),u(n,A),u(A,E),u(E,H),u(H,D),u(D,F),u(F,q),u(F,B),u(F,I),u(I,j),u(I,R),u(I,T),u(T,L),u(T,S),w(T,e[4],!0),u(F,O),u(F,N),u(N,U),u(N,X),u(N,Y),P(Y,e[18]),u(F,J),u(F,G),u(G,W),u(G,K),u(G,V),P(V,e[17]),u(F,et),u(F,ot),u(F,it),u(F,ut),u(ut,pt),u(ut,dt),u(ut,ft),u(ft,ht),u(ht,vt),u(ht,bt),Re&&Re.m(ht,null),u(ft,mt),u(ft,xt),u(xt,yt),u(xt,zt),Te&&Te.m(xt,null),u(F,Ct),u(F,kt),u(F,Mt),u(F,_t),u(_t,At),u(At,Et),u(Et,Ht),u(Et,Dt),u(Et,Ft),P(Ft,e[11]),u(At,Zt),u(At,qt),u(qt,Bt),u(qt,It),u(qt,jt),P(jt,e[12]),u(At,Rt),u(At,Tt),u(Tt,Lt),u(Tt,St),u(Tt,Ot),u(_t,Ut),u(_t,Xt),u(Xt,Yt),u(Xt,Jt),u(Xt,Gt),u(F,Kt),u(F,Qt),u(F,Vt),u(F,te),u(te,ee),u(te,ne),u(te,oe),oe.checked=e[19],u(F,le),u(F,se),u(se,ie),u(se,re),u(se,ce),ce.checked=e[14],u(F,ae),u(F,ue),u(ue,pe),u(ue,de),u(ue,ge),ge.checked=e[16],u(F,fe),u(F,he),u(he,ve),u(he,be),u(he,me),u(me,xe),u(me,ye),w(me,e[5],!0),u(E,ze),u(E,Pe);for(let t=0;t<Se.length;t+=1)Se[t]&&Se[t].m(Pe,null);u(Pe,$e),Oe&&Oe.m(Pe,null),u(Pe,we),u(Pe,Ce),Ne&&Ne.m(Ce,null),u(Ce,ke);for(let t=0;t<Xe.length;t+=1)Xe[t]&&Xe[t].m(Ce,null);u(E,Me),u(E,_e);for(let t=0;t<Je.length;t+=1)Je[t]&&Je[t].m(_e,null);u(_e,Ae),u(_e,Ee),u(A,He),u(A,De),u(De,Fe),u(Fe,Ze),Ke.m(Ze,null),u(Fe,qe),u(Fe,Be),P(Be,e[7]),Ie||(je=[x(c,"click",e[33]),x(C,"click",e[24]),x(M,"click",e[23]),x(T,"change",e[35]),x(Y,"input",e[36]),x(Y,"input",e[37]),x(V,"input",e[38]),x(V,"input",e[39]),x(Ft,"input",e[44]),x(jt,"input",e[45]),x(oe,"change",e[46]),x(ce,"change",e[47]),x(ge,"change",e[48]),x(me,"change",e[49]),x(Ee,"click",e[72]),x(Be,"change",e[73]),x(Be,"input",e[73]),x(Be,"input",e[30])],Ie=!0)},p(t,e){if(16&e[0]&&w(T,t[4]),262144&e[0]&&z(Y.value)!==t[18]&&P(Y,t[18]),131072&e[0]&&z(V.value)!==t[17]&&P(V,t[17]),t[9].length>0?Re?Re.p(t,e):(Re=lt(t),Re.c(),Re.m(ht,null)):Re&&(Re.d(1),Re=null),t[9].length>0?Te?Te.p(t,e):(Te=st(t),Te.c(),Te.m(xt,null)):Te&&(Te.d(1),Te=null),2048&e[0]&&z(Ft.value)!==t[11]&&P(Ft,t[11]),4096&e[0]&&z(jt.value)!==t[12]&&P(jt,t[12]),32768&e[0]&&Nt!==(Nt=Math.round(t[15]))&&Ot.value!==Nt&&(Ot.value=Nt),8192&e[0]&&Wt!==(Wt=t[13]+1)&&Gt.value!==Wt&&(Gt.value=Wt),524288&e[0]&&(oe.checked=t[19]),16384&e[0]&&(ce.checked=t[14]),65536&e[0]&&(ge.checked=t[16]),32&e[0]&&w(me,t[5]),512&e[0]){let n;for(Le=t[9],n=0;n<Le.length;n+=1){const o=nt(t,Le,n);Se[n]?Se[n].p(o,e):(Se[n]=rt(o),Se[n].c(),Se[n].m(Pe,$e))}for(;n<Se.length;n+=1)Se[n].d(1);Se.length=Le.length}if(t[9].length>0?Oe?Oe.p(t,e):(Oe=ct(t),Oe.c(),Oe.m(Pe,we)):Oe&&(Oe.d(1),Oe=null),t[19]?Ne?Ne.p(t,e):(Ne=at(t),Ne.c(),Ne.m(Ce,ke)):Ne&&(Ne.d(1),Ne=null),256&e[0]){let n;for(Ue=t[8],n=0;n<Ue.length;n+=1){const o=tt(t,Ue,n);Xe[n]?Xe[n].p(o,e):(Xe[n]=gt(o),Xe[n].c(),Xe[n].m(Ce,null))}for(;n<Xe.length;n+=1)Xe[n].d(1);Xe.length=Ue.length}if(1547698690&e[0]|2&e[1]){let n;for(Ye=t[9],n=0;n<Ye.length;n+=1){const o=Q(t,Ye,n);Je[n]?Je[n].p(o,e):(Je[n]=Pt(o),Je[n].c(),Je[n].m(_e,Ae))}for(;n<Je.length;n+=1)Je[n].d(1);Je.length=Ye.length}We===(We=Ge(t))&&Ke?Ke.p(t,e):(Ke.d(1),Ke=We(t),Ke&&(Ke.c(),Ke.m(Ze,null))),128&e[0]&&P(Be,t[7])},i:t,o:t,d(t){t&&d(n),Re&&Re.d(),Te&&Te.d(),g(Se,t),Oe&&Oe.d(),Ne&&Ne.d(),g(Xe,t),g(Je,t),Ke.d(),Ie=!1,o(je)}}}function kt(t,e){let n=[];for(let o=0;o<=1;o+=1/e)n.push(Mt(t,o));return n.push(t[t.length-1]),n}function Mt(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return Mt(n,e)}const _t=t=>`${t.x},${144-t.y}`,At=t=>`${t.x},${144-t.y}`,Et=t=>`${t.x},${144-t.y}`,Ht=t=>`${t.x},${144-t.y}`,Dt=t=>`${t.x},${144-t.y}`;function Ft(e,n,o){let l,s,i,r,u,p=t,d=()=>(p(),p=c(et,(t=>o(9,r=t))),et),g=t,f=()=>(g(),g=c(tt,(t=>o(19,u=t))),tt);e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>g()));let h=18,v=18,b="inches",m="degrees";function x(t){const e=parseFloat(t)||0;o(2,h=parseFloat(("inches"===b?e:e/2.54).toFixed(2)))}function y(t){const e=parseFloat(t)||0;o(3,v=parseFloat(("inches"===b?e:e/2.54).toFixed(2)))}function P(t){et.update((e=>{const n=e.find((e=>e.id===t));return n&&(n.bezierCurvePoints=kt(n.controlPoints,100)),e}))}function $(){et.update((t=>{const e=new X(t.length);if(t.length>0){const n=t[t.length-1];if(n.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,s=72+Math.cos(o)*l,i=72+Math.sin(o)*l;e.controlPoints.push({x:t.x,y:t.y}),e.controlPoints.push({x:s,y:i})}}else e.controlPoints.push({x:12,y:96}),e.controlPoints.push({x:36,y:96});return e.bezierCurvePoints=e.calculateBezier(),[...t,e]}))}function w(t,e){et.update((e=>{const n=e.find((e=>e.id===t));if(n){const t=2*Math.random()*Math.PI,e=50,o=72+Math.cos(t)*e,l=72+Math.sin(t)*e;if(n.controlPoints.length>1){const t=n.controlPoints.length-1;n.controlPoints.splice(t,0,{x:o,y:l})}else n.controlPoints.push({x:o,y:l})}return e}))}function k(t,e){et.update((n=>{const o=n.find((e=>e.id===t));return o&&o.setColor(e),n}))}function _(t){et.update((e=>{const n=e.filter((e=>e.id!==t));if(n.forEach(((t,e)=>{t.id=e})),Q&&t>0&&t<e.length-1){const e=n[t-1],o=n[t];e&&o&&(o.controlPoints[0]={...e.controlPoints[e.controlPoints.length-1]},o.bezierCurvePoints=kt(o.controlPoints,100))}return n}))}M((()=>{et.update((t=>(0===t.length&&$(),t)))}));let A=0,E=12,H=96,D=!1,F=!0,Z=!0,q=null,B=0,I=0,j=null,R=0,T=0,L=0,S=0,O=!0,N=0;function Y(){let t=0;r.forEach((e=>{t+=e.bezierCurvePoints.length}));let e=0;for(let n of r){if(A<=(e+n.bezierCurvePoints.length)/t*100){const l=(A-e/t*100)/(n.bezierCurvePoints.length/t*100),s=Math.floor(l*(n.bezierCurvePoints.length-1)),i=n.bezierCurvePoints[s];if(i){o(11,E=i.x),o(12,H=i.y);const t=document.getElementById("robot");if(t)if("tangential"===n.robotHeading){const e=n.bezierCurvePoints[Math.min(s+1,n.bezierCurvePoints.length-1)],l=n.bezierCurvePoints[Math.max(s-1,0)];let i=Math.atan2(e.y-l.y,e.x-l.x);n.reverse&&(i+=Math.PI),t.style.transform=`translate(-50%, 50%) rotate(${-i+Math.PI/2}rad)`,o(15,N="degrees"===m?i*(180/Math.PI):i)}else if("linear"===n.robotHeading){const e=n.startAngle||0,s=e+((n.endAngle||0)-e)*l;t.style.transform=`translate(-50%, 50%) rotate(${-s+Math.PI/2}rad)`,o(15,N="degrees"===m?s*(180/Math.PI):s)}else if("constant"===n.robotHeading){const e=n.constantAngle||0;t.style.transform=`translate(-50%, 50%) rotate(${-e+Math.PI/2}rad)`,o(15,N="degrees"===m?-e*(180/Math.PI):-e)}}break}e+=n.bezierCurvePoints.length}}function J(){o(6,D=!1),q&&(clearInterval(q),q=null),o(34,F=!0),Z=!1}document.addEventListener("DOMContentLoaded",(()=>{$(),P(r.length-1)})),document.addEventListener("mousedown",(t=>{const e=document.querySelector(".field").getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;let l=null,s=null,i=null,c=null;if(r.forEach((t=>{t.controlPoints.forEach(((r,a)=>{const u=r.x/144*e.width,p=e.height-r.y/144*e.height;Math.sqrt((n-u)**2+(o-p)**2)<10&&(null===l&&null===s?(l=t.id,s=a):Q&&null===i&&null===c&&(i=t.id,c=a))}))})),null!==l&&null!==s){const t=t=>{const n=t.clientX-e.left,o=t.clientY-e.top;let r=n/e.width*144,a=144-o/e.height*144;const u=v/2,p=h/2;r=Math.max(u,Math.min(144-u,r)),a=Math.max(p,Math.min(144-p,a)),et.update((t=>{const e=t.find((t=>t.id===l));if(e&&(e.controlPoints[s]={x:r,y:a},e.bezierCurvePoints=kt(e.controlPoints,100)),Q&&null!==i&&null!==c){const e=t.find((t=>t.id===i));e&&(e.controlPoints[c]={x:r,y:a},e.bezierCurvePoints=kt(e.controlPoints,100))}return t})),Y()},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}));let Q=!0;function V(){Q&&et.update((t=>{for(let e=0;e<t.length-1;e++){const n=t[e],o=t[e+1];if(n.controlPoints.length>0&&o.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=kt(o.controlPoints,100)}}return t}))}let{shouldShowHitbox:tt=U(!1)}=n;f();let{paths:et=U([])}=n;d();let nt=[];return e.$$set=t=>{"shouldShowHitbox"in t&&f(o(0,tt=t.shouldShowHitbox)),"paths"in t&&d(o(1,et=t.paths))},e.$$.update=()=>{if(20&e.$$.dirty[0]&&o(18,l=parseFloat(("inches"===b?h:2.54*h).toFixed(2))),24&e.$$.dirty[0]&&o(17,s=parseFloat(("inches"===b?v:2.54*v).toFixed(2))),544&e.$$.dirty[0]){const t="degrees"===m?Math.PI/180:1;r.forEach((e=>{"linear"===e.robotHeading?(e.startAngle=(e.startAngleDegrees||0)*t,e.endAngle=(e.endAngleDegrees||0)*t):"constant"===e.robotHeading&&(e.constantAngle=(e.constantAngleDegrees||0)*t)}))}if(520&e.$$.dirty[0]&&(o(8,nt=r.map((t=>({left:[],right:[],main:[],color:t.color,controlPoints:t.controlPoints})))),r.forEach(((t,e)=>{if(t.controlPoints.length>=2){let n=[];const{leftPath:l,rightPath:s}=function(t,e){if(t.length<2)return console.warn(`⚠️ Skipping hitbox: Not enough control points (${t.length} found)`),{leftPath:[],rightPath:[]};const n=[],o=[];if(2===t.length){console.log("⚠️ Generating LINEAR hitbox for 2-point path.");for(let l=0;l<=1;l+=.01){const s=(1-l)*t[0].x+l*t[1].x,i=(1-l)*t[0].y+l*t[1].y,r=W(l,t);n.push({x:s+r.x*(e/2),y:i+r.y*(e/2)}),o.push({x:s-r.x*(e/2),y:i-r.y*(e/2)})}}else{console.log("✅ Generating Bézier hitbox.");for(let l=0;l<=1;l+=.01){const s=K(l,t,e);n.push(s.left),o.push(s.right)}}return console.log("✅ Generated hitbox:",{leftPath:n,rightPath:o}),{leftPath:n,rightPath:o}}(t.controlPoints,v);for(let e=0;e<=1;e+=.01){const o=G(e,t.controlPoints);n.push(o)}o(8,nt[e].main=n,nt),o(8,nt[e].left=l,nt),o(8,nt[e].right=s,nt)}}))),256&e.$$.dirty[0]&&console.log("offsetPaths:",JSON.stringify(nt,null,2)),512&e.$$.dirty[0]&&(i=1.56*r.length),704&e.$$.dirty[0]|8&e.$$.dirty[1]&&!D&&F){const t=r.length,e=Math.floor(T/100*t),n=T/100*t-e,l=n<.5?2*n*n:(4-2*n)*n-1;A=(e+l)/t*100,o(13,L=e),B=l,Y()}if(64&e.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=D?"transform 1ms linear":"none",t.style.filter=D?"blur(0.2px)":"none")}},V(),Y(),P(1),[tt,et,h,v,b,m,D,T,nt,r,j,E,H,L,O,N,Q,s,l,u,x,y,P,function(){const t=r.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color,robotHeading:t.robotHeading,startAngleDegrees:t.startAngleDegrees,endAngleDegrees:t.endAngleDegrees,constantAngleDegrees:t.constantAngleDegrees,reverse:t.reverse}))),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const e=t.target.files[0],n=await e.text(),o=JSON.parse(n);et.set(o.map(((t,e)=>({...t,id:e})))),o.forEach(((t,e)=>P(e))),Y()},t.click()},$,w,k,_,function(){D||(o(6,D=!0),o(13,L=Z?0:Math.floor(A/100*r.length)),S=Date.now()-(Z?0:A%(100/r.length)/100*i*1e3),F&&(S=Date.now()-B*R*1e3),q=setInterval((()=>{I=(Date.now()-S)/1e3,o(10,j=r[L]),R=i/r.length,B=I/R,o(7,T=(L+B)/r.length*100),B<.5?B*=2*B:B=(4-2*B)*B-1,A=(L+B)/r.length*100,Y(),I>=R&&(L+1>=r.length?O?o(13,L=0):J():o(13,L++,L),S=Date.now())}),1))},Y,J,V,function(){const t=window.open("","CodeWindow","width=600,height=400");let e="private Path ";r.forEach(((t,n)=>{e+=`p${n+1}`,n<r.length-1&&(e+=", ")})),e+=";\n\n",e+="public void buildPaths() {\n",r.forEach(((t,n)=>{const o=t.controlPoints.map((t=>`new Point(${t.x.toFixed(3)}, ${t.y.toFixed(3)}, Point.CARTESIAN)`)).join(",\n                "),l=2===t.controlPoints.length?"BezierLine":"BezierCurve";if(e+=`    p${n+1} = new Path(new ${l}(\n                ${o}\n        )\n    );\n\n`,"constant"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.constantAngleDegrees||0})`:`${t.constantAngleDegrees||0}`;e+=`    p${n+1}.setConstantHeadingInterpolation(${o});\n\n`}else if("tangential"===t.robotHeading)e+=`    p${n+1}.setTangentHeadingInterpolation();\n`,t.reverse?e+=`    p${n+1}.setReversed(true);\n\n`:e+=`    p${n+1}.setReversed(false);\n\n`;else if("linear"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.startAngleDegrees||0})`:`${t.startAngleDegrees||0}`,l="degrees"===m?`Math.toRadians(${t.endAngleDegrees||0})`:`${t.endAngleDegrees||0}`;e+=`    p${n+1}.setLinearHeadingInterpolation(${o}, ${l});\n\n`}})),e+="}",t.document.write("<pre>"+e+"</pre>"),t.document.close()},F,function(){b=C(this),o(4,b)},function(){l=z(this.value),o(18,l),o(4,b),o(2,h)},t=>x(parseFloat(t.target.value)),function(){s=z(this.value),o(17,s),o(4,b),o(3,v)},t=>y(parseFloat(t.target.value)),function(){r[0].controlPoints[0].x=z(this.value),et.set(r)},t=>{a(et,r[0].controlPoints[0].x=parseFloat(t.target.value),r),P(0),et.set(r),Y()},function(){r[0].controlPoints[0].y=z(this.value),et.set(r)},t=>{a(et,r[0].controlPoints[0].y=parseFloat(t.target.value),r),P(0),et.set(r),Y()},function(){E=z(this.value),o(11,E)},function(){H=z(this.value),o(12,H)},function(){u=this.checked,tt.set(u)},function(){O=this.checked,o(14,O)},function(){Q=this.checked,o(16,Q)},function(){m=C(this),o(5,m)},t=>{if(0!=t.id&&t.id!=r.length-1){const e=r[t.id+1];a(et,r[t.id+1]={...r[t.id],id:t.id+1},r),a(et,r[t.id]={...e,id:t.id},r),et.set(r),V()}},t=>{if(0!=t.id&&1!=t.id){const e=r[t.id-1];a(et,r[t.id-1]={...r[t.id],id:t.id-1},r),a(et,r[t.id]={...e,id:t.id},r),et.set(r),V()}},function(t,e){t[e].color=this.value,et.set(r)},t=>k(t.id,t.color),t=>{r.length>1&&_(t.id)},t=>w(t.id,t.controlPoints.length),(t,e)=>{"Enter"===e.key&&w(t.id,t.controlPoints.length)},(t,e,n,o,l)=>{a(et,n[o].controlPoints[e].x=parseFloat(l.target.value),r),P(t.id),et.set(r)},(t,e,n,o,l)=>{a(et,n[o].controlPoints[e].y=parseFloat(l.target.value),r),P(t.id),et.set(r)},(t,e)=>{t.controlPoints.length>2&&(t.controlPoints.splice(e,1),P(t.id),et.set(r))},(t,e,n,o)=>{a(et,e[n].controlPoints[t.controlPoints.length-1].x=parseFloat(o.target.value),r),P(t.id),et.set(r)},(t,e,n,o)=>{a(et,e[n].controlPoints[t.controlPoints.length-1].y=parseFloat(o.target.value),r),P(t.id),et.set(r)},function(t,e){t[e].robotHeading=C(this),et.set(r)},t=>P(t.id),function(t,e){t[e].startAngleDegrees=z(this.value),et.set(r)},()=>Y(),function(t,e){t[e].endAngleDegrees=z(this.value),et.set(r)},()=>Y(),function(t,e){t[e].reverse=this.checked,et.set(r)},()=>Y(),function(t,e){t[e].constantAngleDegrees=z(this.value),et.set(r)},()=>Y(),()=>{$(),P(r.length-1)},function(){T=z(this.value),o(7,T)}]}return new class extends O{constructor(t){super(),S(this,t,Ft,Ct,s,{shouldShowHitbox:0,paths:1},null,[-1,-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
