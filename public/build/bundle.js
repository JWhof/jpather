var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,c;function r(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n){return t.set(n),e}function a(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return""===t?null:+t}function j(t,e){t.value=null==e?"":e}function y(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function P(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function $(t){c=t}const k=[],C=[];let _=[];const E=[],M=Promise.resolve();let Z=!1;function q(t){_.push(t)}const z=new Set;let L=0;function T(){if(0!==L)return;const t=c;do{try{for(;L<k.length;){const t=k[L];L++,$(t),B(t.$$)}}catch(t){throw k.length=0,L=0,t}for($(null),k.length=0,L=0;C.length;)C.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];z.has(e)||(z.add(e),e())}_.length=0}while(k.length);for(;E.length;)E.pop()();Z=!1,z.clear(),$(t)}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const O=new Set;function D(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];_.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),_=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(k.push(t),Z||(Z=!0,M.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(s,i,r,u,a,d,h,f=[-1]){const p=c;$(s);const g=s.$$={fragment:null,ctx:[],props:d,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||p.$$.root};h&&h(g.root);let m=!1;if(g.ctx=r?r(s,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&a(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&F(s,t)),e})):[],g.update(),m=!0,o(g.before_update),g.fragment=!!u&&u(g.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);g.fragment&&g.fragment.l(t),t.forEach(v)}else g.fragment&&g.fragment.c();i.intro&&((w=s.$$.fragment)&&w.i&&(O.delete(w),w.i(b))),function(t,n,s,i){const{fragment:c,after_update:r}=t.$$;c&&c.m(n,s),i||q((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),r.forEach(q)}(s,i.target,i.anchor,i.customElement),T()}var w,b;$(p)}class S{$destroy(){D(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const H=[];function N(t,e,n){const o=t.slice();return o[14]=e[n],o[61]=e,o[62]=n,o}function A(t,e,n){const o=t.slice();return o[12]=e[n].x,o[13]=e[n].y,o[63]=e,o[64]=n,o}function R(t,e,n){const o=t.slice();return o[14]=e[n],o}function U(t,e,n){const o=t.slice();return o[14]=e[n],o}function X(t,e,n){const o=t.slice();return o[12]=e[n].x,o[13]=e[n].y,o}function Y(t){let e,n,l;return{c(){e=f("input"),b(e,"class","standard-input-box svelte-v7wju"),b(e,"type","number"),b(e,"step","0.01")},m(o,s){d(o,e,s),j(e,t[5][0].controlPoints[0].x),n||(l=[w(e,"input",t[31]),w(e,"input",t[32])],n=!0)},p(t,n){32&n[0]&&x(e.value)!==t[5][0].controlPoints[0].x&&j(e,t[5][0].controlPoints[0].x)},d(t){t&&v(e),n=!1,o(l)}}}function J(t){let e,n,l;return{c(){e=f("input"),b(e,"class","standard-input-box svelte-v7wju"),b(e,"type","number"),b(e,"step","0.01")},m(o,s){d(o,e,s),j(e,t[5][0].controlPoints[0].y),n||(l=[w(e,"input",t[33]),w(e,"input",t[34])],n=!0)},p(t,n){32&n[0]&&x(e.value)!==t[5][0].controlPoints[0].y&&j(e,t[5][0].controlPoints[0].y)},d(t){t&&v(e),n=!1,o(l)}}}function W(t){let e,n;return{c(){e=f("div"),n=f("div"),b(n,"class","point svelte-v7wju"),y(n,"left",t[12]/144*100+"%"),y(n,"bottom",t[13]/144*100+"%"),y(n,"background",t[14].color),b(e,"class","hover-point svelte-v7wju")},m(t,o){d(t,e,o),a(e,n)},p(t,e){32&e[0]&&y(n,"left",t[12]/144*100+"%"),32&e[0]&&y(n,"bottom",t[13]/144*100+"%"),32&e[0]&&y(n,"background",t[14].color)},d(t){t&&v(e)}}}function G(t){let e,n=t[14].controlPoints,o=[];for(let e=0;e<n.length;e+=1)o[e]=W(X(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g("")},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);d(t,e,n)},p(t,l){if(32&l[0]){let s;for(n=t[14].controlPoints,s=0;s<n.length;s+=1){const i=X(t,n,s);o[s]?o[s].p(i,l):(o[s]=W(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){h(o,t),t&&v(e)}}}function K(t){let e,n;return{c(){var o,l;e=f("img"),o=e.src,l=n="./robot.png",i||(i=document.createElement("a")),i.href=l,o!==i.href&&b(e,"src","./robot.png"),b(e,"alt","Robot"),b(e,"id","robot"),y(e,"width",t[7]/144*100+"%"),y(e,"height",t[6]/144*100+"%"),y(e,"left",t[8]/144*100+"%"),y(e,"bottom",t[9]/144*100+"%"),y(e,"user-select","none"),b(e,"class","svelte-v7wju")},m(t,n){d(t,e,n)},p(t,n){128&n[0]&&y(e,"width",t[7]/144*100+"%"),64&n[0]&&y(e,"height",t[6]/144*100+"%"),256&n[0]&&y(e,"left",t[8]/144*100+"%"),512&n[0]&&y(e,"bottom",t[9]/144*100+"%")},d(t){t&&v(e)}}}function Q(t){let e,n;return{c(){e=p("polyline"),b(e,"class","curve svelte-v7wju"),b(e,"points",n=t[14].bezierCurvePoints.map(ut).join(" ")),y(e,"stroke",t[14].color)},m(t,n){d(t,e,n)},p(t,o){32&o[0]&&n!==(n=t[14].bezierCurvePoints.map(ut).join(" "))&&b(e,"points",n),32&o[0]&&y(e,"stroke",t[14].color)},d(t){t&&v(e)}}}function V(t){let e,n,o,l,s,i=t[64]-1+"";return{c(){e=f("label"),n=g("Control Point "),o=g(i),l=g(":"),b(e,"for",s="control-point-"+t[14].id+"-"+t[64]),y(e,"user-select","none"),b(e,"class","svelte-v7wju")},m(t,s){d(t,e,s),a(e,n),a(e,o),a(e,l)},p(t,n){32&n[0]&&s!==(s="control-point-"+t[14].id+"-"+t[64])&&b(e,"for",s)},d(t){t&&v(e)}}}function tt(t){let e,n,o;return{c(){e=f("label"),n=g("Endpoint:"),b(e,"for",o="control-point-"+t[14].id+"-"+t[64]),y(e,"user-select","none"),b(e,"class","svelte-v7wju")},m(t,o){d(t,e,o),a(e,n)},p(t,n){32&n[0]&&o!==(o="control-point-"+t[14].id+"-"+t[64])&&b(e,"for",o)},d(t){t&&v(e)}}}function et(t){let e,n,l,s,i,c,r,u,h,P,$,k,C,_,E,M,Z,q,z;function L(){t[44].call(r,t[64],t[61],t[62])}function T(){return t[45](t[14])}function B(){t[46].call(E,t[64],t[61],t[62])}function O(){return t[47](t[14])}let D=t[64]>1&&function(t){let e,n,o,l;function s(){return t[48](t[14],t[64])}return{c(){e=p("svg"),n=p("path"),b(n,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),b(n,"class","svelte-v7wju"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 -960 960 960"),b(e,"width","24px"),b(e,"fill","#FF474D"),y(e,"cursor","pointer"),b(e,"class","svelte-v7wju")},m(t,i){d(t,e,i),a(e,n),o||(l=w(e,"click",s),o=!0)},p(e,n){t=e},d(t){t&&v(e),o=!1,l()}}}(t);return{c(){e=f("div"),n=f("div"),l=f("label"),s=g("X:"),c=m(),r=f("input"),h=m(),P=f("div"),$=f("label"),k=g("Y:"),_=m(),E=f("input"),Z=m(),D&&D.c(),b(l,"class","cp-x svelte-v7wju"),b(l,"for",i="control-point-"+t[14].id+"-"+t[64]),y(l,"user-select","none"),b(r,"id",u="control-point-"+t[14].id+"-"+t[64]),b(r,"class","standard-input-box svelte-v7wju"),b(r,"type","number"),b(r,"step","0.01"),b(n,"class","control-point-mini-box-x svelte-v7wju"),b($,"class","cp-y svelte-v7wju"),b($,"for",C="control-point-"+t[14].id+"-"+t[64]+"-y"),y($,"user-select","none"),b(E,"id",M="control-point-"+t[14].id+"-"+t[64]+"-y"),b(E,"class","standard-input-box svelte-v7wju"),b(E,"type","number"),b(E,"step","0.01"),b(P,"class","control-point-mini-box-y svelte-v7wju"),b(e,"class","control-point-mini-box svelte-v7wju")},m(o,i){d(o,e,i),a(e,n),a(n,l),a(l,s),a(n,c),a(n,r),j(r,t[14].controlPoints[t[64]].x),a(e,h),a(e,P),a(P,$),a($,k),a(P,_),a(P,E),j(E,t[14].controlPoints[t[64]].y),a(e,Z),D&&D.m(e,null),q||(z=[w(r,"input",L),w(r,"input",T),w(E,"input",B),w(E,"input",O)],q=!0)},p(e,n){t=e,32&n[0]&&i!==(i="control-point-"+t[14].id+"-"+t[64])&&b(l,"for",i),32&n[0]&&u!==(u="control-point-"+t[14].id+"-"+t[64])&&b(r,"id",u),32&n[0]&&x(r.value)!==t[14].controlPoints[t[64]].x&&j(r,t[14].controlPoints[t[64]].x),32&n[0]&&C!==(C="control-point-"+t[14].id+"-"+t[64]+"-y")&&b($,"for",C),32&n[0]&&M!==(M="control-point-"+t[14].id+"-"+t[64]+"-y")&&b(E,"id",M),32&n[0]&&x(E.value)!==t[14].controlPoints[t[64]].y&&j(E,t[14].controlPoints[t[64]].y),t[64]>1&&D.p(t,n)},d(t){t&&v(e),D&&D.d(),q=!1,o(z)}}}function nt(t){let e,n;function o(t,e){return t[14].controlPoints.length>=2&&t[64]>0&&t[64]<2?tt:t[64]>0?V:void 0}let l=o(t),s=l&&l(t),i=(t[64]>0||1===t[14].controlPoints.length)&&et(t);return{c(){e=f("div"),s&&s.c(),n=m(),i&&i.c(),b(e,"class","control-point-box svelte-v7wju")},m(t,o){d(t,e,o),s&&s.m(e,null),a(e,n),i&&i.m(e,null)},p(t,c){l===(l=o(t))&&s?s.p(t,c):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(e,n))),t[64]>0||1===t[14].controlPoints.length?i?i.p(t,c):(i=et(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&v(e),s&&s.d(),i&&i.d()}}}function ot(t){let e,n,l,s,i,c,r,u,x,P,$,k,C,_,E,M,Z,q,z,L,T,B,O,D,F,I,S,H,N=t[14].id+1+"";function R(){return t[37](t[14])}function U(){return t[38](t[14])}function X(){t[39].call(k,t[61],t[62])}function Y(){return t[40](t[14])}function J(){return t[41](t[14])}function W(){return t[42](t[14])}function G(...e){return t[43](t[14],...e)}let K=t[14].controlPoints,Q=[];for(let e=0;e<K.length;e+=1)Q[e]=nt(A(t,K,e));return{c(){e=f("div"),n=f("div"),l=f("div"),s=p("svg"),i=p("path"),r=m(),u=p("svg"),x=p("path"),$=m(),k=f("input"),C=m(),_=f("p"),E=g("Path "),M=g(N),Z=m(),q=f("div"),z=p("svg"),L=p("path"),B=m(),O=p("svg"),D=p("path"),F=m(),I=f("div");for(let t=0;t<Q.length;t+=1)Q[t].c();b(i,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),b(i,"class","svelte-v7wju"),b(s,"xmlns","http://www.w3.org/2000/svg"),b(s,"height","24px"),b(s,"viewBox","0 -960 960 960"),b(s,"width","24px"),b(s,"fill",c=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray"),y(s,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),b(s,"class","svelte-v7wju"),b(x,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),b(x,"class","svelte-v7wju"),b(u,"xmlns","http://www.w3.org/2000/svg"),b(u,"height","24px"),b(u,"viewBox","0 -960 960 960"),b(u,"width","24px"),b(u,"fill",P=0!=t[14].id&&1!=t[14].id?"black":"gray"),y(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),b(u,"class","svelte-v7wju"),b(k,"type","color"),b(k,"class","color-circle svelte-v7wju"),y(k,"background-color",t[14].color),b(_,"class","path-title svelte-v7wju"),y(_,"user-select","none"),b(l,"class","path-and-color svelte-v7wju"),b(L,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),b(L,"class","svelte-v7wju"),b(z,"xmlns","http://www.w3.org/2000/svg"),b(z,"height","24px"),b(z,"viewBox","0 -960 960 960"),b(z,"width","24px"),b(z,"fill",T=t[5].length>1?"#FF474D":"gray"),y(z,"cursor",t[5].length>1?"pointer":"default"),b(z,"class","svelte-v7wju"),b(D,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),b(D,"class","svelte-v7wju"),b(O,"xmlns","http://www.w3.org/2000/svg"),b(O,"height","24px"),b(O,"viewBox","0 -960 960 960"),b(O,"width","24px"),b(O,"fill","#90EE90"),y(O,"cursor","pointer"),b(O,"class","svelte-v7wju"),b(q,"class","add-and-remove svelte-v7wju"),b(n,"class","path-header svelte-v7wju"),b(I,"class","path-control-points svelte-v7wju"),b(e,"class","path svelte-v7wju"),y(e,"border-color",t[14].color)},m(o,c){d(o,e,c),a(e,n),a(n,l),a(l,s),a(s,i),a(l,r),a(l,u),a(u,x),a(l,$),a(l,k),j(k,t[14].color),a(l,C),a(l,_),a(_,E),a(_,M),a(n,Z),a(n,q),a(q,z),a(z,L),a(q,B),a(q,O),a(O,D),a(e,F),a(e,I);for(let t=0;t<Q.length;t+=1)Q[t]&&Q[t].m(I,null);S||(H=[w(s,"click",R),w(u,"click",U),w(k,"input",X),w(k,"input",Y),w(z,"click",J),w(O,"click",W),w(O,"keydown",G)],S=!0)},p(n,o){if(t=n,32&o[0]&&c!==(c=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray")&&b(s,"fill",c),32&o[0]&&y(s,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),32&o[0]&&P!==(P=0!=t[14].id&&1!=t[14].id?"black":"gray")&&b(u,"fill",P),32&o[0]&&y(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),32&o[0]&&y(k,"background-color",t[14].color),32&o[0]&&j(k,t[14].color),32&o[0]&&N!==(N=t[14].id+1+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(M,N),32&o[0]&&T!==(T=t[5].length>1?"#FF474D":"gray")&&b(z,"fill",T),32&o[0]&&y(z,"cursor",t[5].length>1?"pointer":"default"),98336&o[0]){let e;for(K=t[14].controlPoints,e=0;e<K.length;e+=1){const n=A(t,K,e);Q[e]?Q[e].p(n,o):(Q[e]=nt(n),Q[e].c(),Q[e].m(I,null))}for(;e<Q.length;e+=1)Q[e].d(1);Q.length=K.length}32&o[0]&&y(e,"border-color",t[14].color)},d(t){t&&v(e),h(Q,t),S=!1,o(H)}}}function lt(e){let n,o,l,s;return{c(){n=p("svg"),o=p("path"),b(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),b(o,"class","svelte-v7wju"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"height","24px"),b(n,"viewBox","0 -960 960 960"),b(n,"width","24px"),b(n,"fill","#FF474D"),b(n,"class","svelte-v7wju")},m(t,i){d(t,n,i),a(n,o),l||(s=w(n,"click",e[25]),l=!0)},p:t,d(t){t&&v(n),l=!1,s()}}}function st(e){let n,o,l,s;return{c(){n=p("svg"),o=p("path"),b(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),b(o,"class","svelte-v7wju"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"height","24px"),b(n,"viewBox","0 -960 960 960"),b(n,"width","24px"),b(n,"fill","#90EE90"),b(n,"class","svelte-v7wju")},m(t,i){d(t,n,i),a(n,o),l||(s=w(n,"click",e[24]),l=!0)},p:t,d(t){t&&v(n),l=!1,s()}}}function it(e){let n,l,s,i,c,r,u,g,$,k,C,_,E,M,Z,z,L,T,B,O,D,F,I,S,H,A,X,W,V,tt,et,nt,it,ct,rt,ut,at,dt,vt,ht,ft,pt,gt,mt,wt,bt,xt,jt,yt,Pt,$t,kt,Ct,_t,Et,Mt,Zt,qt,zt,Lt,Tt,Bt,Ot,Dt,Ft,It,St,Ht,Nt,At,Rt,Ut,Xt,Yt,Jt=e[5].length>0&&Y(e),Wt=e[5].length>0&&J(e),Gt=e[5],Kt=[];for(let t=0;t<Gt.length;t+=1)Kt[t]=G(U(e,Gt,t));let Qt=e[5].length>0&&K(e),Vt=e[5],te=[];for(let t=0;t<Vt.length;t+=1)te[t]=Q(R(e,Vt,t));let ee=e[5],ne=[];for(let t=0;t<ee.length;t+=1)ne[t]=ot(N(e,ee,t));function oe(t,e){return t[3]?lt:st}let le=oe(e),se=le(e);return{c(){n=f("div"),l=f("div"),s=f("h1"),s.textContent="JPather",i=m(),c=f("div"),r=f("button"),r.textContent="Import Control Points",u=m(),g=f("button"),g.textContent="Export Control Points",$=m(),k=f("div"),C=f("div"),_=f("div"),E=f("div"),M=f("div"),Z=f("h2"),Z.textContent="Robot Options",z=m(),L=f("div"),T=f("label"),T.textContent="Units:",B=m(),O=f("select"),D=f("option"),D.textContent="Inches",F=f("option"),F.textContent="Centimeters",I=m(),S=f("div"),H=f("label"),H.textContent="Robot Length:",A=m(),X=f("input"),W=m(),V=f("div"),tt=f("label"),tt.textContent="Robot Width:",et=m(),nt=f("input"),it=m(),ct=f("h2"),ct.textContent="Field Options",rt=m(),ut=f("label"),ut.textContent="Starting Position:",at=m(),dt=f("div"),vt=f("div"),ht=f("label"),ht.textContent="X:",ft=m(),Jt&&Jt.c(),pt=m(),gt=f("div"),mt=f("label"),mt.textContent="Y:",wt=m(),Wt&&Wt.c(),bt=m(),xt=f("h2"),xt.textContent="Advanced Options",jt=m(),yt=f("div"),Pt=f("label"),Pt.textContent="Infinite Path Looping:",$t=m(),kt=f("input"),Ct=m(),_t=f("div"),Et=f("label"),Et.textContent="Auto-link Paths:",Mt=m(),Zt=f("input"),qt=m(),zt=f("div");for(let t=0;t<Kt.length;t+=1)Kt[t].c();Lt=m(),Qt&&Qt.c(),Tt=m(),Bt=p("svg");for(let t=0;t<te.length;t+=1)te[t].c();Ot=m(),Dt=f("div");for(let t=0;t<ne.length;t+=1)ne[t].c();Ft=m(),It=f("button"),It.textContent="Add Path",St=m(),Ht=f("div"),Nt=f("div"),At=f("div"),se.c(),Rt=m(),Ut=f("input"),b(s,"class","page-title svelte-v7wju"),y(r,"user-select","none"),b(r,"class","svelte-v7wju"),y(g,"user-select","none"),b(g,"class","svelte-v7wju"),b(c,"class","export-import svelte-v7wju"),b(l,"class","header svelte-v7wju"),b(Z,"class","section-title svelte-v7wju"),y(Z,"user-select","none"),b(T,"for","robotUnits"),y(T,"user-select","none"),b(T,"class","svelte-v7wju"),D.__value="inches",D.value=D.__value,b(D,"class","svelte-v7wju"),F.__value="cm",F.value=F.__value,b(F,"class","svelte-v7wju"),b(O,"id","robotUnits"),b(O,"class","standard-input-box svelte-v7wju"),void 0===e[2]&&q((()=>e[28].call(O))),b(L,"class","robot-options svelte-v7wju"),b(H,"for","robot-length"),y(H,"user-select","none"),b(H,"class","svelte-v7wju"),b(X,"id","robot-length"),b(X,"class","standard-input-box svelte-v7wju"),b(X,"type","number"),b(X,"step","0.01"),b(S,"class","robot-options svelte-v7wju"),b(tt,"for","robot-width"),y(tt,"user-select","none"),b(tt,"class","svelte-v7wju"),b(nt,"id","robot-width"),b(nt,"class","standard-input-box svelte-v7wju"),b(nt,"type","number"),b(nt,"step","0.01"),b(V,"class","robot-options svelte-v7wju"),b(ct,"id","field-options"),b(ct,"class","section-title svelte-v7wju"),y(ct,"user-select","none"),y(ut,"user-select","none"),b(ut,"class","svelte-v7wju"),b(ht,"class","cp-x svelte-v7wju"),y(ht,"user-select","none"),b(vt,"class","control-point-mini-box-x svelte-v7wju"),b(mt,"class","cp-x svelte-v7wju"),y(mt,"user-select","none"),b(gt,"class","control-point-mini-box-y svelte-v7wju"),b(dt,"class","control-point-mini-box svelte-v7wju"),b(xt,"id","advanced-options"),b(xt,"class","section-title svelte-v7wju"),y(xt,"user-select","none"),b(Pt,"for","field-length"),y(Pt,"user-select","none"),b(Pt,"class","svelte-v7wju"),b(kt,"id","auto-link-paths"),b(kt,"type","checkbox"),b(kt,"class","svelte-v7wju"),b(yt,"class","advanced-options svelte-v7wju"),b(Et,"for","field-length"),y(Et,"user-select","none"),b(Et,"class","svelte-v7wju"),b(Zt,"id","auto-link-paths"),b(Zt,"type","checkbox"),b(Zt,"class","svelte-v7wju"),b(_t,"class","advanced-options svelte-v7wju"),b(M,"class","svelte-v7wju"),b(E,"class","robot-options-menu svelte-v7wju"),b(_,"class","settings-column svelte-v7wju"),b(Bt,"viewBox","0 0 144 144"),b(Bt,"width","100%"),b(Bt,"height","100%"),y(Bt,"position","absolute"),y(Bt,"top","0"),y(Bt,"left","0"),b(Bt,"class","svelte-v7wju"),b(zt,"class","field svelte-v7wju"),y(It,"user-select","none"),b(It,"class","svelte-v7wju"),b(Dt,"class","paths svelte-v7wju"),b(C,"class","container svelte-v7wju"),b(At,"class","play-button svelte-v7wju"),b(Ut,"type","range"),b(Ut,"id","scrub"),b(Ut,"min","0"),b(Ut,"max","100"),b(Ut,"step","0.001"),b(Ut,"class","svelte-v7wju"),b(Nt,"class","scrubbing-bar svelte-v7wju"),b(Ht,"class","footer svelte-v7wju"),b(k,"class","main-content svelte-v7wju"),b(n,"class","svelte-v7wju")},m(t,o){d(t,n,o),a(n,l),a(l,s),a(l,i),a(l,c),a(c,r),a(c,u),a(c,g),a(n,$),a(n,k),a(k,C),a(C,_),a(_,E),a(E,M),a(M,Z),a(M,z),a(M,L),a(L,T),a(L,B),a(L,O),a(O,D),a(O,F),P(O,e[2],!0),a(M,I),a(M,S),a(S,H),a(S,A),a(S,X),j(X,e[0]),a(M,W),a(M,V),a(V,tt),a(V,et),a(V,nt),j(nt,e[1]),a(M,it),a(M,ct),a(M,rt),a(M,ut),a(M,at),a(M,dt),a(dt,vt),a(vt,ht),a(vt,ft),Jt&&Jt.m(vt,null),a(dt,pt),a(dt,gt),a(gt,mt),a(gt,wt),Wt&&Wt.m(gt,null),a(M,bt),a(M,xt),a(M,jt),a(M,yt),a(yt,Pt),a(yt,$t),a(yt,kt),kt.checked=e[10],a(M,Ct),a(M,_t),a(_t,Et),a(_t,Mt),a(_t,Zt),Zt.checked=e[11],a(C,qt),a(C,zt);for(let t=0;t<Kt.length;t+=1)Kt[t]&&Kt[t].m(zt,null);a(zt,Lt),Qt&&Qt.m(zt,null),a(zt,Tt),a(zt,Bt);for(let t=0;t<te.length;t+=1)te[t]&&te[t].m(Bt,null);a(C,Ot),a(C,Dt);for(let t=0;t<ne.length;t+=1)ne[t]&&ne[t].m(Dt,null);a(Dt,Ft),a(Dt,It),a(k,St),a(k,Ht),a(Ht,Nt),a(Nt,At),se.m(At,null),a(Nt,Rt),a(Nt,Ut),j(Ut,e[4]),Xt||(Yt=[w(r,"click",e[18]),w(g,"click",e[17]),w(O,"change",e[28]),w(X,"input",e[29]),w(nt,"input",e[30]),w(kt,"change",e[35]),w(Zt,"change",e[36]),w(It,"click",e[49]),w(Ut,"change",e[50]),w(Ut,"input",e[50]),w(Ut,"input",e[23])],Xt=!0)},p(t,e){if(4&e[0]&&P(O,t[2]),1&e[0]&&x(X.value)!==t[0]&&j(X,t[0]),2&e[0]&&x(nt.value)!==t[1]&&j(nt,t[1]),t[5].length>0?Jt?Jt.p(t,e):(Jt=Y(t),Jt.c(),Jt.m(vt,null)):Jt&&(Jt.d(1),Jt=null),t[5].length>0?Wt?Wt.p(t,e):(Wt=J(t),Wt.c(),Wt.m(gt,null)):Wt&&(Wt.d(1),Wt=null),1024&e[0]&&(kt.checked=t[10]),2048&e[0]&&(Zt.checked=t[11]),32&e[0]){let n;for(Gt=t[5],n=0;n<Gt.length;n+=1){const o=U(t,Gt,n);Kt[n]?Kt[n].p(o,e):(Kt[n]=G(o),Kt[n].c(),Kt[n].m(zt,Lt))}for(;n<Kt.length;n+=1)Kt[n].d(1);Kt.length=Gt.length}if(t[5].length>0?Qt?Qt.p(t,e):(Qt=K(t),Qt.c(),Qt.m(zt,Tt)):Qt&&(Qt.d(1),Qt=null),32&e[0]){let n;for(Vt=t[5],n=0;n<Vt.length;n+=1){const o=R(t,Vt,n);te[n]?te[n].p(o,e):(te[n]=Q(o),te[n].c(),te[n].m(Bt,null))}for(;n<te.length;n+=1)te[n].d(1);te.length=Vt.length}if(74559520&e[0]){let n;for(ee=t[5],n=0;n<ee.length;n+=1){const o=N(t,ee,n);ne[n]?ne[n].p(o,e):(ne[n]=ot(o),ne[n].c(),ne[n].m(Dt,Ft))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=ee.length}le===(le=oe(t))&&se?se.p(t,e):(se.d(1),se=le(t),se&&(se.c(),se.m(At,null))),16&e[0]&&j(Ut,t[4])},i:t,o:t,d(t){t&&v(n),Jt&&Jt.d(),Wt&&Wt.d(),h(Kt,t),Qt&&Qt.d(),h(te,t),h(ne,t),se.d(),Xt=!1,o(Yt)}}}function ct(t,e){let n=[];for(let o=0;o<=1;o+=1/e)n.push(rt(t,o));return n.push(t[t.length-1]),n}function rt(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return rt(n,e)}const ut=t=>`${t.x},${144-t.y}`;function at(e,n,o){let l,i,c=function(e,n=t){let o;const l=new Set;function i(t){if(s(e,t)&&(e=t,o)){const t=!H.length;for(const t of l)t[1](),H.push(t,e);if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,c=t){const r=[s,c];return l.add(r),1===l.size&&(o=n(i)||t),s(e),()=>{l.delete(r),0===l.size&&o&&(o(),o=null)}}}}([]);r(e,c,(t=>o(5,i=t)));let a=0,d=0,v=18,h=18,f=18,p=18,g="inches";function m(t){c.update((e=>{const n=e.find((e=>e.id===t));return n&&(n.bezierCurvePoints=ct(n.controlPoints,100)),e}))}function w(){c.update((t=>{const e={id:t.length,controlPoints:[],bezierCurvePoints:[],color:`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`};if(t.length>0){const n=t[t.length-1];if(n.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,s=72+Math.cos(o)*l,i=72+Math.sin(o)*l;e.controlPoints.push({x:t.x,y:t.y}),e.controlPoints.push({x:s,y:i})}}else 0===t.length&&(e.controlPoints.push({x:12,y:96}),e.controlPoints.push({x:36,y:96}));return[...t,e]}))}function b(t){c.update((e=>{const n=e.find((e=>e.id===t));if(n){const t=2*Math.random()*Math.PI,e=50;o(12,a=72+Math.cos(t)*e),o(13,d=72+Math.sin(t)*e),n.controlPoints.splice(n.controlPoints.length-1,0,{x:a,y:d}),n.bezierCurvePoints=ct(n.controlPoints,100)}return e}))}function j(t,e){c.update((n=>{const o=n.find((e=>e.id===t));return o&&(o.color=e),n}))}function y(t){c.update((e=>{const n=e.filter((e=>e.id!==t));return n.forEach(((t,e)=>{t.id=e})),n}))}let P=0,$=12,k=96;function C(){let t=0;i.forEach((e=>{t+=e.bezierCurvePoints.length}));let e=0;for(let n of i){if(P<=(e+n.bezierCurvePoints.length)/t*100){const l=(P-e/t*100)/(n.bezierCurvePoints.length/t*100),s=Math.floor(l*(n.bezierCurvePoints.length-1)),i=n.bezierCurvePoints[s];i&&(o(8,$=i.x),o(9,k=i.y));break}e+=n.bezierCurvePoints.length}}let _=!1,E=!1,M=!0,Z=null,q=0,z=0,L=null,T=0,B=0,O=0,D=0,F=!0;function I(){o(3,_=!1),Z&&(clearInterval(Z),Z=null),o(27,E=!0),M=!1}document.addEventListener("DOMContentLoaded",(()=>{w(),m(i.length-1)})),document.addEventListener("mousedown",(t=>{const e=document.querySelector(".field").getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;let l=null,s=null,r=null,u=null;if(i.forEach((t=>{t.controlPoints.forEach(((i,c)=>{const a=i.x/144*e.width,d=e.height-i.y/144*e.height;Math.sqrt((n-a)**2+(o-d)**2)<10&&(null===l&&null===s?(l=t.id,s=c):S&&null===r&&null===u&&(r=t.id,u=c))}))})),null!==l&&null!==s){const t=t=>{const n=t.clientX-e.left,o=t.clientY-e.top,i=n/e.width*144,a=144-o/e.height*144;c.update((t=>{const e=t.find((t=>t.id===l));if(e&&(e.controlPoints[s]={x:i,y:a},e.bezierCurvePoints=ct(e.controlPoints,100)),S&&null!==r&&null!==u){const e=t.find((t=>t.id===r));e&&(e.controlPoints[u]={x:i,y:a},e.bezierCurvePoints=ct(e.controlPoints,100))}return t})),C()},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}));let S=!0;function N(){S&&c.update((t=>{for(let e=0;e<t.length-1;e++){const n=t[e],o=t[e+1];if(n.controlPoints.length>0&&o.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=ct(o.controlPoints,100)}}return t}))}return e.$$.update=()=>{if(7&e.$$.dirty[0]){const t="inches"===g?1:2.54;o(6,f=v/t),o(7,p=h/t)}if(32&e.$$.dirty[0]&&(l=1.56*i.length),134217784&e.$$.dirty[0]&&!_&&E){const t=i.length,e=Math.floor(B/100*t),n=B/100*t-e,o=n<.5?2*n*n:(4-2*n)*n-1;P=(e+o)/t*100,O=e,q=o,C()}if(8&e.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=_?"transform 1ms linear":"none",t.style.filter=_?"blur(0.2px)":"none")}},N(),C(),m(1),[v,h,g,_,B,i,f,p,$,k,F,S,a,d,L,c,m,function(){const t=i.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color}))),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const e=t.target.files[0],n=await e.text(),o=JSON.parse(n);c.set(o.map(((t,e)=>({...t,id:e})))),o.forEach(((t,e)=>m(e))),C()},t.click()},w,b,j,y,C,function(){_||(o(3,_=!0),O=M?0:Math.floor(P/100*i.length),D=Date.now()-(M?0:P%(100/i.length)/100*l*1e3),E&&(D=Date.now()-q*T*1e3),Z=setInterval((()=>{z=(Date.now()-D)/1e3,o(14,L=i[O]),T=l/i.length,q=z/T,o(4,B=(O+q)/i.length*100),q<.5?q*=2*q:q=(4-2*q)*q-1,P=(O+q)/i.length*100,C(),z>=T&&(O+1>=i.length?F?O=0:I():O++,D=Date.now())}),1))},I,N,E,function(){g=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),o(2,g)},function(){v=x(this.value),o(0,v)},function(){h=x(this.value),o(1,h)},function(){i[0].controlPoints[0].x=x(this.value),c.set(i)},()=>C(),function(){i[0].controlPoints[0].y=x(this.value),c.set(i)},()=>C(),function(){F=this.checked,o(10,F)},function(){S=this.checked,o(11,S)},t=>{if(0!=t.id&&t.id!=i.length-1){const e=i[t.id+1];u(c,i[t.id+1]={...i[t.id],id:t.id+1},i),u(c,i[t.id]={...e,id:t.id},i),c.set(i),N()}},t=>{if(0!=t.id&&1!=t.id){const e=i[t.id-1];u(c,i[t.id-1]={...i[t.id],id:t.id-1},i),u(c,i[t.id]={...e,id:t.id},i),c.set(i),N()}},function(t,e){t[e].color=this.value,c.set(i)},t=>j(t.id,t.color),t=>{i.length>1&&y(t.id)},t=>b(t.id),(t,e)=>{"Enter"===e.key&&b(t.id)},function(t,e,n){e[n].controlPoints[t].x=x(this.value),c.set(i)},t=>m(t.id),function(t,e,n){e[n].controlPoints[t].y=x(this.value),c.set(i)},t=>m(t.id),(t,e)=>{t.controlPoints.length>2&&(t.controlPoints.splice(e,1),m(t.id),c.set(i))},()=>{w(),m(i.length-1)},function(){B=x(this.value),o(4,B)}]}return new class extends S{constructor(t){super(),I(this,t,at,it,s,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
