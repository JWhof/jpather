var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,r;function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function a(t,e,n){return t.set(n),e}function d(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function x(){return f(" ")}function m(){return f("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function j(t,e){t.value=null==e?"":e}function P(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function $(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function C(t){const e=t.querySelector(":checked");return e&&e.__value}function k(t){r=t}function M(t){(function(){if(!r)throw new Error("Function called outside component initialization");return r})().$$.on_mount.push(t)}const _=[],A=[];let E=[];const H=[],D=Promise.resolve();let F=!1;function z(t){E.push(t)}const Z=new Set;let q=0;function B(){if(0!==q)return;const t=r;do{try{for(;q<_.length;){const t=_[q];q++,k(t),I(t.$$)}}catch(t){throw _.length=0,q=0,t}for(k(null),_.length=0,q=0;A.length;)A.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];Z.has(e)||(Z.add(e),e())}E.length=0}while(_.length);for(;H.length;)H.pop()();F=!1,Z.clear(),k(t)}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const R=new Set;function T(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),E=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(_.push(t),F||(F=!0,D.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(s,i,c,a,d,u,p,v=[-1]){const g=r;k(s);const f=s.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(g?g.$$.context:[])),callbacks:n(),dirty:v,skip_bound:!1,root:i.target||g.$$.root};p&&p(f.root);let x=!1;if(f.ctx=c?c(s,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return f.ctx&&d(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),x&&L(s,t)),e})):[],f.update(),x=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();i.intro&&((m=s.$$.fragment)&&m.i&&(R.delete(m),m.i(w))),function(t,n,s,i){const{fragment:r,after_update:c}=t.$$;r&&r.m(n,s),i||z((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(z)}(s,i.target,i.anchor,i.customElement),B()}var m,w;k(g)}class O{$destroy(){T(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const N=[];function U(e,n=t){let o;const l=new Set;function i(t){if(s(e,t)&&(e=t,o)){const t=!N.length;for(const t of l)t[1](),N.push(t,e);if(t){for(let t=0;t<N.length;t+=2)N[t][0](N[t+1]);N.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,r=t){const c=[s,r];return l.add(c),1===l.size&&(o=n(i)||t),s(e),()=>{l.delete(c),0===l.size&&o&&(o(),o=null)}}}}class X{constructor(t,e=[],n=this.getRandomBrightColor(),o="constant"){this.id=t,this.controlPoints=e,this.color=n,this.robotHeading=o,this.bezierCurvePoints=this.calculateBezier()}getRandomBrightColor(){return`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`}calculateBezier(t=100){if(this.controlPoints.length<2)return[];let e=[];for(let n=0;n<=1;n+=1/t)e.push(this.deCasteljau(this.controlPoints,n));return e.push(this.controlPoints[this.controlPoints.length-1]),e}deCasteljau(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return this.deCasteljau(n,e)}addControlPoint(t,e){this.controlPoints.push({x:t,y:e}),this.bezierCurvePoints=this.calculateBezier()}updateControlPoint(t,e,n){t>=0&&t<this.controlPoints.length&&(this.controlPoints[t]={x:e,y:n},this.bezierCurvePoints=this.calculateBezier())}setColor(t){this.color=t}setHeading(t){this.robotHeading=t}}const Y=new Map;function J(t,e){const n=JSON.stringify({t:t,controlPoints:e});return Y.has(n)||Y.set(n,G(t,e)),Y.get(n)}function G(t,e){if(2===e.length)return{x:(1-t)*e[0].x+t*e[1].x,y:(1-t)*e[0].y+t*e[1].y};if(1===e.length)return e[0];let n=[];for(let o=0;o<e.length-1;o++){let l=(1-t)*e[o].x+t*e[o+1].x,s=(1-t)*e[o].y+t*e[o+1].y;n.push({x:l,y:s})}return G(t,n)}function W(t,e){const n=function(t,e){if(e.length<2)return{x:0,y:0};let n=[];for(let t=0;t<e.length-1;t++){let o=e.length*(e[t+1].x-e[t].x),l=e.length*(e[t+1].y-e[t].y);n.push({x:o,y:l})}return J(t,n)}(t,e),o=Math.sqrt(n.x**2+n.y**2);return 0===o?{x:0,y:0}:{x:-n.y/o,y:n.x/o}}function K(t,e,n){const o=J(t,e),l=W(t,e);return{left:{x:o.x+l.x*(n/2),y:o.y+l.y*(n/2)},right:{x:o.x-l.x*(n/2),y:o.y-l.y*(n/2)}}}function Q(t,e,n){const o=t.slice();return o[10]=e[n],o[82]=e,o[83]=n,o}function V(t,e,n){const o=t.slice();return o[84]=e[n].x,o[85]=e[n].y,o[87]=n,o}function tt(t,e,n){const o=t.slice();return o[10]=e[n],o}function et(t,e,n){const o=t.slice();return o[10]=e[n],o}function nt(t,e,n){const o=t.slice();return o[10]=e[n],o}function ot(t,e,n){const o=t.slice();return o[84]=e[n].x,o[85]=e[n].y,o}function lt(t){let e,n,l;return{c(){e=v("input"),b(e,"class","start-pos-box svelte-oxdj5w"),b(e,"type","number"),b(e,"step","1")},m(o,s){u(o,e,s),j(e,t[9][0].controlPoints[0].x),n||(l=[w(e,"input",t[40]),w(e,"input",t[41])],n=!0)},p(t,n){512&n[0]&&y(e.value)!==t[9][0].controlPoints[0].x&&j(e,t[9][0].controlPoints[0].x)},d(t){t&&h(e),n=!1,o(l)}}}function st(t){let e,n,l;return{c(){e=v("input"),b(e,"class","start-pos-box svelte-oxdj5w"),b(e,"type","number"),b(e,"step","1")},m(o,s){u(o,e,s),j(e,t[9][0].controlPoints[0].y),n||(l=[w(e,"input",t[42]),w(e,"input",t[43])],n=!0)},p(t,n){512&n[0]&&y(e.value)!==t[9][0].controlPoints[0].y&&j(e,t[9][0].controlPoints[0].y)},d(t){t&&h(e),n=!1,o(l)}}}function it(t){let e,n,o;return{c(){e=v("div"),n=v("div"),o=x(),b(n,"class","point svelte-oxdj5w"),P(n,"left",t[84]/144*100+"%"),P(n,"bottom",t[85]/144*100+"%"),P(n,"background",t[10].color),b(e,"class","hover-point svelte-oxdj5w")},m(t,l){u(t,e,l),d(e,n),d(e,o)},p(t,e){512&e[0]&&P(n,"left",t[84]/144*100+"%"),512&e[0]&&P(n,"bottom",t[85]/144*100+"%"),512&e[0]&&P(n,"background",t[10].color)},d(t){t&&h(e)}}}function rt(t){let e,n=t[10].controlPoints,o=[];for(let e=0;e<n.length;e+=1)o[e]=it(ot(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);u(t,e,n)},p(t,l){if(512&l[0]){let s;for(n=t[10].controlPoints,s=0;s<n.length;s+=1){const i=ot(t,n,s);o[s]?o[s].p(i,l):(o[s]=it(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){p(o,t),t&&h(e)}}}function ct(t){let e,n;return{c(){var o,l;e=v("img"),o=e.src,l=n="./assets/robot.png",i||(i=document.createElement("a")),i.href=l,o!==i.href&&b(e,"src","./assets/robot.png"),b(e,"alt","Robot"),b(e,"id","robot"),P(e,"width",t[3]/144*100+"%"),P(e,"height",t[2]/144*100+"%"),P(e,"left",t[11]/144*100+"%"),P(e,"bottom",t[12]/144*100+"%"),P(e,"user-select","none"),P(e,"position","absolute"),b(e,"class","svelte-oxdj5w")},m(t,n){u(t,e,n)},p(t,n){8&n[0]&&P(e,"width",t[3]/144*100+"%"),4&n[0]&&P(e,"height",t[2]/144*100+"%"),2048&n[0]&&P(e,"left",t[11]/144*100+"%"),4096&n[0]&&P(e,"bottom",t[12]/144*100+"%")},d(t){t&&h(e)}}}function at(t){let e,n=t[8],o=[];for(let e=0;e<n.length;e+=1)o[e]=ut(et(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=m()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);u(t,e,n)},p(t,l){if(256&l[0]){let s;for(n=t[8],s=0;s<n.length;s+=1){const i=et(t,n,s);o[s]?o[s].p(i,l):(o[s]=ut(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){p(o,t),t&&h(e)}}}function dt(t){let e,n,o,l,s,i,r,c;return{c(){e=g("polygon"),o=g("path"),i=g("path"),b(e,"points",n=t[10].left.map(_t).join(" ")+" "+t[10].right.reverse().map(At).join(" ")),b(e,"fill","rgba(255, 255, 255, 0.2)"),b(e,"stroke","none"),b(e,"class","svelte-oxdj5w"),b(o,"d",l="M "+t[10].left.map(Et).join(" ")),b(o,"stroke",s=t[10].color),b(o,"fill","none"),b(o,"stroke-width","1"),b(o,"opacity","0.4"),b(o,"class","svelte-oxdj5w"),b(i,"d",r="M "+t[10].right.map(Ht).join(" ")),b(i,"stroke",c=t[10].color),b(i,"fill","none"),b(i,"stroke-width","1"),b(i,"opacity","0.4"),b(i,"class","svelte-oxdj5w")},m(t,n){u(t,e,n),u(t,o,n),u(t,i,n)},p(t,a){256&a[0]&&n!==(n=t[10].left.map(_t).join(" ")+" "+t[10].right.reverse().map(At).join(" "))&&b(e,"points",n),256&a[0]&&l!==(l="M "+t[10].left.map(Et).join(" "))&&b(o,"d",l),256&a[0]&&s!==(s=t[10].color)&&b(o,"stroke",s),256&a[0]&&r!==(r="M "+t[10].right.map(Ht).join(" "))&&b(i,"d",r),256&a[0]&&c!==(c=t[10].color)&&b(i,"stroke",c)},d(t){t&&h(e),t&&h(o),t&&h(i)}}}function ut(t){let e,n=t[10].left.length>0&&t[10].right.length>0&&dt(t);return{c(){n&&n.c(),e=m()},m(t,o){n&&n.m(t,o),u(t,e,o)},p(t,o){t[10].left.length>0&&t[10].right.length>0?n?n.p(t,o):(n=dt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function ht(t){let e,n,o;return{c(){e=g("path"),b(e,"d",n="M "+t[10].main.map(Dt).join(" ")),b(e,"stroke",o=t[10].color),b(e,"fill","none"),b(e,"stroke-width","1"),b(e,"class","svelte-oxdj5w")},m(t,n){u(t,e,n)},p(t,l){256&l[0]&&n!==(n="M "+t[10].main.map(Dt).join(" "))&&b(e,"d",n),256&l[0]&&o!==(o=t[10].color)&&b(e,"stroke",o)},d(t){t&&h(e)}}}function pt(t){let e,n=t[10].main.length>0&&ht(t);return{c(){n&&n.c(),e=m()},m(t,o){n&&n.m(t,o),u(t,e,o)},p(t,o){t[10].main.length>0?n?n.p(t,o):(n=ht(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&h(e)}}}function vt(t){let e,n,o,l,s;return{c(){e=v("label"),n=f("Control Point "),o=f(t[87]),l=f(":"),b(e,"for",s="control-point-"+t[10].id+"-"+t[87]),P(e,"user-select","none"),b(e,"class","svelte-oxdj5w")},m(t,s){u(t,e,s),d(e,n),d(e,o),d(e,l)},p(t,n){512&n[0]&&s!==(s="control-point-"+t[10].id+"-"+t[87])&&b(e,"for",s)},d(t){t&&h(e)}}}function gt(t){let e,n,o;return{c(){e=v("label"),n=f("Endpoint:"),b(e,"for",o="control-point-"+t[10].id+"-"+t[87]),P(e,"user-select","none"),b(e,"class","svelte-oxdj5w")},m(t,o){u(t,e,o),d(e,n)},p(t,n){512&n[0]&&o!==(o="control-point-"+t[10].id+"-"+t[87])&&b(e,"for",o)},d(t){t&&h(e)}}}function ft(t){let e,n,l,s,i,r,c,a,p,g,m,y,j,C,k,M,_,A,E,H,D,F,Z,q,B,I;function R(...e){return t[60](t[10],t[82],t[83],...e)}function T(...e){return t[61](t[10],t[82],t[83],...e)}function L(){t[62].call(H,t[82],t[83])}function S(){return t[63](t[10])}function O(t,e){return"linear"===t[10].robotHeading?bt:"tangential"===t[10].robotHeading?wt:"constant"===t[10].robotHeading?mt:void 0}let N=O(t),U=N&&N(t);return{c(){e=v("div"),n=v("div"),l=v("label"),s=f("X:"),r=x(),c=v("input"),g=x(),m=v("div"),y=v("label"),j=f("Y:"),k=x(),M=v("input"),E=x(),H=v("select"),D=v("option"),D.textContent="Constant",F=v("option"),F.textContent="Tangential",Z=v("option"),Z.textContent="Linear",q=x(),U&&U.c(),b(l,"class","cp-x svelte-oxdj5w"),b(l,"for",i="control-point-"+t[10].id+"-"+t[87]),P(l,"user-select","none"),b(c,"id",a="control-point-"+t[10].id+"-"+t[87]),b(c,"class","standard-input-box svelte-oxdj5w"),b(c,"type","number"),b(c,"step","1"),c.value=p=t[10].controlPoints[t[10].controlPoints.length-1].x,b(n,"class","control-point-mini-box-x svelte-oxdj5w"),b(y,"class","cp-y svelte-oxdj5w"),b(y,"for",C="control-point-"+t[10].id+"-"+t[87]+"-y"),P(y,"user-select","none"),b(M,"id",_="control-point-"+t[10].id+"-"+t[87]+"-y"),b(M,"class","standard-input-box svelte-oxdj5w"),b(M,"type","number"),b(M,"step","1"),M.value=A=t[10].controlPoints[t[10].controlPoints.length-1].y,b(m,"class","control-point-mini-box-y svelte-oxdj5w"),D.__value="constant",D.value=D.__value,b(D,"class","svelte-oxdj5w"),F.__value="tangential",F.value=F.__value,b(F,"class","svelte-oxdj5w"),Z.__value="linear",Z.value=Z.__value,b(Z,"class","svelte-oxdj5w"),b(H,"id","robot-heading"),b(H,"class","standard-input-box svelte-oxdj5w"),void 0===t[10].robotHeading&&z(L),b(e,"class","control-point-mini-box svelte-oxdj5w")},m(o,i){u(o,e,i),d(e,n),d(n,l),d(l,s),d(n,r),d(n,c),d(e,g),d(e,m),d(m,y),d(y,j),d(m,k),d(m,M),d(e,E),d(e,H),d(H,D),d(H,F),d(H,Z),$(H,t[10].robotHeading,!0),d(e,q),U&&U.m(e,null),B||(I=[w(c,"input",R),w(M,"input",T),w(H,"change",L),w(H,"change",S)],B=!0)},p(n,o){t=n,512&o[0]&&i!==(i="control-point-"+t[10].id+"-"+t[87])&&b(l,"for",i),512&o[0]&&a!==(a="control-point-"+t[10].id+"-"+t[87])&&b(c,"id",a),512&o[0]&&p!==(p=t[10].controlPoints[t[10].controlPoints.length-1].x)&&c.value!==p&&(c.value=p),512&o[0]&&C!==(C="control-point-"+t[10].id+"-"+t[87]+"-y")&&b(y,"for",C),512&o[0]&&_!==(_="control-point-"+t[10].id+"-"+t[87]+"-y")&&b(M,"id",_),512&o[0]&&A!==(A=t[10].controlPoints[t[10].controlPoints.length-1].y)&&M.value!==A&&(M.value=A),512&o[0]&&$(H,t[10].robotHeading),N===(N=O(t))&&U?U.p(t,o):(U&&U.d(1),U=N&&N(t),U&&(U.c(),U.m(e,null)))},d(t){t&&h(e),U&&U.d(),B=!1,o(I)}}}function xt(t){let e,n,l,s,i,r,c,a,p,m,y,j,$,C,k,M,_,A,E;function H(...e){return t[57](t[10],t[87],t[82],t[83],...e)}function D(...e){return t[58](t[10],t[87],t[82],t[83],...e)}let F=t[87]>0&&function(t){let e,n,o,l;function s(){return t[59](t[10],t[87])}return{c(){e=g("svg"),n=g("path"),b(n,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),b(n,"class","svelte-oxdj5w"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 -960 960 960"),b(e,"width","24px"),b(e,"fill","#FF474D"),P(e,"cursor","pointer"),b(e,"class","svelte-oxdj5w")},m(t,i){u(t,e,i),d(e,n),o||(l=w(e,"click",s),o=!0)},p(e,n){t=e},d(t){t&&h(e),o=!1,l()}}}(t);return{c(){e=v("div"),n=v("div"),l=v("label"),s=f("X:"),r=x(),c=v("input"),p=x(),m=v("div"),y=v("label"),j=f("Y:"),C=x(),k=v("input"),_=x(),F&&F.c(),b(l,"class","cp-x svelte-oxdj5w"),b(l,"for",i="control-point-"+t[10].id+"-"+t[87]),P(l,"user-select","none"),b(c,"id","cp-input"),b(c,"class","standard-input-box svelte-oxdj5w"),b(c,"type","number"),b(c,"step","1"),c.value=a=t[10].controlPoints[t[87]].x,b(n,"class","control-point-mini-box-x svelte-oxdj5w"),b(y,"class","cp-y svelte-oxdj5w"),b(y,"for",$="control-point-"+t[10].id+"-"+t[87]+"-y"),P(y,"user-select","none"),b(k,"id","cp-input"),b(k,"class","standard-input-box svelte-oxdj5w"),b(k,"type","number"),b(k,"step","1"),k.value=M=t[10].controlPoints[t[87]].y,b(m,"class","control-point-mini-box-y svelte-oxdj5w"),b(e,"class","control-point-mini-box svelte-oxdj5w")},m(t,o){u(t,e,o),d(e,n),d(n,l),d(l,s),d(n,r),d(n,c),d(e,p),d(e,m),d(m,y),d(y,j),d(m,C),d(m,k),d(e,_),F&&F.m(e,null),A||(E=[w(c,"input",H),w(k,"input",D)],A=!0)},p(e,n){t=e,512&n[0]&&i!==(i="control-point-"+t[10].id+"-"+t[87])&&b(l,"for",i),512&n[0]&&a!==(a=t[10].controlPoints[t[87]].x)&&c.value!==a&&(c.value=a),512&n[0]&&$!==($="control-point-"+t[10].id+"-"+t[87]+"-y")&&b(y,"for",$),512&n[0]&&M!==(M=t[10].controlPoints[t[87]].y)&&k.value!==M&&(k.value=M),t[87]>0&&F.p(t,n)},d(t){t&&h(e),F&&F.d(),A=!1,o(E)}}}function mt(t){let e,n,l,s;function i(){t[70].call(n,t[82],t[83])}return{c(){e=v("div"),n=v("input"),b(n,"id","constant-angle"),b(n,"class","standard-input-box svelte-oxdj5w"),b(n,"type","number"),b(n,"step","0.01"),b(e,"class","control-point-mini-box svelte-oxdj5w")},m(o,r){u(o,e,r),d(e,n),j(n,t[10].constantAngleDegrees),l||(s=[w(n,"input",i),w(n,"input",t[71])],l=!0)},p(e,o){t=e,512&o[0]&&y(n.value)!==t[10].constantAngleDegrees&&j(n,t[10].constantAngleDegrees)},d(t){t&&h(e),l=!1,o(s)}}}function wt(t){let e,n,l,s,i,r;function c(){t[68].call(s,t[82],t[83])}return{c(){e=v("div"),n=v("label"),n.textContent="Reverse:",l=x(),s=v("input"),b(n,"for","reverse"),P(n,"user-select","none"),b(n,"class","svelte-oxdj5w"),b(s,"id","reverse"),b(s,"type","checkbox"),b(s,"class","svelte-oxdj5w"),b(e,"class","control-point-mini-box svelte-oxdj5w")},m(o,a){u(o,e,a),d(e,n),d(e,l),d(e,s),s.checked=t[10].reverse,i||(r=[w(s,"change",c),w(s,"input",t[69])],i=!0)},p(e,n){t=e,512&n[0]&&(s.checked=t[10].reverse)},d(t){t&&h(e),i=!1,o(r)}}}function bt(t){let e,n,l,s,i,r,c;function a(){t[64].call(n,t[82],t[83])}function p(){t[66].call(i,t[82],t[83])}return{c(){e=v("div"),n=v("input"),l=x(),s=v("div"),i=v("input"),b(n,"id","start-angle"),b(n,"class","standard-input-box svelte-oxdj5w"),b(n,"type","number"),b(n,"step","0.01"),b(e,"class","control-point-mini-box svelte-oxdj5w"),b(i,"id","end-angle"),b(i,"class","standard-input-box svelte-oxdj5w"),b(i,"type","number"),b(i,"step","0.01"),b(s,"class","control-point-mini-box svelte-oxdj5w")},m(o,h){u(o,e,h),d(e,n),j(n,t[10].startAngleDegrees),u(o,l,h),u(o,s,h),d(s,i),j(i,t[10].endAngleDegrees),r||(c=[w(n,"input",a),w(n,"input",t[65]),w(i,"input",p),w(i,"input",t[67])],r=!0)},p(e,o){t=e,512&o[0]&&y(n.value)!==t[10].startAngleDegrees&&j(n,t[10].startAngleDegrees),512&o[0]&&y(i.value)!==t[10].endAngleDegrees&&j(i,t[10].endAngleDegrees)},d(t){t&&h(e),t&&h(l),t&&h(s),r=!1,o(c)}}}function yt(t){let e,n;function o(t,e){return 0==t[87]?gt:t[87]>0&&t[87]!=t[10].controlPoints.length-1?vt:void 0}let l=o(t),s=l&&l(t);function i(t,e){return t[87]>0&&t[87]!=t[10].controlPoints.length-1?xt:0==t[87]?ft:void 0}let r=i(t),c=r&&r(t);return{c(){e=v("div"),s&&s.c(),n=x(),c&&c.c(),b(e,"class","control-point-box svelte-oxdj5w")},m(t,o){u(t,e,o),s&&s.m(e,null),d(e,n),c&&c.m(e,null)},p(t,a){l===(l=o(t))&&s?s.p(t,a):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(e,n))),r===(r=i(t))&&c?c.p(t,a):(c&&c.d(1),c=r&&r(t),c&&(c.c(),c.m(e,null)))},d(t){t&&h(e),s&&s.d(),c&&c.d()}}}function jt(t){let e,n,l,s,i,r,c,a,m,y,$,C,k,M,_,A,E,H,D,F,z,Z,q,B,I,R,T,L,S=t[10].id+1+"";function O(){return t[50](t[10])}function N(){return t[51](t[10])}function U(){t[52].call(C,t[82],t[83])}function X(){return t[53](t[10])}function Y(){return t[54](t[10])}function J(){return t[55](t[10])}function G(...e){return t[56](t[10],...e)}let W=t[10].controlPoints,K=[];for(let e=0;e<W.length;e+=1)K[e]=yt(V(t,W,e));return{c(){e=v("div"),n=v("div"),l=v("div"),s=g("svg"),i=g("path"),c=x(),a=g("svg"),m=g("path"),$=x(),C=v("input"),k=x(),M=v("p"),_=f("Path "),A=f(S),E=x(),H=v("div"),D=g("svg"),F=g("path"),Z=x(),q=g("svg"),B=g("path"),I=x(),R=v("div");for(let t=0;t<K.length;t+=1)K[t].c();b(i,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),b(i,"class","svelte-oxdj5w"),b(s,"xmlns","http://www.w3.org/2000/svg"),b(s,"height","24px"),b(s,"viewBox","0 -960 960 960"),b(s,"width","24px"),b(s,"fill",r=0!=t[10].id&&t[10].id!=t[9].length-1?"black":"gray"),P(s,"cursor",0!=t[10].id&&t[10].id!=t[9].length-1?"pointer":"default"),b(s,"class","svelte-oxdj5w"),b(m,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),b(m,"class","svelte-oxdj5w"),b(a,"xmlns","http://www.w3.org/2000/svg"),b(a,"height","24px"),b(a,"viewBox","0 -960 960 960"),b(a,"width","24px"),b(a,"fill",y=0!=t[10].id&&1!=t[10].id?"black":"gray"),P(a,"cursor",0!=t[10].id&&1!=t[10].id?"pointer":"default"),b(a,"class","svelte-oxdj5w"),b(C,"type","color"),b(C,"class","color-circle svelte-oxdj5w"),P(C,"background-color",t[10].color),b(M,"class","path-title svelte-oxdj5w"),P(M,"user-select","none"),b(l,"class","path-and-color svelte-oxdj5w"),b(F,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),b(F,"class","svelte-oxdj5w"),b(D,"xmlns","http://www.w3.org/2000/svg"),b(D,"height","24px"),b(D,"viewBox","0 -960 960 960"),b(D,"width","24px"),b(D,"fill",z=t[9].length>1?"#FF474D":"gray"),P(D,"cursor",t[9].length>1?"pointer":"default"),b(D,"class","svelte-oxdj5w"),b(B,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),b(B,"class","svelte-oxdj5w"),b(q,"xmlns","http://www.w3.org/2000/svg"),b(q,"height","24px"),b(q,"viewBox","0 -960 960 960"),b(q,"width","24px"),b(q,"fill","#90EE90"),P(q,"cursor","pointer"),b(q,"class","svelte-oxdj5w"),b(H,"class","add-and-remove svelte-oxdj5w"),b(n,"class","path-header svelte-oxdj5w"),b(R,"class","path-control-points svelte-oxdj5w"),b(e,"class","path svelte-oxdj5w"),P(e,"border-color",t[10].color)},m(o,r){u(o,e,r),d(e,n),d(n,l),d(l,s),d(s,i),d(l,c),d(l,a),d(a,m),d(l,$),d(l,C),j(C,t[10].color),d(l,k),d(l,M),d(M,_),d(M,A),d(n,E),d(n,H),d(H,D),d(D,F),d(H,Z),d(H,q),d(q,B),d(e,I),d(e,R);for(let t=0;t<K.length;t+=1)K[t]&&K[t].m(R,null);T||(L=[w(s,"click",O),w(a,"click",N),w(C,"input",U),w(C,"input",X),w(D,"click",Y),w(q,"click",J),w(q,"keydown",G)],T=!0)},p(n,o){if(t=n,512&o[0]&&r!==(r=0!=t[10].id&&t[10].id!=t[9].length-1?"black":"gray")&&b(s,"fill",r),512&o[0]&&P(s,"cursor",0!=t[10].id&&t[10].id!=t[9].length-1?"pointer":"default"),512&o[0]&&y!==(y=0!=t[10].id&&1!=t[10].id?"black":"gray")&&b(a,"fill",y),512&o[0]&&P(a,"cursor",0!=t[10].id&&1!=t[10].id?"pointer":"default"),512&o[0]&&P(C,"background-color",t[10].color),512&o[0]&&j(C,t[10].color),512&o[0]&&S!==(S=t[10].id+1+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(A,S),512&o[0]&&z!==(z=t[9].length>1?"#FF474D":"gray")&&b(D,"fill",z),512&o[0]&&P(D,"cursor",t[9].length>1?"pointer":"default"),1077936642&o[0]){let e;for(W=t[10].controlPoints,e=0;e<W.length;e+=1){const n=V(t,W,e);K[e]?K[e].p(n,o):(K[e]=yt(n),K[e].c(),K[e].m(R,null))}for(;e<K.length;e+=1)K[e].d(1);K.length=W.length}512&o[0]&&P(e,"border-color",t[10].color)},d(t){t&&h(e),p(K,t),T=!1,o(L)}}}function Pt(e){let n,o,l,s;return{c(){n=g("svg"),o=g("path"),b(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),b(o,"class","svelte-oxdj5w"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"height","24px"),b(n,"viewBox","0 -960 960 960"),b(n,"width","24px"),b(n,"fill","#FF474D"),b(n,"class","svelte-oxdj5w")},m(t,i){u(t,n,i),d(n,o),l||(s=w(n,"click",e[31]),l=!0)},p:t,d(t){t&&h(n),l=!1,s()}}}function $t(e){let n,o,l,s;return{c(){n=g("svg"),o=g("path"),b(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),b(o,"class","svelte-oxdj5w"),b(n,"xmlns","http://www.w3.org/2000/svg"),b(n,"height","24px"),b(n,"viewBox","0 -960 960 960"),b(n,"width","24px"),b(n,"fill","#90EE90"),b(n,"class","svelte-oxdj5w")},m(t,i){u(t,n,i),d(n,o),l||(s=w(n,"click",e[29]),l=!0)},p:t,d(t){t&&h(n),l=!1,s()}}}function Ct(e){let n,l,s,i,r,c,a,f,C,k,M,_,A,E,H,D,F,Z,q,B,I,R,T,L,S,O,N,U,X,Y,J,G,W,K,V,et,ot,it,dt,ut,ht,vt,gt,ft,xt,mt,wt,bt,yt,Ct,kt,Mt,_t,At,Et,Ht,Dt,Ft,zt,Zt,qt,Bt,It,Rt,Tt,Lt,St,Ot,Nt,Ut,Xt,Yt,Jt,Gt,Wt,Kt,Qt,Vt,te,ee,ne,oe,le,se,ie,re,ce,ae,de,ue,he,pe,ve,ge,fe,xe,me,we,be,ye,je,Pe,$e,Ce,ke,Me,_e,Ae,Ee,He,De,Fe,ze,Ze,qe,Be,Ie,Re=e[9].length>0&&lt(e),Te=e[9].length>0&&st(e),Le=e[9],Se=[];for(let t=0;t<Le.length;t+=1)Se[t]=rt(nt(e,Le,t));let Oe=e[9].length>0&&ct(e),Ne=e[19]&&at(e),Ue=e[8],Xe=[];for(let t=0;t<Ue.length;t+=1)Xe[t]=pt(tt(e,Ue,t));let Ye=e[9],Je=[];for(let t=0;t<Ye.length;t+=1)Je[t]=jt(Q(e,Ye,t));function Ge(t,e){return t[6]?Pt:$t}let We=Ge(e),Ke=We(e);return{c(){n=v("div"),l=v("div"),s=v("h1"),s.textContent="JPather",i=x(),r=v("div"),c=g("svg"),a=g("path"),f=x(),C=v("button"),C.textContent="Import Control Points",k=x(),M=v("button"),M.textContent="Export Control Points",_=x(),A=v("div"),E=v("div"),H=v("div"),D=v("div"),F=v("div"),Z=v("h2"),Z.textContent="Robot Options",q=x(),B=v("div"),I=v("label"),I.textContent="Units:",R=x(),T=v("select"),L=v("option"),L.textContent="Inches",S=v("option"),S.textContent="Centimeters",O=x(),N=v("div"),U=v("label"),U.textContent="Robot Length:",X=x(),Y=v("input"),J=x(),G=v("div"),W=v("label"),W.textContent="Robot Width:",K=x(),V=v("input"),et=x(),ot=v("h2"),ot.textContent="Field Options",it=x(),dt=v("div"),ut=v("label"),ut.textContent="Starting Position:",ht=x(),vt=v("div"),gt=v("div"),ft=v("label"),ft.textContent="X:",xt=x(),Re&&Re.c(),mt=x(),wt=v("div"),bt=v("label"),bt.textContent="Y:",yt=x(),Te&&Te.c(),Ct=x(),kt=v("label"),kt.textContent="Live Position:",Mt=x(),_t=v("div"),At=v("div"),Et=v("div"),Ht=v("label"),Ht.textContent="X:",Dt=x(),Ft=v("input"),zt=x(),Zt=v("div"),qt=v("label"),qt.textContent="Y:",Bt=x(),It=v("input"),Rt=x(),Tt=v("div"),Lt=v("label"),Lt.textContent="θ:",St=x(),Ot=v("input"),Ut=x(),Xt=v("div"),Yt=v("label"),Yt.textContent="Current Path:",Jt=x(),Gt=v("input"),Kt=x(),Qt=v("h2"),Qt.textContent="Advanced Options",Vt=x(),te=v("div"),ee=v("label"),ee.textContent="Show Robot Hitbox:",ne=x(),oe=v("input"),le=x(),se=v("div"),ie=v("label"),ie.textContent="Infinite Path Looping:",re=x(),ce=v("input"),ae=x(),de=v("div"),ue=v("label"),ue.textContent="Auto-link Paths:",he=x(),pe=v("input"),ve=x(),ge=v("div"),fe=v("label"),fe.textContent="Rotational Units:",xe=x(),me=v("select"),we=v("option"),we.textContent="Degrees",be=v("option"),be.textContent="Radians",ye=x(),je=v("div");for(let t=0;t<Se.length;t+=1)Se[t].c();Pe=x(),Oe&&Oe.c(),$e=x(),Ce=g("svg"),Ne&&Ne.c(),ke=m();for(let t=0;t<Xe.length;t+=1)Xe[t].c();Me=x(),_e=v("div");for(let t=0;t<Je.length;t+=1)Je[t].c();Ae=x(),Ee=v("button"),Ee.textContent="Add Path",He=x(),De=v("div"),Fe=v("div"),ze=v("div"),Ke.c(),Ze=x(),qe=v("input"),b(s,"class","page-title svelte-oxdj5w"),b(a,"d","M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z"),b(a,"class","svelte-oxdj5w"),b(c,"id","code-window-btn"),b(c,"xmlns","http://www.w3.org/2000/svg"),b(c,"height","24px"),b(c,"viewBox","0 -960 960 960"),b(c,"width","24px"),b(c,"fill","black"),b(c,"class","svelte-oxdj5w"),P(C,"user-select","none"),b(C,"class","svelte-oxdj5w"),P(M,"user-select","none"),b(M,"class","svelte-oxdj5w"),b(r,"class","export-import svelte-oxdj5w"),b(l,"class","header svelte-oxdj5w"),b(Z,"class","section-title svelte-oxdj5w"),P(Z,"user-select","none"),b(I,"for","robotUnits"),P(I,"user-select","none"),b(I,"class","svelte-oxdj5w"),L.__value="inches",L.value=L.__value,b(L,"class","svelte-oxdj5w"),S.__value="cm",S.value=S.__value,b(S,"class","svelte-oxdj5w"),b(T,"id","robotUnits"),b(T,"class","standard-input-box svelte-oxdj5w"),void 0===e[4]&&z((()=>e[35].call(T))),b(B,"class","robot-options svelte-oxdj5w"),b(U,"for","robot-length"),P(U,"user-select","none"),b(U,"class","svelte-oxdj5w"),b(Y,"id","robot-length"),b(Y,"class","standard-input-box svelte-oxdj5w"),b(Y,"type","number"),b(Y,"step","1"),b(N,"class","robot-options svelte-oxdj5w"),b(W,"for","robot-width"),P(W,"user-select","none"),b(W,"class","svelte-oxdj5w"),b(V,"id","robot-width"),b(V,"class","standard-input-box svelte-oxdj5w"),b(V,"type","number"),b(V,"step","1"),b(G,"class","robot-options svelte-oxdj5w"),b(ot,"id","field-options"),b(ot,"class","section-title svelte-oxdj5w"),P(ot,"user-select","none"),b(ut,"class","adv-options svelte-oxdj5w"),P(ut,"user-select","none"),b(ft,"class","cp-x svelte-oxdj5w"),P(ft,"user-select","none"),b(gt,"class","control-point-mini-box-x svelte-oxdj5w"),b(bt,"class","cp-x svelte-oxdj5w"),P(bt,"user-select","none"),b(wt,"class","control-point-mini-box-y svelte-oxdj5w"),b(vt,"class","control-point-mini-box svelte-oxdj5w"),b(dt,"class","start-pos-container svelte-oxdj5w"),b(kt,"class","adv-options svelte-oxdj5w"),P(kt,"user-select","none"),b(Ht,"class","cp-x svelte-oxdj5w"),P(Ht,"user-select","none"),b(Ft,"class","start-pos-box svelte-oxdj5w"),b(Ft,"type","number"),b(Ft,"step","0.001"),Ft.readOnly=!0,b(Et,"class","control-point-mini-box-x svelte-oxdj5w"),b(qt,"class","cp-y svelte-oxdj5w"),P(qt,"user-select","none"),b(It,"class","start-pos-box svelte-oxdj5w"),b(It,"type","number"),b(It,"step","0.001"),It.readOnly=!0,b(Zt,"class","control-point-mini-box-y svelte-oxdj5w"),b(Lt,"class","cp-heading svelte-oxdj5w"),P(Lt,"user-select","none"),b(Ot,"class","start-pos-box svelte-oxdj5w"),b(Ot,"type","number"),b(Ot,"step","0.001"),Ot.value=Nt=Math.round(e[15]),Ot.readOnly=!0,b(Tt,"class","control-point-mini-box-heading svelte-oxdj5w"),b(At,"class","cp-x-y svelte-oxdj5w"),b(Yt,"class","cp-x svelte-oxdj5w"),P(Yt,"user-select","none"),P(Yt,"font-weight","600"),b(Gt,"class","start-pos-box svelte-oxdj5w"),b(Gt,"type","number"),b(Gt,"step","0.001"),Gt.value=Wt=e[13]+1,Gt.readOnly=!0,b(Xt,"class","control-point-mini-box-x current-path svelte-oxdj5w"),b(_t,"id","live-pos"),b(_t,"class","control-point-mini-box svelte-oxdj5w"),b(Qt,"id","advanced-options"),b(Qt,"class","section-title svelte-oxdj5w"),P(Qt,"user-select","none"),b(ee,"for","field-length"),P(ee,"user-select","none"),b(ee,"class","svelte-oxdj5w"),b(oe,"id","auto-link-paths"),b(oe,"type","checkbox"),b(oe,"class","svelte-oxdj5w"),b(te,"class","advanced-options svelte-oxdj5w"),b(ie,"for","field-length"),P(ie,"user-select","none"),b(ie,"class","svelte-oxdj5w"),b(ce,"id","auto-link-paths"),b(ce,"type","checkbox"),b(ce,"class","svelte-oxdj5w"),b(se,"class","advanced-options svelte-oxdj5w"),b(ue,"for","field-length"),P(ue,"user-select","none"),b(ue,"class","svelte-oxdj5w"),b(pe,"id","auto-link-paths"),b(pe,"type","checkbox"),b(pe,"class","svelte-oxdj5w"),b(de,"class","advanced-options svelte-oxdj5w"),b(fe,"for","rotationUnits"),P(fe,"user-select","none"),b(fe,"class","svelte-oxdj5w"),we.__value="degrees",we.value=we.__value,b(we,"class","svelte-oxdj5w"),be.__value="radians",be.value=be.__value,b(be,"class","svelte-oxdj5w"),b(me,"id","rotationUnits"),b(me,"class","standard-input-box svelte-oxdj5w"),void 0===e[5]&&z((()=>e[49].call(me))),b(ge,"class","advanced-options svelte-oxdj5w"),b(F,"class","svelte-oxdj5w"),b(D,"class","robot-options-menu svelte-oxdj5w"),b(H,"class","settings-column svelte-oxdj5w"),b(Ce,"viewBox","0 0 144 144"),b(Ce,"width","100%"),b(Ce,"height","100%"),P(Ce,"position","absolute"),P(Ce,"top","0"),P(Ce,"left","0"),b(Ce,"class","svelte-oxdj5w"),b(je,"class","field svelte-oxdj5w"),P(Ee,"user-select","none"),b(Ee,"class","svelte-oxdj5w"),b(_e,"class","paths svelte-oxdj5w"),b(E,"class","container svelte-oxdj5w"),b(ze,"class","play-button svelte-oxdj5w"),b(qe,"type","range"),b(qe,"id","scrub"),b(qe,"min","0"),b(qe,"max","100"),b(qe,"step","0.001"),b(qe,"class","svelte-oxdj5w"),b(Fe,"class","scrubbing-bar svelte-oxdj5w"),b(De,"class","footer svelte-oxdj5w"),b(A,"class","main-content svelte-oxdj5w"),b(n,"class","svelte-oxdj5w")},m(t,o){u(t,n,o),d(n,l),d(l,s),d(l,i),d(l,r),d(r,c),d(c,a),d(r,f),d(r,C),d(r,k),d(r,M),d(n,_),d(n,A),d(A,E),d(E,H),d(H,D),d(D,F),d(F,Z),d(F,q),d(F,B),d(B,I),d(B,R),d(B,T),d(T,L),d(T,S),$(T,e[4],!0),d(F,O),d(F,N),d(N,U),d(N,X),d(N,Y),j(Y,e[18]),d(F,J),d(F,G),d(G,W),d(G,K),d(G,V),j(V,e[17]),d(F,et),d(F,ot),d(F,it),d(F,dt),d(dt,ut),d(dt,ht),d(dt,vt),d(vt,gt),d(gt,ft),d(gt,xt),Re&&Re.m(gt,null),d(vt,mt),d(vt,wt),d(wt,bt),d(wt,yt),Te&&Te.m(wt,null),d(F,Ct),d(F,kt),d(F,Mt),d(F,_t),d(_t,At),d(At,Et),d(Et,Ht),d(Et,Dt),d(Et,Ft),j(Ft,e[11]),d(At,zt),d(At,Zt),d(Zt,qt),d(Zt,Bt),d(Zt,It),j(It,e[12]),d(At,Rt),d(At,Tt),d(Tt,Lt),d(Tt,St),d(Tt,Ot),d(_t,Ut),d(_t,Xt),d(Xt,Yt),d(Xt,Jt),d(Xt,Gt),d(F,Kt),d(F,Qt),d(F,Vt),d(F,te),d(te,ee),d(te,ne),d(te,oe),oe.checked=e[19],d(F,le),d(F,se),d(se,ie),d(se,re),d(se,ce),ce.checked=e[14],d(F,ae),d(F,de),d(de,ue),d(de,he),d(de,pe),pe.checked=e[16],d(F,ve),d(F,ge),d(ge,fe),d(ge,xe),d(ge,me),d(me,we),d(me,be),$(me,e[5],!0),d(E,ye),d(E,je);for(let t=0;t<Se.length;t+=1)Se[t]&&Se[t].m(je,null);d(je,Pe),Oe&&Oe.m(je,null),d(je,$e),d(je,Ce),Ne&&Ne.m(Ce,null),d(Ce,ke);for(let t=0;t<Xe.length;t+=1)Xe[t]&&Xe[t].m(Ce,null);d(E,Me),d(E,_e);for(let t=0;t<Je.length;t+=1)Je[t]&&Je[t].m(_e,null);d(_e,Ae),d(_e,Ee),d(A,He),d(A,De),d(De,Fe),d(Fe,ze),Ke.m(ze,null),d(Fe,Ze),d(Fe,qe),j(qe,e[7]),Be||(Ie=[w(c,"click",e[33]),w(C,"click",e[24]),w(M,"click",e[23]),w(T,"change",e[35]),w(Y,"input",e[36]),w(Y,"input",e[37]),w(V,"input",e[38]),w(V,"input",e[39]),w(Ft,"input",e[44]),w(It,"input",e[45]),w(oe,"change",e[46]),w(ce,"change",e[47]),w(pe,"change",e[48]),w(me,"change",e[49]),w(Ee,"click",e[72]),w(qe,"change",e[73]),w(qe,"input",e[73]),w(qe,"input",e[30])],Be=!0)},p(t,e){if(16&e[0]&&$(T,t[4]),262144&e[0]&&y(Y.value)!==t[18]&&j(Y,t[18]),131072&e[0]&&y(V.value)!==t[17]&&j(V,t[17]),t[9].length>0?Re?Re.p(t,e):(Re=lt(t),Re.c(),Re.m(gt,null)):Re&&(Re.d(1),Re=null),t[9].length>0?Te?Te.p(t,e):(Te=st(t),Te.c(),Te.m(wt,null)):Te&&(Te.d(1),Te=null),2048&e[0]&&y(Ft.value)!==t[11]&&j(Ft,t[11]),4096&e[0]&&y(It.value)!==t[12]&&j(It,t[12]),32768&e[0]&&Nt!==(Nt=Math.round(t[15]))&&Ot.value!==Nt&&(Ot.value=Nt),8192&e[0]&&Wt!==(Wt=t[13]+1)&&Gt.value!==Wt&&(Gt.value=Wt),524288&e[0]&&(oe.checked=t[19]),16384&e[0]&&(ce.checked=t[14]),65536&e[0]&&(pe.checked=t[16]),32&e[0]&&$(me,t[5]),512&e[0]){let n;for(Le=t[9],n=0;n<Le.length;n+=1){const o=nt(t,Le,n);Se[n]?Se[n].p(o,e):(Se[n]=rt(o),Se[n].c(),Se[n].m(je,Pe))}for(;n<Se.length;n+=1)Se[n].d(1);Se.length=Le.length}if(t[9].length>0?Oe?Oe.p(t,e):(Oe=ct(t),Oe.c(),Oe.m(je,$e)):Oe&&(Oe.d(1),Oe=null),t[19]?Ne?Ne.p(t,e):(Ne=at(t),Ne.c(),Ne.m(Ce,ke)):Ne&&(Ne.d(1),Ne=null),256&e[0]){let n;for(Ue=t[8],n=0;n<Ue.length;n+=1){const o=tt(t,Ue,n);Xe[n]?Xe[n].p(o,e):(Xe[n]=pt(o),Xe[n].c(),Xe[n].m(Ce,null))}for(;n<Xe.length;n+=1)Xe[n].d(1);Xe.length=Ue.length}if(1547698690&e[0]|2&e[1]){let n;for(Ye=t[9],n=0;n<Ye.length;n+=1){const o=Q(t,Ye,n);Je[n]?Je[n].p(o,e):(Je[n]=jt(o),Je[n].c(),Je[n].m(_e,Ae))}for(;n<Je.length;n+=1)Je[n].d(1);Je.length=Ye.length}We===(We=Ge(t))&&Ke?Ke.p(t,e):(Ke.d(1),Ke=We(t),Ke&&(Ke.c(),Ke.m(ze,null))),128&e[0]&&j(qe,t[7])},i:t,o:t,d(t){t&&h(n),Re&&Re.d(),Te&&Te.d(),p(Se,t),Oe&&Oe.d(),Ne&&Ne.d(),p(Xe,t),p(Je,t),Ke.d(),Be=!1,o(Ie)}}}function kt(t,e){let n=[];for(let o=0;o<=1;o+=1/e)n.push(Mt(t,o));return n.push(t[t.length-1]),n}function Mt(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return Mt(n,e)}const _t=t=>`${t.x},${144-t.y}`,At=t=>`${t.x},${144-t.y}`,Et=t=>`${t.x},${144-t.y}`,Ht=t=>`${t.x},${144-t.y}`,Dt=t=>`${t.x},${144-t.y}`;function Ft(e,n,o){let l,s,i,r,d,u=t,h=()=>(u(),u=c(et,(t=>o(9,r=t))),et),p=t,v=()=>(p(),p=c(tt,(t=>o(19,d=t))),tt);e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>p()));let g=18,f=18,x="inches",m="degrees";function w(t){const e=parseFloat(t)||0;o(2,g=parseFloat(("inches"===x?e:e/2.54).toFixed(2)))}function b(t){const e=parseFloat(t)||0;o(3,f=parseFloat(("inches"===x?e:e/2.54).toFixed(2)))}function j(t){et.update((e=>{const n=e.find((e=>e.id===t));return n&&(n.bezierCurvePoints=kt(n.controlPoints,100)),e}))}function P(){et.update((t=>{const e=new X(t.length);if(t.length>0){const n=t[t.length-1];if(n.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,s=72+Math.cos(o)*l,i=72+Math.sin(o)*l;e.controlPoints.push({x:t.x,y:t.y}),e.controlPoints.push({x:s,y:i})}}else e.controlPoints.push({x:12,y:96}),e.controlPoints.push({x:36,y:96});return e.bezierCurvePoints=e.calculateBezier(),[...t,e]}))}function $(t,e){et.update((e=>{const n=e.find((e=>e.id===t));if(n){const t=2*Math.random()*Math.PI,e=50,o=72+Math.cos(t)*e,l=72+Math.sin(t)*e;if(n.controlPoints.length>1){const t=n.controlPoints.length-1;n.controlPoints.splice(t,0,{x:o,y:l})}else n.controlPoints.push({x:o,y:l})}return e}))}function k(t,e){et.update((n=>{const o=n.find((e=>e.id===t));return o&&o.setColor(e),n}))}function _(t){et.update((e=>{const n=e.filter((e=>e.id!==t));if(n.forEach(((t,e)=>{t.id=e})),Q&&t>0&&t<e.length-1){const e=n[t-1],o=n[t];e&&o&&(o.controlPoints[0]={...e.controlPoints[e.controlPoints.length-1]},o.bezierCurvePoints=kt(o.controlPoints,100))}return n}))}M((()=>{et.update((t=>(0===t.length&&P(),t)))}));let A=0,E=12,H=96,D=!1,F=!0,z=!0,Z=null,q=0,B=0,I=null,R=0,T=0,L=0,S=0,O=!0,N=0;function Y(){let t=0;r.forEach((e=>{t+=e.bezierCurvePoints.length}));let e=0;for(let n of r){if(A<=(e+n.bezierCurvePoints.length)/t*100){const l=(A-e/t*100)/(n.bezierCurvePoints.length/t*100),s=Math.floor(l*(n.bezierCurvePoints.length-1)),i=n.bezierCurvePoints[s];if(i){o(11,E=i.x),o(12,H=i.y);const t=document.getElementById("robot");if(t)if("tangential"===n.robotHeading){const e=n.bezierCurvePoints[Math.min(s+1,n.bezierCurvePoints.length-1)],l=n.bezierCurvePoints[Math.max(s-1,0)];let i=Math.atan2(e.y-l.y,e.x-l.x);n.reverse&&(i+=Math.PI),t.style.transform=`translate(-50%, 50%) rotate(${-i+Math.PI/2}rad)`,o(15,N="degrees"===m?i*(180/Math.PI):i)}else if("linear"===n.robotHeading){const e=n.startAngle||0,s=e+((n.endAngle||0)-e)*l;t.style.transform=`translate(-50%, 50%) rotate(${-s+Math.PI/2}rad)`,o(15,N="degrees"===m?s*(180/Math.PI):s)}else if("constant"===n.robotHeading){const e=n.constantAngle||0;t.style.transform=`translate(-50%, 50%) rotate(${-e+Math.PI/2}rad)`,o(15,N="degrees"===m?-e*(180/Math.PI):-e)}}break}e+=n.bezierCurvePoints.length}}function J(){o(6,D=!1),Z&&(clearInterval(Z),Z=null),o(34,F=!0),z=!1}document.addEventListener("DOMContentLoaded",(()=>{P(),j(r.length-1)})),document.addEventListener("mousedown",(t=>{const e=document.querySelector(".field").getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;let l=null,s=null,i=null,c=null;if(r.forEach((t=>{t.controlPoints.forEach(((r,a)=>{const d=r.x/144*e.width,u=e.height-r.y/144*e.height;Math.sqrt((n-d)**2+(o-u)**2)<10&&(null===l&&null===s?(l=t.id,s=a):Q&&null===i&&null===c&&(i=t.id,c=a))}))})),null!==l&&null!==s){const t=t=>{const n=t.clientX-e.left,o=t.clientY-e.top;let r=n/e.width*144,a=144-o/e.height*144;const d=f/2,u=g/2;r=Math.max(d,Math.min(144-d,r)),a=Math.max(u,Math.min(144-u,a)),et.update((t=>{const e=t.find((t=>t.id===l));if(e&&(e.controlPoints[s]={x:r,y:a},e.bezierCurvePoints=kt(e.controlPoints,100)),Q&&null!==i&&null!==c){const e=t.find((t=>t.id===i));e&&(e.controlPoints[c]={x:r,y:a},e.bezierCurvePoints=kt(e.controlPoints,100))}return t})),Y()},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}));let Q=!0;function V(){Q&&et.update((t=>{for(let e=0;e<t.length-1;e++){const n=t[e],o=t[e+1];if(n.controlPoints.length>0&&o.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=kt(o.controlPoints,100)}}return t}))}let{shouldShowHitbox:tt=U(!1)}=n;v();let{paths:et=U([])}=n;h();let nt=[];return e.$$set=t=>{"shouldShowHitbox"in t&&v(o(0,tt=t.shouldShowHitbox)),"paths"in t&&h(o(1,et=t.paths))},e.$$.update=()=>{if(20&e.$$.dirty[0]&&o(18,l=parseFloat(("inches"===x?g:2.54*g).toFixed(2))),24&e.$$.dirty[0]&&o(17,s=parseFloat(("inches"===x?f:2.54*f).toFixed(2))),544&e.$$.dirty[0]){const t="degrees"===m?Math.PI/180:1;r.forEach((e=>{"linear"===e.robotHeading?(e.startAngle=(e.startAngleDegrees||0)*t,e.endAngle=(e.endAngleDegrees||0)*t):"constant"===e.robotHeading&&(e.constantAngle=(e.constantAngleDegrees||0)*t)}))}if(520&e.$$.dirty[0]&&(o(8,nt=r.map((t=>({left:[],right:[],main:[],color:t.color,controlPoints:t.controlPoints})))),r.forEach(((t,e)=>{if(t.controlPoints.length>=2){let n=[];const{leftPath:l,rightPath:s}=function(t,e){if(t.length<2)return console.warn(`⚠️ Skipping hitbox: Not enough control points (${t.length} found)`),{leftPath:[],rightPath:[]};const n=[],o=[];if(2===t.length){console.log("⚠️ Generating LINEAR hitbox for 2-point path.");for(let l=0;l<=1;l+=.01){const s=(1-l)*t[0].x+l*t[1].x,i=(1-l)*t[0].y+l*t[1].y,r=W(l,t);n.push({x:s+r.x*(e/2),y:i+r.y*(e/2)}),o.push({x:s-r.x*(e/2),y:i-r.y*(e/2)})}}else{console.log("✅ Generating Bézier hitbox.");for(let l=0;l<=1;l+=.01){const s=K(l,t,e);n.push(s.left),o.push(s.right)}}return console.log("✅ Generated hitbox:",{leftPath:n,rightPath:o}),{leftPath:n,rightPath:o}}(t.controlPoints,f);for(let e=0;e<=1;e+=.01){const o=G(e,t.controlPoints);n.push(o)}o(8,nt[e].main=n,nt),o(8,nt[e].left=l,nt),o(8,nt[e].right=s,nt)}}))),256&e.$$.dirty[0]&&console.log("offsetPaths:",JSON.stringify(nt,null,2)),512&e.$$.dirty[0]&&(i=1.56*r.length),704&e.$$.dirty[0]|8&e.$$.dirty[1]&&!D&&F){const t=r.length,e=Math.floor(T/100*t),n=T/100*t-e,l=n<.5?2*n*n:(4-2*n)*n-1;A=(e+l)/t*100,o(13,L=e),q=l,Y()}if(64&e.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=D?"transform 1ms linear":"none",t.style.filter=D?"blur(0.2px)":"none")}},V(),Y(),j(1),[tt,et,g,f,x,m,D,T,nt,r,I,E,H,L,O,N,Q,s,l,d,w,b,j,function(){const t=r.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color,robotHeading:t.robotHeading,startAngleDegrees:t.startAngleDegrees,endAngleDegrees:t.endAngleDegrees,constantAngleDegrees:t.constantAngleDegrees,reverse:t.reverse}))),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const e=t.target.files[0],n=await e.text(),o=JSON.parse(n);et.set(o.map(((t,e)=>({...t,id:e})))),o.forEach(((t,e)=>j(e))),Y()},t.click()},P,$,k,_,function(){D||(o(6,D=!0),o(13,L=z?0:Math.floor(A/100*r.length)),S=Date.now()-(z?0:A%(100/r.length)/100*i*1e3),F&&(S=Date.now()-q*R*1e3),Z=setInterval((()=>{B=(Date.now()-S)/1e3,o(10,I=r[L]),R=i/r.length,q=B/R,o(7,T=(L+q)/r.length*100),q<.5?q*=2*q:q=(4-2*q)*q-1,A=(L+q)/r.length*100,Y(),B>=R&&(L+1>=r.length?O?o(13,L=0):J():o(13,L++,L),S=Date.now())}),1))},Y,J,V,function(){const t=window.open("","CodeWindow","width=600,height=400");let e="private Path ";r.forEach(((t,n)=>{e+=`p${n+1}`,n<r.length-1&&(e+=", ")})),e+=";\n\n",e+="public void buildPaths() {\n",r.forEach(((t,n)=>{const o=t.controlPoints.map((t=>`new Point(${t.x.toFixed(3)}, ${t.y.toFixed(3)}, Point.CARTESIAN)`)).join(",\n                "),l=2===t.controlPoints.length?"BezierLine":"BezierCurve";if(e+=`    p${n+1} = new Path(new ${l}(\n                ${o}\n        )\n    );\n\n`,"constant"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.constantAngleDegrees||0})`:`${t.constantAngleDegrees||0}`;e+=`    p${n+1}.setConstantHeadingInterpolation(${o});\n\n`}else if("tangential"===t.robotHeading)e+=`    p${n+1}.setTangentHeadingInterpolation();\n`,t.reverse?e+=`    p${n+1}.setReversed(true);\n\n`:e+=`    p${n+1}.setReversed(false);\n\n`;else if("linear"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.startAngleDegrees||0})`:`${t.startAngleDegrees||0}`,l="degrees"===m?`Math.toRadians(${t.endAngleDegrees||0})`:`${t.endAngleDegrees||0}`;e+=`    p${n+1}.setLinearHeadingInterpolation(${o}, ${l});\n\n`}})),e+="}",t.document.write("<pre>"+e+"</pre>"),t.document.close()},F,function(){x=C(this),o(4,x)},function(){l=y(this.value),o(18,l),o(4,x),o(2,g)},t=>w(parseFloat(t.target.value)),function(){s=y(this.value),o(17,s),o(4,x),o(3,f)},t=>b(parseFloat(t.target.value)),function(){r[0].controlPoints[0].x=y(this.value),et.set(r)},t=>{a(et,r[0].controlPoints[0].x=parseFloat(t.target.value),r),j(0),et.set(r),Y()},function(){r[0].controlPoints[0].y=y(this.value),et.set(r)},t=>{a(et,r[0].controlPoints[0].y=parseFloat(t.target.value),r),j(0),et.set(r),Y()},function(){E=y(this.value),o(11,E)},function(){H=y(this.value),o(12,H)},function(){d=this.checked,tt.set(d)},function(){O=this.checked,o(14,O)},function(){Q=this.checked,o(16,Q)},function(){m=C(this),o(5,m)},t=>{if(0!=t.id&&t.id!=r.length-1){const e=r[t.id+1];a(et,r[t.id+1]={...r[t.id],id:t.id+1},r),a(et,r[t.id]={...e,id:t.id},r),et.set(r),V()}},t=>{if(0!=t.id&&1!=t.id){const e=r[t.id-1];a(et,r[t.id-1]={...r[t.id],id:t.id-1},r),a(et,r[t.id]={...e,id:t.id},r),et.set(r),V()}},function(t,e){t[e].color=this.value,et.set(r)},t=>k(t.id,t.color),t=>{r.length>1&&_(t.id)},t=>$(t.id,t.controlPoints.length),(t,e)=>{"Enter"===e.key&&$(t.id,t.controlPoints.length)},(t,e,n,o,l)=>{a(et,n[o].controlPoints[e].x=parseFloat(l.target.value),r),j(t.id),et.set(r)},(t,e,n,o,l)=>{a(et,n[o].controlPoints[e].y=parseFloat(l.target.value),r),j(t.id),et.set(r)},(t,e)=>{t.controlPoints.length>2&&(t.controlPoints.splice(e,1),j(t.id),et.set(r))},(t,e,n,o)=>{a(et,e[n].controlPoints[t.controlPoints.length-1].x=parseFloat(o.target.value),r),j(t.id),et.set(r)},(t,e,n,o)=>{a(et,e[n].controlPoints[t.controlPoints.length-1].y=parseFloat(o.target.value),r),j(t.id),et.set(r)},function(t,e){t[e].robotHeading=C(this),et.set(r)},t=>j(t.id),function(t,e){t[e].startAngleDegrees=y(this.value),et.set(r)},()=>Y(),function(t,e){t[e].endAngleDegrees=y(this.value),et.set(r)},()=>Y(),function(t,e){t[e].reverse=this.checked,et.set(r)},()=>Y(),function(t,e){t[e].constantAngleDegrees=y(this.value),et.set(r)},()=>Y(),()=>{P(),j(r.length-1)},function(){T=y(this.value),o(7,T)}]}return new class extends O{constructor(t){super(),S(this,t,Ft,Ct,s,{shouldShowHitbox:0,paths:1},null,[-1,-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
