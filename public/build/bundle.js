var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let s,i;function c(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function u(t,n,e){return t.set(e),n}function p(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function h(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function g(){return x(" ")}function m(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function k(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t){return""===t?null:+t}function y(t,n){t.value=null==n?"":n}function P(t,n,e,o){null==e?t.style.removeProperty(n):t.style.setProperty(n,e,o?"important":"")}function w(t,n,e){for(let e=0;e<t.options.length;e+=1){const o=t.options[e];if(o.__value===n)return void(o.selected=!0)}e&&void 0===n||(t.selectedIndex=-1)}function $(t){i=t}const C=[],_=[];let E=[];const M=[],Z=Promise.resolve();let q=!1;function z(t){E.push(t)}const L=new Set;let T=0;function B(){if(0!==T)return;const t=i;do{try{for(;T<C.length;){const t=C[T];T++,$(t),O(t.$$)}}catch(t){throw C.length=0,T=0,t}for($(null),C.length=0,T=0;_.length;)_.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];L.has(n)||(L.add(n),n())}E.length=0}while(C.length);for(;M.length;)M.pop()();q=!1,L.clear(),$(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const j=new Set;function D(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];E.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),E=n}(e.after_update),o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(t,n){-1===t.$$.dirty[0]&&(C.push(t),q||(q=!0,Z.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function I(r,s,c,u,p,a,v,h=[-1]){const f=i;$(r);const x=r.$$={fragment:null,ctx:[],props:a,update:t,not_equal:p,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:e(),dirty:h,skip_bound:!1,root:s.target||f.$$.root};v&&v(x.root);let g=!1;if(x.ctx=c?c(r,s.props||{},((t,n,...e)=>{const o=e.length?e[0]:n;return x.ctx&&p(x.ctx[t],x.ctx[t]=o)&&(!x.skip_bound&&x.bound[t]&&x.bound[t](o),g&&F(r,t)),n})):[],x.update(),g=!0,o(x.before_update),x.fragment=!!u&&u(x.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);x.fragment&&x.fragment.l(t),t.forEach(d)}else x.fragment&&x.fragment.c();s.intro&&((m=r.$$.fragment)&&m.i&&(j.delete(m),m.i(k))),function(t,e,r,s){const{fragment:i,after_update:c}=t.$$;i&&i.m(e,r),s||z((()=>{const e=t.$$.on_mount.map(n).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(z)}(r,s.target,s.anchor,s.customElement),B()}var m,k;$(f)}class S{$destroy(){D(this,1),this.$destroy=t}$on(n,e){if(!l(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const H=[];function N(t,n,e){const o=t.slice();return o[14]=n[e],o[66]=n,o[67]=e,o}function A(t,n,e){const o=t.slice();return o[12]=n[e].x,o[13]=n[e].y,o[68]=n,o[69]=e,o}function R(t,n,e){const o=t.slice();return o[14]=n[e],o}function U(t,n,e){const o=t.slice();return o[14]=n[e],o}function X(t,n,e){const o=t.slice();return o[12]=n[e].x,o[13]=n[e].y,o}function Y(t){let n,e,l;return{c(){n=h("input"),k(n,"class","standard-input-box svelte-pvx5kr"),k(n,"type","number"),k(n,"step","0.01")},m(o,r){a(o,n,r),y(n,t[5][0].controlPoints[0].x),e||(l=[m(n,"input",t[31]),m(n,"input",t[32])],e=!0)},p(t,e){32&e[0]&&b(n.value)!==t[5][0].controlPoints[0].x&&y(n,t[5][0].controlPoints[0].x)},d(t){t&&d(n),e=!1,o(l)}}}function J(t){let n,e,l;return{c(){n=h("input"),k(n,"class","standard-input-box svelte-pvx5kr"),k(n,"type","number"),k(n,"step","0.01")},m(o,r){a(o,n,r),y(n,t[5][0].controlPoints[0].y),e||(l=[m(n,"input",t[33]),m(n,"input",t[34])],e=!0)},p(t,e){32&e[0]&&b(n.value)!==t[5][0].controlPoints[0].y&&y(n,t[5][0].controlPoints[0].y)},d(t){t&&d(n),e=!1,o(l)}}}function W(t){let n,e;return{c(){n=h("div"),e=h("div"),k(e,"class","point svelte-pvx5kr"),P(e,"left",t[12]/144*100+"%"),P(e,"bottom",t[13]/144*100+"%"),P(e,"background",t[14].color),k(n,"class","hover-point svelte-pvx5kr")},m(t,o){a(t,n,o),p(n,e)},p(t,n){32&n[0]&&P(e,"left",t[12]/144*100+"%"),32&n[0]&&P(e,"bottom",t[13]/144*100+"%"),32&n[0]&&P(e,"background",t[14].color)},d(t){t&&d(n)}}}function G(t){let n,e=t[14].controlPoints,o=[];for(let n=0;n<e.length;n+=1)o[n]=W(X(t,e,n));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=x("")},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);a(t,n,e)},p(t,l){if(32&l[0]){let r;for(e=t[14].controlPoints,r=0;r<e.length;r+=1){const s=X(t,e,r);o[r]?o[r].p(s,l):(o[r]=W(s),o[r].c(),o[r].m(n.parentNode,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=e.length}},d(t){v(o,t),t&&d(n)}}}function K(t){let n,e;return{c(){var o,l;n=h("img"),o=n.src,l=e="./robot.png",s||(s=document.createElement("a")),s.href=l,o!==s.href&&k(n,"src","./robot.png"),k(n,"alt","Robot"),k(n,"id","robot"),P(n,"width",t[7]/144*100+"%"),P(n,"height",t[6]/144*100+"%"),P(n,"left",t[8]/144*100+"%"),P(n,"bottom",t[9]/144*100+"%"),P(n,"user-select","none"),k(n,"class","svelte-pvx5kr")},m(t,e){a(t,n,e)},p(t,e){128&e[0]&&P(n,"width",t[7]/144*100+"%"),64&e[0]&&P(n,"height",t[6]/144*100+"%"),256&e[0]&&P(n,"left",t[8]/144*100+"%"),512&e[0]&&P(n,"bottom",t[9]/144*100+"%")},d(t){t&&d(n)}}}function Q(t){let n,e;return{c(){n=f("polyline"),k(n,"class","curve svelte-pvx5kr"),k(n,"points",e=t[14].bezierCurvePoints.map(pt).join(" ")),P(n,"stroke",t[14].color)},m(t,e){a(t,n,e)},p(t,o){32&o[0]&&e!==(e=t[14].bezierCurvePoints.map(pt).join(" "))&&k(n,"points",e),32&o[0]&&P(n,"stroke",t[14].color)},d(t){t&&d(n)}}}function V(t){let n,e,o,l,r;return{c(){n=h("label"),e=x("Control Point "),o=x(t[69]),l=x(":"),k(n,"for",r="control-point-"+t[14].id+"-"+t[69]),P(n,"user-select","none"),k(n,"class","svelte-pvx5kr")},m(t,r){a(t,n,r),p(n,e),p(n,o),p(n,l)},p(t,e){32&e[0]&&r!==(r="control-point-"+t[14].id+"-"+t[69])&&k(n,"for",r)},d(t){t&&d(n)}}}function tt(t){let n,e,o;return{c(){n=h("label"),e=x("Endpoint:"),k(n,"for",o="control-point-"+t[14].id+"-"+t[69]),P(n,"user-select","none"),k(n,"class","svelte-pvx5kr")},m(t,o){a(t,n,o),p(n,e)},p(t,e){32&e[0]&&o!==(o="control-point-"+t[14].id+"-"+t[69])&&k(n,"for",o)},d(t){t&&d(n)}}}function nt(t){let n,e,l,r,s,i,c,u,v,f,w,$,C,_,E,M,Z,q;function z(){t[49].call(c,t[66],t[67])}function L(){return t[50](t[14])}function T(){t[51].call(E,t[66],t[67])}function B(){return t[52](t[14])}return{c(){n=h("div"),e=h("div"),l=h("label"),r=x("X:"),i=g(),c=h("input"),v=g(),f=h("div"),w=h("label"),$=x("Y:"),_=g(),E=h("input"),k(l,"class","cp-x svelte-pvx5kr"),k(l,"for",s="control-point-"+t[14].id+"-"+t[69]),P(l,"user-select","none"),k(c,"id",u="control-point-"+t[14].id+"-"+t[69]),k(c,"class","standard-input-box svelte-pvx5kr"),k(c,"type","number"),k(c,"step","0.01"),k(e,"class","control-point-mini-box-x svelte-pvx5kr"),k(w,"class","cp-y svelte-pvx5kr"),k(w,"for",C="control-point-"+t[14].id+"-"+t[69]+"-y"),P(w,"user-select","none"),k(E,"id",M="control-point-"+t[14].id+"-"+t[69]+"-y"),k(E,"class","standard-input-box svelte-pvx5kr"),k(E,"type","number"),k(E,"step","0.01"),k(f,"class","control-point-mini-box-y svelte-pvx5kr"),k(n,"class","control-point-mini-box svelte-pvx5kr")},m(o,s){a(o,n,s),p(n,e),p(e,l),p(l,r),p(e,i),p(e,c),y(c,t[14].controlPoints[t[14].controlPoints.length-1].x),p(n,v),p(n,f),p(f,w),p(w,$),p(f,_),p(f,E),y(E,t[14].controlPoints[t[14].controlPoints.length-1].y),Z||(q=[m(c,"input",z),m(c,"input",L),m(E,"input",T),m(E,"input",B)],Z=!0)},p(n,e){t=n,32&e[0]&&s!==(s="control-point-"+t[14].id+"-"+t[69])&&k(l,"for",s),32&e[0]&&u!==(u="control-point-"+t[14].id+"-"+t[69])&&k(c,"id",u),32&e[0]&&b(c.value)!==t[14].controlPoints[t[14].controlPoints.length-1].x&&y(c,t[14].controlPoints[t[14].controlPoints.length-1].x),32&e[0]&&C!==(C="control-point-"+t[14].id+"-"+t[69]+"-y")&&k(w,"for",C),32&e[0]&&M!==(M="control-point-"+t[14].id+"-"+t[69]+"-y")&&k(E,"id",M),32&e[0]&&b(E.value)!==t[14].controlPoints[t[14].controlPoints.length-1].y&&y(E,t[14].controlPoints[t[14].controlPoints.length-1].y)},d(t){t&&d(n),Z=!1,o(q)}}}function et(t){let n,e,l,r,s,i,c,u,v,w,$,C,_,E,M,Z,q,z,L;function T(){t[44].call(c,t[69],t[66],t[67])}function B(){return t[45](t[14])}function O(){t[46].call(M,t[69],t[66],t[67])}function j(){return t[47](t[14])}let D=t[69]>0&&function(t){let n,e,o,l;function r(){return t[48](t[14],t[69])}return{c(){n=f("svg"),e=f("path"),k(e,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),k(e,"class","svelte-pvx5kr"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"height","24px"),k(n,"viewBox","0 -960 960 960"),k(n,"width","24px"),k(n,"fill","#FF474D"),P(n,"cursor","pointer"),k(n,"class","svelte-pvx5kr")},m(t,s){a(t,n,s),p(n,e),o||(l=m(n,"click",r),o=!0)},p(n,e){t=n},d(t){t&&d(n),o=!1,l()}}}(t);return{c(){n=h("div"),e=h("div"),l=h("label"),r=x("X:"),i=g(),c=h("input"),v=g(),w=h("div"),$=h("label"),C=x("Y:"),E=g(),M=h("input"),q=g(),D&&D.c(),k(l,"class","cp-x svelte-pvx5kr"),k(l,"for",s="control-point-"+t[14].id+"-"+t[69]),P(l,"user-select","none"),k(c,"id",u="control-point-"+t[14].id+"-"+t[69]),k(c,"class","standard-input-box svelte-pvx5kr"),k(c,"type","number"),k(c,"step","0.01"),k(e,"class","control-point-mini-box-x svelte-pvx5kr"),k($,"class","cp-y svelte-pvx5kr"),k($,"for",_="control-point-"+t[14].id+"-"+t[69]+"-y"),P($,"user-select","none"),k(M,"id",Z="control-point-"+t[14].id+"-"+t[69]+"-y"),k(M,"class","standard-input-box svelte-pvx5kr"),k(M,"type","number"),k(M,"step","0.01"),k(w,"class","control-point-mini-box-y svelte-pvx5kr"),k(n,"class","control-point-mini-box svelte-pvx5kr")},m(o,s){a(o,n,s),p(n,e),p(e,l),p(l,r),p(e,i),p(e,c),y(c,t[14].controlPoints[t[69]].x),p(n,v),p(n,w),p(w,$),p($,C),p(w,E),p(w,M),y(M,t[14].controlPoints[t[69]].y),p(n,q),D&&D.m(n,null),z||(L=[m(c,"input",T),m(c,"input",B),m(M,"input",O),m(M,"input",j)],z=!0)},p(n,e){t=n,32&e[0]&&s!==(s="control-point-"+t[14].id+"-"+t[69])&&k(l,"for",s),32&e[0]&&u!==(u="control-point-"+t[14].id+"-"+t[69])&&k(c,"id",u),32&e[0]&&b(c.value)!==t[14].controlPoints[t[69]].x&&y(c,t[14].controlPoints[t[69]].x),32&e[0]&&_!==(_="control-point-"+t[14].id+"-"+t[69]+"-y")&&k($,"for",_),32&e[0]&&Z!==(Z="control-point-"+t[14].id+"-"+t[69]+"-y")&&k(M,"id",Z),32&e[0]&&b(M.value)!==t[14].controlPoints[t[69]].y&&y(M,t[14].controlPoints[t[69]].y),t[69]>0&&D.p(t,e)},d(t){t&&d(n),D&&D.d(),z=!1,o(L)}}}function ot(t){let n,e;function o(t,n){return 0==t[69]?tt:t[69]>0&&t[69]!=t[14].controlPoints.length-1?V:void 0}let l=o(t),r=l&&l(t);function s(t,n){return t[69]>0&&t[69]!=t[14].controlPoints.length-1?et:0==t[69]?nt:void 0}let i=s(t),c=i&&i(t);return{c(){n=h("div"),r&&r.c(),e=g(),c&&c.c(),k(n,"class","control-point-box svelte-pvx5kr")},m(t,o){a(t,n,o),r&&r.m(n,null),p(n,e),c&&c.m(n,null)},p(t,u){l===(l=o(t))&&r?r.p(t,u):(r&&r.d(1),r=l&&l(t),r&&(r.c(),r.m(n,e))),i===(i=s(t))&&c?c.p(t,u):(c&&c.d(1),c=i&&i(t),c&&(c.c(),c.m(n,null)))},d(t){t&&d(n),r&&r.d(),c&&c.d()}}}function lt(t){let n,e,l,r,s,i,c,u,b,w,$,C,_,E,M,Z,q,z,L,T,B,O,j,D,F,I,S,H,N=t[14].id+1+"";function R(){return t[37](t[14])}function U(){return t[38](t[14])}function X(){t[39].call(C,t[66],t[67])}function Y(){return t[40](t[14])}function J(){return t[41](t[14])}function W(){return t[42](t[14])}function G(...n){return t[43](t[14],...n)}let K=t[14].controlPoints,Q=[];for(let n=0;n<K.length;n+=1)Q[n]=ot(A(t,K,n));return{c(){n=h("div"),e=h("div"),l=h("div"),r=f("svg"),s=f("path"),c=g(),u=f("svg"),b=f("path"),$=g(),C=h("input"),_=g(),E=h("p"),M=x("Path "),Z=x(N),q=g(),z=h("div"),L=f("svg"),T=f("path"),O=g(),j=f("svg"),D=f("path"),F=g(),I=h("div");for(let t=0;t<Q.length;t+=1)Q[t].c();k(s,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),k(s,"class","svelte-pvx5kr"),k(r,"xmlns","http://www.w3.org/2000/svg"),k(r,"height","24px"),k(r,"viewBox","0 -960 960 960"),k(r,"width","24px"),k(r,"fill",i=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray"),P(r,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),k(r,"class","svelte-pvx5kr"),k(b,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),k(b,"class","svelte-pvx5kr"),k(u,"xmlns","http://www.w3.org/2000/svg"),k(u,"height","24px"),k(u,"viewBox","0 -960 960 960"),k(u,"width","24px"),k(u,"fill",w=0!=t[14].id&&1!=t[14].id?"black":"gray"),P(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),k(u,"class","svelte-pvx5kr"),k(C,"type","color"),k(C,"class","color-circle svelte-pvx5kr"),P(C,"background-color",t[14].color),k(E,"class","path-title svelte-pvx5kr"),P(E,"user-select","none"),k(l,"class","path-and-color svelte-pvx5kr"),k(T,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),k(T,"class","svelte-pvx5kr"),k(L,"xmlns","http://www.w3.org/2000/svg"),k(L,"height","24px"),k(L,"viewBox","0 -960 960 960"),k(L,"width","24px"),k(L,"fill",B=t[5].length>1?"#FF474D":"gray"),P(L,"cursor",t[5].length>1?"pointer":"default"),k(L,"class","svelte-pvx5kr"),k(D,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),k(D,"class","svelte-pvx5kr"),k(j,"xmlns","http://www.w3.org/2000/svg"),k(j,"height","24px"),k(j,"viewBox","0 -960 960 960"),k(j,"width","24px"),k(j,"fill","#90EE90"),P(j,"cursor","pointer"),k(j,"class","svelte-pvx5kr"),k(z,"class","add-and-remove svelte-pvx5kr"),k(e,"class","path-header svelte-pvx5kr"),k(I,"class","path-control-points svelte-pvx5kr"),k(n,"class","path svelte-pvx5kr"),P(n,"border-color",t[14].color)},m(o,i){a(o,n,i),p(n,e),p(e,l),p(l,r),p(r,s),p(l,c),p(l,u),p(u,b),p(l,$),p(l,C),y(C,t[14].color),p(l,_),p(l,E),p(E,M),p(E,Z),p(e,q),p(e,z),p(z,L),p(L,T),p(z,O),p(z,j),p(j,D),p(n,F),p(n,I);for(let t=0;t<Q.length;t+=1)Q[t]&&Q[t].m(I,null);S||(H=[m(r,"click",R),m(u,"click",U),m(C,"input",X),m(C,"input",Y),m(L,"click",J),m(j,"click",W),m(j,"keydown",G)],S=!0)},p(e,o){if(t=e,32&o[0]&&i!==(i=0!=t[14].id&&t[14].id!=t[5].length-1?"black":"gray")&&k(r,"fill",i),32&o[0]&&P(r,"cursor",0!=t[14].id&&t[14].id!=t[5].length-1?"pointer":"default"),32&o[0]&&w!==(w=0!=t[14].id&&1!=t[14].id?"black":"gray")&&k(u,"fill",w),32&o[0]&&P(u,"cursor",0!=t[14].id&&1!=t[14].id?"pointer":"default"),32&o[0]&&P(C,"background-color",t[14].color),32&o[0]&&y(C,t[14].color),32&o[0]&&N!==(N=t[14].id+1+"")&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}(Z,N),32&o[0]&&B!==(B=t[5].length>1?"#FF474D":"gray")&&k(L,"fill",B),32&o[0]&&P(L,"cursor",t[5].length>1?"pointer":"default"),98336&o[0]){let n;for(K=t[14].controlPoints,n=0;n<K.length;n+=1){const e=A(t,K,n);Q[n]?Q[n].p(e,o):(Q[n]=ot(e),Q[n].c(),Q[n].m(I,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=K.length}32&o[0]&&P(n,"border-color",t[14].color)},d(t){t&&d(n),v(Q,t),S=!1,o(H)}}}function rt(n){let e,o,l,r;return{c(){e=f("svg"),o=f("path"),k(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),k(o,"class","svelte-pvx5kr"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"height","24px"),k(e,"viewBox","0 -960 960 960"),k(e,"width","24px"),k(e,"fill","#FF474D"),k(e,"class","svelte-pvx5kr")},m(t,s){a(t,e,s),p(e,o),l||(r=m(e,"click",n[25]),l=!0)},p:t,d(t){t&&d(e),l=!1,r()}}}function st(n){let e,o,l,r;return{c(){e=f("svg"),o=f("path"),k(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),k(o,"class","svelte-pvx5kr"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"height","24px"),k(e,"viewBox","0 -960 960 960"),k(e,"width","24px"),k(e,"fill","#90EE90"),k(e,"class","svelte-pvx5kr")},m(t,s){a(t,e,s),p(e,o),l||(r=m(e,"click",n[24]),l=!0)},p:t,d(t){t&&d(e),l=!1,r()}}}function it(n){let e,l,r,s,i,c,u,x,$,C,_,E,M,Z,q,L,T,B,O,j,D,F,I,S,H,A,X,W,V,tt,nt,et,ot,it,ct,ut,pt,at,dt,vt,ht,ft,xt,gt,mt,kt,bt,yt,Pt,wt,$t,Ct,_t,Et,Mt,Zt,qt,zt,Lt,Tt,Bt,Ot,jt,Dt,Ft,It,St,Ht,Nt,At,Rt,Ut,Xt,Yt,Jt=n[5].length>0&&Y(n),Wt=n[5].length>0&&J(n),Gt=n[5],Kt=[];for(let t=0;t<Gt.length;t+=1)Kt[t]=G(U(n,Gt,t));let Qt=n[5].length>0&&K(n),Vt=n[5],tn=[];for(let t=0;t<Vt.length;t+=1)tn[t]=Q(R(n,Vt,t));let nn=n[5],en=[];for(let t=0;t<nn.length;t+=1)en[t]=lt(N(n,nn,t));function on(t,n){return t[3]?rt:st}let ln=on(n),rn=ln(n);return{c(){e=h("div"),l=h("div"),r=h("h1"),r.textContent="JPather",s=g(),i=h("div"),c=h("button"),c.textContent="Import Control Points",u=g(),x=h("button"),x.textContent="Export Control Points",$=g(),C=h("div"),_=h("div"),E=h("div"),M=h("div"),Z=h("div"),q=h("h2"),q.textContent="Robot Options",L=g(),T=h("div"),B=h("label"),B.textContent="Units:",O=g(),j=h("select"),D=h("option"),D.textContent="Inches",F=h("option"),F.textContent="Centimeters",I=g(),S=h("div"),H=h("label"),H.textContent="Robot Length:",A=g(),X=h("input"),W=g(),V=h("div"),tt=h("label"),tt.textContent="Robot Width:",nt=g(),et=h("input"),ot=g(),it=h("h2"),it.textContent="Field Options",ct=g(),ut=h("label"),ut.textContent="Starting Position:",pt=g(),at=h("div"),dt=h("div"),vt=h("label"),vt.textContent="X:",ht=g(),Jt&&Jt.c(),ft=g(),xt=h("div"),gt=h("label"),gt.textContent="Y:",mt=g(),Wt&&Wt.c(),kt=g(),bt=h("h2"),bt.textContent="Advanced Options",yt=g(),Pt=h("div"),wt=h("label"),wt.textContent="Infinite Path Looping:",$t=g(),Ct=h("input"),_t=g(),Et=h("div"),Mt=h("label"),Mt.textContent="Auto-link Paths:",Zt=g(),qt=h("input"),zt=g(),Lt=h("div");for(let t=0;t<Kt.length;t+=1)Kt[t].c();Tt=g(),Qt&&Qt.c(),Bt=g(),Ot=f("svg");for(let t=0;t<tn.length;t+=1)tn[t].c();jt=g(),Dt=h("div");for(let t=0;t<en.length;t+=1)en[t].c();Ft=g(),It=h("button"),It.textContent="Add Path",St=g(),Ht=h("div"),Nt=h("div"),At=h("div"),rn.c(),Rt=g(),Ut=h("input"),k(r,"class","page-title svelte-pvx5kr"),P(c,"user-select","none"),k(c,"class","svelte-pvx5kr"),P(x,"user-select","none"),k(x,"class","svelte-pvx5kr"),k(i,"class","export-import svelte-pvx5kr"),k(l,"class","header svelte-pvx5kr"),k(q,"class","section-title svelte-pvx5kr"),P(q,"user-select","none"),k(B,"for","robotUnits"),P(B,"user-select","none"),k(B,"class","svelte-pvx5kr"),D.__value="inches",D.value=D.__value,k(D,"class","svelte-pvx5kr"),F.__value="cm",F.value=F.__value,k(F,"class","svelte-pvx5kr"),k(j,"id","robotUnits"),k(j,"class","standard-input-box svelte-pvx5kr"),void 0===n[2]&&z((()=>n[28].call(j))),k(T,"class","robot-options svelte-pvx5kr"),k(H,"for","robot-length"),P(H,"user-select","none"),k(H,"class","svelte-pvx5kr"),k(X,"id","robot-length"),k(X,"class","standard-input-box svelte-pvx5kr"),k(X,"type","number"),k(X,"step","0.01"),k(S,"class","robot-options svelte-pvx5kr"),k(tt,"for","robot-width"),P(tt,"user-select","none"),k(tt,"class","svelte-pvx5kr"),k(et,"id","robot-width"),k(et,"class","standard-input-box svelte-pvx5kr"),k(et,"type","number"),k(et,"step","0.01"),k(V,"class","robot-options svelte-pvx5kr"),k(it,"id","field-options"),k(it,"class","section-title svelte-pvx5kr"),P(it,"user-select","none"),P(ut,"user-select","none"),k(ut,"class","svelte-pvx5kr"),k(vt,"class","cp-x svelte-pvx5kr"),P(vt,"user-select","none"),k(dt,"class","control-point-mini-box-x svelte-pvx5kr"),k(gt,"class","cp-x svelte-pvx5kr"),P(gt,"user-select","none"),k(xt,"class","control-point-mini-box-y svelte-pvx5kr"),k(at,"class","control-point-mini-box svelte-pvx5kr"),k(bt,"id","advanced-options"),k(bt,"class","section-title svelte-pvx5kr"),P(bt,"user-select","none"),k(wt,"for","field-length"),P(wt,"user-select","none"),k(wt,"class","svelte-pvx5kr"),k(Ct,"id","auto-link-paths"),k(Ct,"type","checkbox"),k(Ct,"class","svelte-pvx5kr"),k(Pt,"class","advanced-options svelte-pvx5kr"),k(Mt,"for","field-length"),P(Mt,"user-select","none"),k(Mt,"class","svelte-pvx5kr"),k(qt,"id","auto-link-paths"),k(qt,"type","checkbox"),k(qt,"class","svelte-pvx5kr"),k(Et,"class","advanced-options svelte-pvx5kr"),k(Z,"class","svelte-pvx5kr"),k(M,"class","robot-options-menu svelte-pvx5kr"),k(E,"class","settings-column svelte-pvx5kr"),k(Ot,"viewBox","0 0 144 144"),k(Ot,"width","100%"),k(Ot,"height","100%"),P(Ot,"position","absolute"),P(Ot,"top","0"),P(Ot,"left","0"),k(Ot,"class","svelte-pvx5kr"),k(Lt,"class","field svelte-pvx5kr"),P(It,"user-select","none"),k(It,"class","svelte-pvx5kr"),k(Dt,"class","paths svelte-pvx5kr"),k(_,"class","container svelte-pvx5kr"),k(At,"class","play-button svelte-pvx5kr"),k(Ut,"type","range"),k(Ut,"id","scrub"),k(Ut,"min","0"),k(Ut,"max","100"),k(Ut,"step","0.001"),k(Ut,"class","svelte-pvx5kr"),k(Nt,"class","scrubbing-bar svelte-pvx5kr"),k(Ht,"class","footer svelte-pvx5kr"),k(C,"class","main-content svelte-pvx5kr"),k(e,"class","svelte-pvx5kr")},m(t,o){a(t,e,o),p(e,l),p(l,r),p(l,s),p(l,i),p(i,c),p(i,u),p(i,x),p(e,$),p(e,C),p(C,_),p(_,E),p(E,M),p(M,Z),p(Z,q),p(Z,L),p(Z,T),p(T,B),p(T,O),p(T,j),p(j,D),p(j,F),w(j,n[2],!0),p(Z,I),p(Z,S),p(S,H),p(S,A),p(S,X),y(X,n[0]),p(Z,W),p(Z,V),p(V,tt),p(V,nt),p(V,et),y(et,n[1]),p(Z,ot),p(Z,it),p(Z,ct),p(Z,ut),p(Z,pt),p(Z,at),p(at,dt),p(dt,vt),p(dt,ht),Jt&&Jt.m(dt,null),p(at,ft),p(at,xt),p(xt,gt),p(xt,mt),Wt&&Wt.m(xt,null),p(Z,kt),p(Z,bt),p(Z,yt),p(Z,Pt),p(Pt,wt),p(Pt,$t),p(Pt,Ct),Ct.checked=n[10],p(Z,_t),p(Z,Et),p(Et,Mt),p(Et,Zt),p(Et,qt),qt.checked=n[11],p(_,zt),p(_,Lt);for(let t=0;t<Kt.length;t+=1)Kt[t]&&Kt[t].m(Lt,null);p(Lt,Tt),Qt&&Qt.m(Lt,null),p(Lt,Bt),p(Lt,Ot);for(let t=0;t<tn.length;t+=1)tn[t]&&tn[t].m(Ot,null);p(_,jt),p(_,Dt);for(let t=0;t<en.length;t+=1)en[t]&&en[t].m(Dt,null);p(Dt,Ft),p(Dt,It),p(C,St),p(C,Ht),p(Ht,Nt),p(Nt,At),rn.m(At,null),p(Nt,Rt),p(Nt,Ut),y(Ut,n[4]),Xt||(Yt=[m(c,"click",n[18]),m(x,"click",n[17]),m(j,"change",n[28]),m(X,"input",n[29]),m(et,"input",n[30]),m(Ct,"change",n[35]),m(qt,"change",n[36]),m(It,"click",n[53]),m(Ut,"change",n[54]),m(Ut,"input",n[54]),m(Ut,"input",n[23])],Xt=!0)},p(t,n){if(4&n[0]&&w(j,t[2]),1&n[0]&&b(X.value)!==t[0]&&y(X,t[0]),2&n[0]&&b(et.value)!==t[1]&&y(et,t[1]),t[5].length>0?Jt?Jt.p(t,n):(Jt=Y(t),Jt.c(),Jt.m(dt,null)):Jt&&(Jt.d(1),Jt=null),t[5].length>0?Wt?Wt.p(t,n):(Wt=J(t),Wt.c(),Wt.m(xt,null)):Wt&&(Wt.d(1),Wt=null),1024&n[0]&&(Ct.checked=t[10]),2048&n[0]&&(qt.checked=t[11]),32&n[0]){let e;for(Gt=t[5],e=0;e<Gt.length;e+=1){const o=U(t,Gt,e);Kt[e]?Kt[e].p(o,n):(Kt[e]=G(o),Kt[e].c(),Kt[e].m(Lt,Tt))}for(;e<Kt.length;e+=1)Kt[e].d(1);Kt.length=Gt.length}if(t[5].length>0?Qt?Qt.p(t,n):(Qt=K(t),Qt.c(),Qt.m(Lt,Bt)):Qt&&(Qt.d(1),Qt=null),32&n[0]){let e;for(Vt=t[5],e=0;e<Vt.length;e+=1){const o=R(t,Vt,e);tn[e]?tn[e].p(o,n):(tn[e]=Q(o),tn[e].c(),tn[e].m(Ot,null))}for(;e<tn.length;e+=1)tn[e].d(1);tn.length=Vt.length}if(74547232&n[0]){let e;for(nn=t[5],e=0;e<nn.length;e+=1){const o=N(t,nn,e);en[e]?en[e].p(o,n):(en[e]=lt(o),en[e].c(),en[e].m(Dt,Ft))}for(;e<en.length;e+=1)en[e].d(1);en.length=nn.length}ln===(ln=on(t))&&rn?rn.p(t,n):(rn.d(1),rn=ln(t),rn&&(rn.c(),rn.m(At,null))),16&n[0]&&y(Ut,t[4])},i:t,o:t,d(t){t&&d(e),Jt&&Jt.d(),Wt&&Wt.d(),v(Kt,t),Qt&&Qt.d(),v(tn,t),v(en,t),rn.d(),Xt=!1,o(Yt)}}}function ct(t,n){let e=[];for(let o=0;o<=1;o+=1/n)e.push(ut(t,o));return e.push(t[t.length-1]),e}function ut(t,n){if(1===t.length)return t[0];let e=[];for(let o=0;o<t.length-1;o++){let l=(1-n)*t[o].x+n*t[o+1].x,r=(1-n)*t[o].y+n*t[o+1].y;e.push({x:l,y:r})}return ut(e,n)}const pt=t=>`${t.x},${144-t.y}`;function at(n,e,o){let l,s,i=function(n,e=t){let o;const l=new Set;function s(t){if(r(n,t)&&(n=t,o)){const t=!H.length;for(const t of l)t[1](),H.push(t,n);if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(r,i=t){const c=[r,i];return l.add(c),1===l.size&&(o=e(s)||t),r(n),()=>{l.delete(c),0===l.size&&o&&(o(),o=null)}}}}([]);c(n,i,(t=>o(5,s=t)));let p=0,a=0,d=18,v=18,h=18,f=18,x="inches";function g(t){i.update((n=>{const e=n.find((n=>n.id===t));return e&&(e.bezierCurvePoints=ct(e.controlPoints,100)),n}))}function m(){i.update((t=>{const n={id:t.length,controlPoints:[],bezierCurvePoints:[],color:`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`};if(t.length>0){const e=t[t.length-1];if(e.controlPoints.length>0){const t=e.controlPoints[e.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,r=72+Math.cos(o)*l,s=72+Math.sin(o)*l;n.controlPoints.push({x:t.x,y:t.y}),n.controlPoints.push({x:r,y:s})}}else 0===t.length&&(n.controlPoints.push({x:12,y:96}),n.controlPoints.push({x:36,y:96}));return[...t,n]}))}function k(t,n){i.update((e=>{const l=e.find((n=>n.id===t));if(console.log(l.controlPoints),l){const t=2*Math.random()*Math.PI,e=50;o(12,p=72+Math.cos(t)*e),o(13,a=72+Math.sin(t)*e),l.controlPoints.splice(n,0,{x:p,y:a}),l.bezierCurvePoints=ct(l.controlPoints,100)}return console.log(l.controlPoints),e}))}function y(t,n){i.update((e=>{const o=e.find((n=>n.id===t));return o&&(o.color=n),e}))}function P(t){i.update((n=>{const e=n.filter((n=>n.id!==t));return e.forEach(((t,n)=>{t.id=n})),e}))}let w=0,$=12,C=96;function _(){let t=0;s.forEach((n=>{t+=n.bezierCurvePoints.length}));let n=0;for(let e of s){if(w<=(n+e.bezierCurvePoints.length)/t*100){const l=(w-n/t*100)/(e.bezierCurvePoints.length/t*100),r=Math.floor(l*(e.bezierCurvePoints.length-1)),s=e.bezierCurvePoints[r];s&&(o(8,$=s.x),o(9,C=s.y));break}n+=e.bezierCurvePoints.length}}let E=!1,M=!1,Z=!0,q=null,z=0,L=0,T=null,B=0,O=0,j=0,D=0,F=!0;function I(){o(3,E=!1),q&&(clearInterval(q),q=null),o(27,M=!0),Z=!1}document.addEventListener("DOMContentLoaded",(()=>{m(),g(s.length-1)})),document.addEventListener("mousedown",(t=>{const n=document.querySelector(".field").getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top;let l=null,r=null,c=null,u=null;if(s.forEach((t=>{t.controlPoints.forEach(((s,i)=>{const p=s.x/144*n.width,a=n.height-s.y/144*n.height;Math.sqrt((e-p)**2+(o-a)**2)<10&&(null===l&&null===r?(l=t.id,r=i):S&&null===c&&null===u&&(c=t.id,u=i))}))})),null!==l&&null!==r){const t=t=>{const e=t.clientX-n.left,o=t.clientY-n.top,s=e/n.width*144,p=144-o/n.height*144;i.update((t=>{const n=t.find((t=>t.id===l));if(n&&(n.controlPoints[r]={x:s,y:p},n.bezierCurvePoints=ct(n.controlPoints,100)),S&&null!==c&&null!==u){const n=t.find((t=>t.id===c));n&&(n.controlPoints[u]={x:s,y:p},n.bezierCurvePoints=ct(n.controlPoints,100))}return t})),_()},e=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)}}));let S=!0;function N(){S&&i.update((t=>{for(let n=0;n<t.length-1;n++){const e=t[n],o=t[n+1];if(e.controlPoints.length>0&&o.controlPoints.length>0){const t=e.controlPoints[e.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=ct(o.controlPoints,100)}}return t}))}return n.$$.update=()=>{if(7&n.$$.dirty[0]){const t="inches"===x?1:2.54;o(6,h=d/t),o(7,f=v/t)}if(32&n.$$.dirty[0]&&(l=1.56*s.length),134217784&n.$$.dirty[0]&&!E&&M){const t=s.length,n=Math.floor(O/100*t),e=O/100*t-n,o=e<.5?2*e*e:(4-2*e)*e-1;w=(n+o)/t*100,j=n,z=o,_()}if(8&n.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=E?"transform 1ms linear":"none",t.style.filter=E?"blur(0.2px)":"none")}},N(),_(),g(1),[d,v,x,E,O,s,h,f,$,C,F,S,p,a,T,i,g,function(){const t=s.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color}))),n=JSON.stringify(t,null,2),e=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(e),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const n=t.target.files[0],e=await n.text(),o=JSON.parse(e);i.set(o.map(((t,n)=>({...t,id:n})))),o.forEach(((t,n)=>g(n))),_()},t.click()},m,k,y,P,_,function(){E||(o(3,E=!0),j=Z?0:Math.floor(w/100*s.length),D=Date.now()-(Z?0:w%(100/s.length)/100*l*1e3),M&&(D=Date.now()-z*B*1e3),q=setInterval((()=>{L=(Date.now()-D)/1e3,o(14,T=s[j]),B=l/s.length,z=L/B,o(4,O=(j+z)/s.length*100),z<.5?z*=2*z:z=(4-2*z)*z-1,w=(j+z)/s.length*100,_(),L>=B&&(j+1>=s.length?F?j=0:I():j++,D=Date.now())}),1))},I,N,M,function(){x=function(t){const n=t.querySelector(":checked");return n&&n.__value}(this),o(2,x)},function(){d=b(this.value),o(0,d)},function(){v=b(this.value),o(1,v)},function(){s[0].controlPoints[0].x=b(this.value),i.set(s)},()=>_(),function(){s[0].controlPoints[0].y=b(this.value),i.set(s)},()=>_(),function(){F=this.checked,o(10,F)},function(){S=this.checked,o(11,S)},t=>{if(0!=t.id&&t.id!=s.length-1){const n=s[t.id+1];u(i,s[t.id+1]={...s[t.id],id:t.id+1},s),u(i,s[t.id]={...n,id:t.id},s),i.set(s),N()}},t=>{if(0!=t.id&&1!=t.id){const n=s[t.id-1];u(i,s[t.id-1]={...s[t.id],id:t.id-1},s),u(i,s[t.id]={...n,id:t.id},s),i.set(s),N()}},function(t,n){t[n].color=this.value,i.set(s)},t=>y(t.id,t.color),t=>{s.length>1&&P(t.id)},t=>k(t.id,t.controlPoints.length-1),(t,n)=>{"Enter"===n.key&&k(t.id,t.controlPoints.length-1)},function(t,n,e){n[e].controlPoints[t].x=b(this.value),i.set(s)},t=>g(t.id),function(t,n,e){n[e].controlPoints[t].y=b(this.value),i.set(s)},t=>g(t.id),(t,n)=>{t.controlPoints.length>2&&(t.controlPoints.splice(n,1),g(t.id),i.set(s))},function(t,n){t[n].controlPoints[T.controlPoints.length-1].x=b(this.value),i.set(s)},t=>g(t.id),function(t,n){t[n].controlPoints[T.controlPoints.length-1].y=b(this.value),i.set(s)},t=>g(t.id),()=>{m(),g(s.length-1)},function(){O=b(this.value),o(4,O)}]}return new class extends S{constructor(t){super(),I(this,t,at,it,r,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
