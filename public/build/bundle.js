var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,r;function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n){return t.set(n),e}function v(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function P(t,e){t.value=null==e?"":e}function w(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function $(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function C(t){const e=t.querySelector(":checked");return e&&e.__value}function k(t){r=t}const _=[],M=[];let E=[];const A=[],H=Promise.resolve();let D=!1;function Z(t){E.push(t)}const q=new Set;let z=0;function I(){if(0!==z)return;const t=r;do{try{for(;z<_.length;){const t=_[z];z++,k(t),T(t.$$)}}catch(t){throw _.length=0,z=0,t}for(k(null),_.length=0,z=0;M.length;)M.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];q.has(e)||(q.add(e),e())}E.length=0}while(_.length);for(;A.length;)A.pop()();D=!1,q.clear(),k(t)}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}const L=new Set;function B(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];E.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),E=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(_.push(t),D||(D=!0,H.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(s,i,c,u,v,a,d,h=[-1]){const f=r;k(s);const g=s.$$={fragment:null,ctx:[],props:a,update:t,not_equal:v,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:i.target||f.$$.root};d&&d(g.root);let m=!1;if(g.ctx=c?c(s,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&v(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&F(s,t)),e})):[],g.update(),m=!0,o(g.before_update),g.fragment=!!u&&u(g.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();i.intro&&((b=s.$$.fragment)&&b.i&&(L.delete(b),b.i(x))),function(t,n,s,i){const{fragment:r,after_update:c}=t.$$;r&&r.m(n,s),i||Z((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(Z)}(s,i.target,i.anchor,i.customElement),I()}var b,x;k(f)}class O{$destroy(){B(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const S=[];function j(t,e,n){const o=t.slice();return o[7]=e[n],o[79]=e,o[80]=n,o}function N(t,e,n){const o=t.slice();return o[16]=e[n].x,o[17]=e[n].y,o[82]=n,o}function U(t,e,n){const o=t.slice();return o[7]=e[n],o}function X(t,e,n){const o=t.slice();return o[7]=e[n],o}function Y(t,e,n){const o=t.slice();return o[16]=e[n].x,o[17]=e[n].y,o}function J(t){let e,n,l;return{c(){e=h("input"),x(e,"class","start-pos-box svelte-vvu40p"),x(e,"type","number"),x(e,"step","0.01")},m(o,s){a(o,e,s),P(e,t[6][0].controlPoints[0].x),n||(l=[b(e,"input",t[35]),b(e,"input",t[36])],n=!0)},p(t,n){64&n[0]&&y(e.value)!==t[6][0].controlPoints[0].x&&P(e,t[6][0].controlPoints[0].x)},d(t){t&&p(e),n=!1,o(l)}}}function W(t){let e,n,l;return{c(){e=h("input"),x(e,"class","start-pos-box svelte-vvu40p"),x(e,"type","number"),x(e,"step","0.01")},m(o,s){a(o,e,s),P(e,t[6][0].controlPoints[0].y),n||(l=[b(e,"input",t[37]),b(e,"input",t[38])],n=!0)},p(t,n){64&n[0]&&y(e.value)!==t[6][0].controlPoints[0].y&&P(e,t[6][0].controlPoints[0].y)},d(t){t&&p(e),n=!1,o(l)}}}function G(t){let e,n;return{c(){e=h("div"),n=h("div"),x(n,"class","point svelte-vvu40p"),w(n,"left",t[16]/144*100+"%"),w(n,"bottom",t[17]/144*100+"%"),w(n,"background",t[7].color),x(e,"class","hover-point svelte-vvu40p")},m(t,o){a(t,e,o),v(e,n)},p(t,e){64&e[0]&&w(n,"left",t[16]/144*100+"%"),64&e[0]&&w(n,"bottom",t[17]/144*100+"%"),64&e[0]&&w(n,"background",t[7].color)},d(t){t&&p(e)}}}function K(t){let e,n=t[7].controlPoints,o=[];for(let e=0;e<n.length;e+=1)o[e]=G(Y(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g("")},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);a(t,e,n)},p(t,l){if(64&l[0]){let s;for(n=t[7].controlPoints,s=0;s<n.length;s+=1){const i=Y(t,n,s);o[s]?o[s].p(i,l):(o[s]=G(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){d(o,t),t&&p(e)}}}function Q(t){let e,n;return{c(){var o,l;e=h("img"),o=e.src,l=n="./robot.png",i||(i=document.createElement("a")),i.href=l,o!==i.href&&x(e,"src","./robot.png"),x(e,"alt","Robot"),x(e,"id","robot"),w(e,"width",t[9]/144*100+"%"),w(e,"height",t[8]/144*100+"%"),w(e,"left",t[10]/144*100+"%"),w(e,"bottom",t[11]/144*100+"%"),w(e,"user-select","none"),x(e,"class","svelte-vvu40p")},m(t,n){a(t,e,n)},p(t,n){512&n[0]&&w(e,"width",t[9]/144*100+"%"),256&n[0]&&w(e,"height",t[8]/144*100+"%"),1024&n[0]&&w(e,"left",t[10]/144*100+"%"),2048&n[0]&&w(e,"bottom",t[11]/144*100+"%")},d(t){t&&p(e)}}}function V(t){let e,n;return{c(){e=f("polyline"),x(e,"class","curve svelte-vvu40p"),x(e,"points",n=t[7].bezierCurvePoints.map(ht).join(" ")),w(e,"stroke",t[7].color)},m(t,n){a(t,e,n)},p(t,o){64&o[0]&&n!==(n=t[7].bezierCurvePoints.map(ht).join(" "))&&x(e,"points",n),64&o[0]&&w(e,"stroke",t[7].color)},d(t){t&&p(e)}}}function tt(t){let e,n,o,l,s;return{c(){e=h("label"),n=g("Control Point "),o=g(t[82]),l=g(":"),x(e,"for",s="control-point-"+t[7].id+"-"+t[82]),w(e,"user-select","none"),x(e,"class","svelte-vvu40p")},m(t,s){a(t,e,s),v(e,n),v(e,o),v(e,l)},p(t,n){64&n[0]&&s!==(s="control-point-"+t[7].id+"-"+t[82])&&x(e,"for",s)},d(t){t&&p(e)}}}function et(t){let e,n,o;return{c(){e=h("label"),n=g("Endpoint:"),x(e,"for",o="control-point-"+t[7].id+"-"+t[82]),w(e,"user-select","none"),x(e,"class","svelte-vvu40p")},m(t,o){a(t,e,o),v(e,n)},p(t,n){64&n[0]&&o!==(o="control-point-"+t[7].id+"-"+t[82])&&x(e,"for",o)},d(t){t&&p(e)}}}function nt(t){let e,n,l,s,i,r,c,u,d,f,y,P,C,k,_,M,E,A,H,D,q,z,I,T,L,B;function F(...e){return t[55](t[7],t[79],t[80],...e)}function R(...e){return t[56](t[7],t[79],t[80],...e)}function O(){t[57].call(D,t[79],t[80])}function S(){return t[58](t[7])}function j(t,e){return"linear"===t[7].robotHeading?it:"tangential"===t[7].robotHeading?st:"constant"===t[7].robotHeading?lt:void 0}let N=j(t),U=N&&N(t);return{c(){e=h("div"),n=h("div"),l=h("label"),s=g("X:"),r=m(),c=h("input"),f=m(),y=h("div"),P=h("label"),C=g("Y:"),_=m(),M=h("input"),H=m(),D=h("select"),q=h("option"),q.textContent="Constant",z=h("option"),z.textContent="Tangential",I=h("option"),I.textContent="Linear",T=m(),U&&U.c(),x(l,"class","cp-x svelte-vvu40p"),x(l,"for",i="control-point-"+t[7].id+"-"+t[82]),w(l,"user-select","none"),x(c,"id",u="control-point-"+t[7].id+"-"+t[82]),x(c,"class","standard-input-box svelte-vvu40p"),x(c,"type","number"),x(c,"step","1"),c.value=d=t[7].controlPoints[t[7].controlPoints.length-1].x,x(n,"class","control-point-mini-box-x svelte-vvu40p"),x(P,"class","cp-y svelte-vvu40p"),x(P,"for",k="control-point-"+t[7].id+"-"+t[82]+"-y"),w(P,"user-select","none"),x(M,"id",E="control-point-"+t[7].id+"-"+t[82]+"-y"),x(M,"class","standard-input-box svelte-vvu40p"),x(M,"type","number"),x(M,"step","1"),M.value=A=t[7].controlPoints[t[7].controlPoints.length-1].y,x(y,"class","control-point-mini-box-y svelte-vvu40p"),q.__value="constant",q.value=q.__value,x(q,"class","svelte-vvu40p"),z.__value="tangential",z.value=z.__value,x(z,"class","svelte-vvu40p"),I.__value="linear",I.value=I.__value,x(I,"class","svelte-vvu40p"),x(D,"id","robot-heading"),x(D,"class","standard-input-box svelte-vvu40p"),void 0===t[7].robotHeading&&Z(O),x(e,"class","control-point-mini-box svelte-vvu40p")},m(o,i){a(o,e,i),v(e,n),v(n,l),v(l,s),v(n,r),v(n,c),v(e,f),v(e,y),v(y,P),v(P,C),v(y,_),v(y,M),v(e,H),v(e,D),v(D,q),v(D,z),v(D,I),$(D,t[7].robotHeading,!0),v(e,T),U&&U.m(e,null),L||(B=[b(c,"input",F),b(M,"input",R),b(D,"change",O),b(D,"change",S)],L=!0)},p(n,o){t=n,64&o[0]&&i!==(i="control-point-"+t[7].id+"-"+t[82])&&x(l,"for",i),64&o[0]&&u!==(u="control-point-"+t[7].id+"-"+t[82])&&x(c,"id",u),64&o[0]&&d!==(d=t[7].controlPoints[t[7].controlPoints.length-1].x)&&c.value!==d&&(c.value=d),64&o[0]&&k!==(k="control-point-"+t[7].id+"-"+t[82]+"-y")&&x(P,"for",k),64&o[0]&&E!==(E="control-point-"+t[7].id+"-"+t[82]+"-y")&&x(M,"id",E),64&o[0]&&A!==(A=t[7].controlPoints[t[7].controlPoints.length-1].y)&&M.value!==A&&(M.value=A),64&o[0]&&$(D,t[7].robotHeading),N===(N=j(t))&&U?U.p(t,o):(U&&U.d(1),U=N&&N(t),U&&(U.c(),U.m(e,null)))},d(t){t&&p(e),U&&U.d(),L=!1,o(B)}}}function ot(t){let e,n,l,s,i,r,c,u,d,y,P,$,C,k,_,M,E,A,H;function D(...e){return t[52](t[7],t[82],t[79],t[80],...e)}function Z(...e){return t[53](t[7],t[82],t[79],t[80],...e)}let q=t[82]>0&&function(t){let e,n,o,l;function s(){return t[54](t[7],t[82])}return{c(){e=f("svg"),n=f("path"),x(n,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),x(n,"class","svelte-vvu40p"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"height","24px"),x(e,"viewBox","0 -960 960 960"),x(e,"width","24px"),x(e,"fill","#FF474D"),w(e,"cursor","pointer"),x(e,"class","svelte-vvu40p")},m(t,i){a(t,e,i),v(e,n),o||(l=b(e,"click",s),o=!0)},p(e,n){t=e},d(t){t&&p(e),o=!1,l()}}}(t);return{c(){e=h("div"),n=h("div"),l=h("label"),s=g("X:"),r=m(),c=h("input"),d=m(),y=h("div"),P=h("label"),$=g("Y:"),k=m(),_=h("input"),E=m(),q&&q.c(),x(l,"class","cp-x svelte-vvu40p"),x(l,"for",i="control-point-"+t[7].id+"-"+t[82]),w(l,"user-select","none"),x(c,"id","cp-input"),x(c,"class","standard-input-box svelte-vvu40p"),x(c,"type","number"),x(c,"step","1"),c.value=u=t[7].controlPoints[t[82]].x,x(n,"class","control-point-mini-box-x svelte-vvu40p"),x(P,"class","cp-y svelte-vvu40p"),x(P,"for",C="control-point-"+t[7].id+"-"+t[82]+"-y"),w(P,"user-select","none"),x(_,"id","cp-input"),x(_,"class","standard-input-box svelte-vvu40p"),x(_,"type","number"),x(_,"step","1"),_.value=M=t[7].controlPoints[t[82]].y,x(y,"class","control-point-mini-box-y svelte-vvu40p"),x(e,"class","control-point-mini-box svelte-vvu40p")},m(t,o){a(t,e,o),v(e,n),v(n,l),v(l,s),v(n,r),v(n,c),v(e,d),v(e,y),v(y,P),v(P,$),v(y,k),v(y,_),v(e,E),q&&q.m(e,null),A||(H=[b(c,"input",D),b(_,"input",Z)],A=!0)},p(e,n){t=e,64&n[0]&&i!==(i="control-point-"+t[7].id+"-"+t[82])&&x(l,"for",i),64&n[0]&&u!==(u=t[7].controlPoints[t[82]].x)&&c.value!==u&&(c.value=u),64&n[0]&&C!==(C="control-point-"+t[7].id+"-"+t[82]+"-y")&&x(P,"for",C),64&n[0]&&M!==(M=t[7].controlPoints[t[82]].y)&&_.value!==M&&(_.value=M),t[82]>0&&q.p(t,n)},d(t){t&&p(e),q&&q.d(),A=!1,o(H)}}}function lt(t){let e,n,l,s;function i(){t[65].call(n,t[79],t[80])}return{c(){e=h("div"),n=h("input"),x(n,"id","constant-angle"),x(n,"class","standard-input-box svelte-vvu40p"),x(n,"type","number"),x(n,"step","0.01"),x(e,"class","control-point-mini-box svelte-vvu40p")},m(o,r){a(o,e,r),v(e,n),P(n,t[7].constantAngleDegrees),l||(s=[b(n,"input",i),b(n,"input",t[66])],l=!0)},p(e,o){t=e,64&o[0]&&y(n.value)!==t[7].constantAngleDegrees&&P(n,t[7].constantAngleDegrees)},d(t){t&&p(e),l=!1,o(s)}}}function st(t){let e,n,l,s,i,r;function c(){t[63].call(s,t[79],t[80])}return{c(){e=h("div"),n=h("label"),n.textContent="Reverse:",l=m(),s=h("input"),x(n,"for","reverse"),w(n,"user-select","none"),x(n,"class","svelte-vvu40p"),x(s,"id","reverse"),x(s,"type","checkbox"),x(s,"class","svelte-vvu40p"),x(e,"class","control-point-mini-box svelte-vvu40p")},m(o,u){a(o,e,u),v(e,n),v(e,l),v(e,s),s.checked=t[7].reverse,i||(r=[b(s,"change",c),b(s,"input",t[64])],i=!0)},p(e,n){t=e,64&n[0]&&(s.checked=t[7].reverse)},d(t){t&&p(e),i=!1,o(r)}}}function it(t){let e,n,l,s,i,r,c;function u(){t[59].call(n,t[79],t[80])}function d(){t[61].call(i,t[79],t[80])}return{c(){e=h("div"),n=h("input"),l=m(),s=h("div"),i=h("input"),x(n,"id","start-angle"),x(n,"class","standard-input-box svelte-vvu40p"),x(n,"type","number"),x(n,"step","0.01"),x(e,"class","control-point-mini-box svelte-vvu40p"),x(i,"id","end-angle"),x(i,"class","standard-input-box svelte-vvu40p"),x(i,"type","number"),x(i,"step","0.01"),x(s,"class","control-point-mini-box svelte-vvu40p")},m(o,p){a(o,e,p),v(e,n),P(n,t[7].startAngleDegrees),a(o,l,p),a(o,s,p),v(s,i),P(i,t[7].endAngleDegrees),r||(c=[b(n,"input",u),b(n,"input",t[60]),b(i,"input",d),b(i,"input",t[62])],r=!0)},p(e,o){t=e,64&o[0]&&y(n.value)!==t[7].startAngleDegrees&&P(n,t[7].startAngleDegrees),64&o[0]&&y(i.value)!==t[7].endAngleDegrees&&P(i,t[7].endAngleDegrees)},d(t){t&&p(e),t&&p(l),t&&p(s),r=!1,o(c)}}}function rt(t){let e,n;function o(t,e){return 0==t[82]?et:t[82]>0&&t[82]!=t[7].controlPoints.length-1?tt:void 0}let l=o(t),s=l&&l(t);function i(t,e){return t[82]>0&&t[82]!=t[7].controlPoints.length-1?ot:0==t[82]?nt:void 0}let r=i(t),c=r&&r(t);return{c(){e=h("div"),s&&s.c(),n=m(),c&&c.c(),x(e,"class","control-point-box svelte-vvu40p")},m(t,o){a(t,e,o),s&&s.m(e,null),v(e,n),c&&c.m(e,null)},p(t,u){l===(l=o(t))&&s?s.p(t,u):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(e,n))),r===(r=i(t))&&c?c.p(t,u):(c&&c.d(1),c=r&&r(t),c&&(c.c(),c.m(e,null)))},d(t){t&&p(e),s&&s.d(),c&&c.d()}}}function ct(t){let e,n,l,s,i,r,c,u,y,$,C,k,_,M,E,A,H,D,Z,q,z,I,T,L,B,F,R,O,S=t[7].id+1+"";function j(){return t[45](t[7])}function U(){return t[46](t[7])}function X(){t[47].call(k,t[79],t[80])}function Y(){return t[48](t[7])}function J(){return t[49](t[7])}function W(){return t[50](t[7])}function G(...e){return t[51](t[7],...e)}let K=t[7].controlPoints,Q=[];for(let e=0;e<K.length;e+=1)Q[e]=rt(N(t,K,e));return{c(){e=h("div"),n=h("div"),l=h("div"),s=f("svg"),i=f("path"),c=m(),u=f("svg"),y=f("path"),C=m(),k=h("input"),_=m(),M=h("p"),E=g("Path "),A=g(S),H=m(),D=h("div"),Z=f("svg"),q=f("path"),I=m(),T=f("svg"),L=f("path"),B=m(),F=h("div");for(let t=0;t<Q.length;t+=1)Q[t].c();x(i,"d","M480-240 240-480l56-56 144 144v-368h80v368l144-144 56 56-240 240Z"),x(i,"class","svelte-vvu40p"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"height","24px"),x(s,"viewBox","0 -960 960 960"),x(s,"width","24px"),x(s,"fill",r=0!=t[7].id&&t[7].id!=t[6].length-1?"black":"gray"),w(s,"cursor",0!=t[7].id&&t[7].id!=t[6].length-1?"pointer":"default"),x(s,"class","svelte-vvu40p"),x(y,"d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"),x(y,"class","svelte-vvu40p"),x(u,"xmlns","http://www.w3.org/2000/svg"),x(u,"height","24px"),x(u,"viewBox","0 -960 960 960"),x(u,"width","24px"),x(u,"fill",$=0!=t[7].id&&1!=t[7].id?"black":"gray"),w(u,"cursor",0!=t[7].id&&1!=t[7].id?"pointer":"default"),x(u,"class","svelte-vvu40p"),x(k,"type","color"),x(k,"class","color-circle svelte-vvu40p"),w(k,"background-color",t[7].color),x(M,"class","path-title svelte-vvu40p"),w(M,"user-select","none"),x(l,"class","path-and-color svelte-vvu40p"),x(q,"d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"),x(q,"class","svelte-vvu40p"),x(Z,"xmlns","http://www.w3.org/2000/svg"),x(Z,"height","24px"),x(Z,"viewBox","0 -960 960 960"),x(Z,"width","24px"),x(Z,"fill",z=t[6].length>1?"#FF474D":"gray"),w(Z,"cursor",t[6].length>1?"pointer":"default"),x(Z,"class","svelte-vvu40p"),x(L,"d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),x(L,"class","svelte-vvu40p"),x(T,"xmlns","http://www.w3.org/2000/svg"),x(T,"height","24px"),x(T,"viewBox","0 -960 960 960"),x(T,"width","24px"),x(T,"fill","#90EE90"),w(T,"cursor","pointer"),x(T,"class","svelte-vvu40p"),x(D,"class","add-and-remove svelte-vvu40p"),x(n,"class","path-header svelte-vvu40p"),x(F,"class","path-control-points svelte-vvu40p"),x(e,"class","path svelte-vvu40p"),w(e,"border-color",t[7].color)},m(o,r){a(o,e,r),v(e,n),v(n,l),v(l,s),v(s,i),v(l,c),v(l,u),v(u,y),v(l,C),v(l,k),P(k,t[7].color),v(l,_),v(l,M),v(M,E),v(M,A),v(n,H),v(n,D),v(D,Z),v(Z,q),v(D,I),v(D,T),v(T,L),v(e,B),v(e,F);for(let t=0;t<Q.length;t+=1)Q[t]&&Q[t].m(F,null);R||(O=[b(s,"click",j),b(u,"click",U),b(k,"input",X),b(k,"input",Y),b(Z,"click",J),b(T,"click",W),b(T,"keydown",G)],R=!0)},p(n,o){if(t=n,64&o[0]&&r!==(r=0!=t[7].id&&t[7].id!=t[6].length-1?"black":"gray")&&x(s,"fill",r),64&o[0]&&w(s,"cursor",0!=t[7].id&&t[7].id!=t[6].length-1?"pointer":"default"),64&o[0]&&$!==($=0!=t[7].id&&1!=t[7].id?"black":"gray")&&x(u,"fill",$),64&o[0]&&w(u,"cursor",0!=t[7].id&&1!=t[7].id?"pointer":"default"),64&o[0]&&w(k,"background-color",t[7].color),64&o[0]&&P(k,t[7].color),64&o[0]&&S!==(S=t[7].id+1+"")&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(A,S),64&o[0]&&z!==(z=t[6].length>1?"#FF474D":"gray")&&x(Z,"fill",z),64&o[0]&&w(Z,"cursor",t[6].length>1?"pointer":"default"),135004224&o[0]){let e;for(K=t[7].controlPoints,e=0;e<K.length;e+=1){const n=N(t,K,e);Q[e]?Q[e].p(n,o):(Q[e]=rt(n),Q[e].c(),Q[e].m(F,null))}for(;e<Q.length;e+=1)Q[e].d(1);Q.length=K.length}64&o[0]&&w(e,"border-color",t[7].color)},d(t){t&&p(e),d(Q,t),R=!1,o(O)}}}function ut(e){let n,o,l,s;return{c(){n=f("svg"),o=f("path"),x(o,"d","M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"),x(o,"class","svelte-vvu40p"),x(n,"xmlns","http://www.w3.org/2000/svg"),x(n,"height","24px"),x(n,"viewBox","0 -960 960 960"),x(n,"width","24px"),x(n,"fill","#FF474D"),x(n,"class","svelte-vvu40p")},m(t,i){a(t,n,i),v(n,o),l||(s=b(n,"click",e[28]),l=!0)},p:t,d(t){t&&p(n),l=!1,s()}}}function vt(e){let n,o,l,s;return{c(){n=f("svg"),o=f("path"),x(o,"d","M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"),x(o,"class","svelte-vvu40p"),x(n,"xmlns","http://www.w3.org/2000/svg"),x(n,"height","24px"),x(n,"viewBox","0 -960 960 960"),x(n,"width","24px"),x(n,"fill","#90EE90"),x(n,"class","svelte-vvu40p")},m(t,i){a(t,n,i),v(n,o),l||(s=b(n,"click",e[26]),l=!0)},p:t,d(t){t&&p(n),l=!1,s()}}}function at(e){let n,l,s,i,r,c,u,g,C,k,_,M,E,A,H,D,q,z,I,T,L,B,F,R,O,S,N,Y,G,tt,et,nt,ot,lt,st,it,rt,at,pt,dt,ht,ft,gt,mt,bt,xt,yt,Pt,wt,$t,Ct,kt,_t,Mt,Et,At,Ht,Dt,Zt,qt,zt,It,Tt,Lt,Bt,Ft,Rt,Ot,St,jt,Nt,Ut,Xt,Yt,Jt,Wt,Gt,Kt,Qt,Vt,te,ee,ne,oe,le,se,ie,re,ce,ue,ve,ae,pe,de,he,fe,ge,me,be,xe,ye,Pe,we,$e,Ce,ke,_e,Me,Ee,Ae=e[6].length>0&&J(e),He=e[6].length>0&&W(e),De=e[6],Ze=[];for(let t=0;t<De.length;t+=1)Ze[t]=K(X(e,De,t));let qe=e[6].length>0&&Q(e),ze=e[6],Ie=[];for(let t=0;t<ze.length;t+=1)Ie[t]=V(U(e,ze,t));let Te=e[6],Le=[];for(let t=0;t<Te.length;t+=1)Le[t]=ct(j(e,Te,t));function Be(t,e){return t[4]?ut:vt}let Fe=Be(e),Re=Fe(e);return{c(){n=h("div"),l=h("div"),s=h("h1"),s.textContent="JPather",i=m(),r=h("div"),c=f("svg"),u=f("path"),g=m(),C=h("button"),C.textContent="Import Control Points",k=m(),_=h("button"),_.textContent="Export Control Points",M=m(),E=h("div"),A=h("div"),H=h("div"),D=h("div"),q=h("div"),z=h("h2"),z.textContent="Robot Options",I=m(),T=h("div"),L=h("label"),L.textContent="Units:",B=m(),F=h("select"),R=h("option"),R.textContent="Inches",O=h("option"),O.textContent="Centimeters",S=m(),N=h("div"),Y=h("label"),Y.textContent="Robot Length:",G=m(),tt=h("input"),et=m(),nt=h("div"),ot=h("label"),ot.textContent="Robot Width:",lt=m(),st=h("input"),it=m(),rt=h("h2"),rt.textContent="Field Options",at=m(),pt=h("label"),pt.textContent="Starting Position:",dt=m(),ht=h("div"),ft=h("div"),gt=h("label"),gt.textContent="X:",mt=m(),Ae&&Ae.c(),bt=m(),xt=h("div"),yt=h("label"),yt.textContent="Y:",Pt=m(),He&&He.c(),wt=m(),$t=h("label"),$t.textContent="Live Position:",Ct=m(),kt=h("div"),_t=h("div"),Mt=h("div"),Et=h("label"),Et.textContent="X:",At=m(),Ht=h("input"),Dt=m(),Zt=h("div"),qt=h("label"),qt.textContent="Y:",zt=m(),It=h("input"),Tt=m(),Lt=h("div"),Bt=h("label"),Bt.textContent="Heading:",Ft=m(),Rt=h("input"),St=m(),jt=h("h2"),jt.textContent="Advanced Options",Nt=m(),Ut=h("div"),Xt=h("label"),Xt.textContent="Show Robot Hitbox:",Yt=m(),Jt=h("input"),Wt=m(),Gt=h("div"),Kt=h("label"),Kt.textContent="Infinite Path Looping:",Qt=m(),Vt=h("input"),te=m(),ee=h("div"),ne=h("label"),ne.textContent="Auto-link Paths:",oe=m(),le=h("input"),se=m(),ie=h("div"),re=h("label"),re.textContent="Rotational Units:",ce=m(),ue=h("select"),ve=h("option"),ve.textContent="Degrees",ae=h("option"),ae.textContent="Radians",pe=m(),de=h("div");for(let t=0;t<Ze.length;t+=1)Ze[t].c();he=m(),qe&&qe.c(),fe=m(),ge=f("svg");for(let t=0;t<Ie.length;t+=1)Ie[t].c();me=m(),be=h("div");for(let t=0;t<Le.length;t+=1)Le[t].c();xe=m(),ye=h("button"),ye.textContent="Add Path",Pe=m(),we=h("div"),$e=h("div"),Ce=h("div"),Re.c(),ke=m(),_e=h("input"),x(s,"class","page-title svelte-vvu40p"),x(u,"d","M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H160v400Zm140-40-56-56 103-104-104-104 57-56 160 160-160 160Zm180 0v-80h240v80H480Z"),x(u,"class","svelte-vvu40p"),x(c,"id","code-window-btn"),x(c,"xmlns","http://www.w3.org/2000/svg"),x(c,"height","24px"),x(c,"viewBox","0 -960 960 960"),x(c,"width","24px"),x(c,"fill","black"),x(c,"class","svelte-vvu40p"),w(C,"user-select","none"),x(C,"class","svelte-vvu40p"),w(_,"user-select","none"),x(_,"class","svelte-vvu40p"),x(r,"class","export-import svelte-vvu40p"),x(l,"class","header svelte-vvu40p"),x(z,"class","section-title svelte-vvu40p"),w(z,"user-select","none"),x(L,"for","robotUnits"),w(L,"user-select","none"),x(L,"class","svelte-vvu40p"),R.__value="inches",R.value=R.__value,x(R,"class","svelte-vvu40p"),O.__value="cm",O.value=O.__value,x(O,"class","svelte-vvu40p"),x(F,"id","robotUnits"),x(F,"class","standard-input-box svelte-vvu40p"),void 0===e[2]&&Z((()=>e[32].call(F))),x(T,"class","robot-options svelte-vvu40p"),x(Y,"for","robot-length"),w(Y,"user-select","none"),x(Y,"class","svelte-vvu40p"),x(tt,"id","robot-length"),x(tt,"class","standard-input-box svelte-vvu40p"),x(tt,"type","number"),x(tt,"step","0.01"),x(N,"class","robot-options svelte-vvu40p"),x(ot,"for","robot-width"),w(ot,"user-select","none"),x(ot,"class","svelte-vvu40p"),x(st,"id","robot-width"),x(st,"class","standard-input-box svelte-vvu40p"),x(st,"type","number"),x(st,"step","0.01"),x(nt,"class","robot-options svelte-vvu40p"),x(rt,"id","field-options"),x(rt,"class","section-title svelte-vvu40p"),w(rt,"user-select","none"),x(pt,"class","adv-options svelte-vvu40p"),w(pt,"user-select","none"),x(gt,"class","cp-x svelte-vvu40p"),w(gt,"user-select","none"),x(ft,"class","control-point-mini-box-x svelte-vvu40p"),x(yt,"class","cp-x svelte-vvu40p"),w(yt,"user-select","none"),x(xt,"class","control-point-mini-box-y svelte-vvu40p"),x(ht,"class","control-point-mini-box svelte-vvu40p"),x($t,"class","adv-options svelte-vvu40p"),w($t,"user-select","none"),x(Et,"class","cp-x svelte-vvu40p"),w(Et,"user-select","none"),x(Ht,"class","start-pos-box svelte-vvu40p"),x(Ht,"type","number"),x(Ht,"step","0.001"),Ht.readOnly=!0,x(Mt,"class","control-point-mini-box-x svelte-vvu40p"),x(qt,"class","cp-y svelte-vvu40p"),w(qt,"user-select","none"),x(It,"class","start-pos-box svelte-vvu40p"),x(It,"type","number"),x(It,"step","0.001"),It.readOnly=!0,x(Zt,"class","control-point-mini-box-y svelte-vvu40p"),x(_t,"class","cp-x-y svelte-vvu40p"),x(Bt,"class","cp-heading svelte-vvu40p"),w(Bt,"user-select","none"),x(Rt,"class","start-pos-box svelte-vvu40p"),x(Rt,"type","number"),x(Rt,"step","0.001"),Rt.value=Ot=Math.round(e[13]),Rt.readOnly=!0,x(Lt,"class","control-point-mini-box-heading svelte-vvu40p"),x(kt,"id","live-pos"),x(kt,"class","control-point-mini-box svelte-vvu40p"),x(jt,"id","advanced-options"),x(jt,"class","section-title svelte-vvu40p"),w(jt,"user-select","none"),x(Xt,"for","field-length"),w(Xt,"user-select","none"),x(Xt,"class","svelte-vvu40p"),x(Jt,"id","auto-link-paths"),x(Jt,"type","checkbox"),x(Jt,"class","svelte-vvu40p"),x(Ut,"class","advanced-options svelte-vvu40p"),x(Kt,"for","field-length"),w(Kt,"user-select","none"),x(Kt,"class","svelte-vvu40p"),x(Vt,"id","auto-link-paths"),x(Vt,"type","checkbox"),x(Vt,"class","svelte-vvu40p"),x(Gt,"class","advanced-options svelte-vvu40p"),x(ne,"for","field-length"),w(ne,"user-select","none"),x(ne,"class","svelte-vvu40p"),x(le,"id","auto-link-paths"),x(le,"type","checkbox"),x(le,"class","svelte-vvu40p"),x(ee,"class","advanced-options svelte-vvu40p"),x(re,"for","rotationUnits"),w(re,"user-select","none"),x(re,"class","svelte-vvu40p"),ve.__value="degrees",ve.value=ve.__value,x(ve,"class","svelte-vvu40p"),ae.__value="radians",ae.value=ae.__value,x(ae,"class","svelte-vvu40p"),x(ue,"id","rotationUnits"),x(ue,"class","standard-input-box svelte-vvu40p"),void 0===e[3]&&Z((()=>e[44].call(ue))),x(ie,"class","advanced-options svelte-vvu40p"),x(q,"class","svelte-vvu40p"),x(D,"class","robot-options-menu svelte-vvu40p"),x(H,"class","settings-column svelte-vvu40p"),x(ge,"viewBox","0 0 144 144"),x(ge,"width","100%"),x(ge,"height","100%"),w(ge,"position","absolute"),w(ge,"top","0"),w(ge,"left","0"),x(ge,"class","svelte-vvu40p"),x(de,"class","field svelte-vvu40p"),w(ye,"user-select","none"),x(ye,"class","svelte-vvu40p"),x(be,"class","paths svelte-vvu40p"),x(A,"class","container svelte-vvu40p"),x(Ce,"class","play-button svelte-vvu40p"),x(_e,"type","range"),x(_e,"id","scrub"),x(_e,"min","0"),x(_e,"max","100"),x(_e,"step","0.001"),x(_e,"class","svelte-vvu40p"),x($e,"class","scrubbing-bar svelte-vvu40p"),x(we,"class","footer svelte-vvu40p"),x(E,"class","main-content svelte-vvu40p"),x(n,"class","svelte-vvu40p")},m(t,o){a(t,n,o),v(n,l),v(l,s),v(l,i),v(l,r),v(r,c),v(c,u),v(r,g),v(r,C),v(r,k),v(r,_),v(n,M),v(n,E),v(E,A),v(A,H),v(H,D),v(D,q),v(q,z),v(q,I),v(q,T),v(T,L),v(T,B),v(T,F),v(F,R),v(F,O),$(F,e[2],!0),v(q,S),v(q,N),v(N,Y),v(N,G),v(N,tt),P(tt,e[0]),v(q,et),v(q,nt),v(nt,ot),v(nt,lt),v(nt,st),P(st,e[1]),v(q,it),v(q,rt),v(q,at),v(q,pt),v(q,dt),v(q,ht),v(ht,ft),v(ft,gt),v(ft,mt),Ae&&Ae.m(ft,null),v(ht,bt),v(ht,xt),v(xt,yt),v(xt,Pt),He&&He.m(xt,null),v(q,wt),v(q,$t),v(q,Ct),v(q,kt),v(kt,_t),v(_t,Mt),v(Mt,Et),v(Mt,At),v(Mt,Ht),P(Ht,e[10]),v(_t,Dt),v(_t,Zt),v(Zt,qt),v(Zt,zt),v(Zt,It),P(It,e[11]),v(kt,Tt),v(kt,Lt),v(Lt,Bt),v(Lt,Ft),v(Lt,Rt),v(q,St),v(q,jt),v(q,Nt),v(q,Ut),v(Ut,Xt),v(Ut,Yt),v(Ut,Jt),Jt.checked=e[15],v(q,Wt),v(q,Gt),v(Gt,Kt),v(Gt,Qt),v(Gt,Vt),Vt.checked=e[12],v(q,te),v(q,ee),v(ee,ne),v(ee,oe),v(ee,le),le.checked=e[14],v(q,se),v(q,ie),v(ie,re),v(ie,ce),v(ie,ue),v(ue,ve),v(ue,ae),$(ue,e[3],!0),v(A,pe),v(A,de);for(let t=0;t<Ze.length;t+=1)Ze[t]&&Ze[t].m(de,null);v(de,he),qe&&qe.m(de,null),v(de,fe),v(de,ge);for(let t=0;t<Ie.length;t+=1)Ie[t]&&Ie[t].m(ge,null);v(A,me),v(A,be);for(let t=0;t<Le.length;t+=1)Le[t]&&Le[t].m(be,null);v(be,xe),v(be,ye),v(E,Pe),v(E,we),v(we,$e),v($e,Ce),Re.m(Ce,null),v($e,ke),v($e,_e),P(_e,e[5]),Me||(Ee=[b(c,"click",e[30]),b(C,"click",e[21]),b(_,"click",e[20]),b(F,"change",e[32]),b(tt,"input",e[33]),b(st,"input",e[34]),b(Ht,"input",e[39]),b(It,"input",e[40]),b(Jt,"change",e[41]),b(Vt,"change",e[42]),b(le,"change",e[43]),b(ue,"change",e[44]),b(ye,"click",e[67]),b(_e,"change",e[68]),b(_e,"input",e[68]),b(_e,"input",e[27])],Me=!0)},p(t,e){if(4&e[0]&&$(F,t[2]),1&e[0]&&y(tt.value)!==t[0]&&P(tt,t[0]),2&e[0]&&y(st.value)!==t[1]&&P(st,t[1]),t[6].length>0?Ae?Ae.p(t,e):(Ae=J(t),Ae.c(),Ae.m(ft,null)):Ae&&(Ae.d(1),Ae=null),t[6].length>0?He?He.p(t,e):(He=W(t),He.c(),He.m(xt,null)):He&&(He.d(1),He=null),1024&e[0]&&y(Ht.value)!==t[10]&&P(Ht,t[10]),2048&e[0]&&y(It.value)!==t[11]&&P(It,t[11]),8192&e[0]&&Ot!==(Ot=Math.round(t[13]))&&Rt.value!==Ot&&(Rt.value=Ot),32768&e[0]&&(Jt.checked=t[15]),4096&e[0]&&(Vt.checked=t[12]),16384&e[0]&&(le.checked=t[14]),8&e[0]&&$(ue,t[3]),64&e[0]){let n;for(De=t[6],n=0;n<De.length;n+=1){const o=X(t,De,n);Ze[n]?Ze[n].p(o,e):(Ze[n]=K(o),Ze[n].c(),Ze[n].m(de,he))}for(;n<Ze.length;n+=1)Ze[n].d(1);Ze.length=De.length}if(t[6].length>0?qe?qe.p(t,e):(qe=Q(t),qe.c(),qe.m(de,fe)):qe&&(qe.d(1),qe=null),64&e[0]){let n;for(ze=t[6],n=0;n<ze.length;n+=1){const o=U(t,ze,n);Ie[n]?Ie[n].p(o,e):(Ie[n]=V(o),Ie[n].c(),Ie[n].m(ge,null))}for(;n<Ie.length;n+=1)Ie[n].d(1);Ie.length=ze.length}if(730595392&e[0]){let n;for(Te=t[6],n=0;n<Te.length;n+=1){const o=j(t,Te,n);Le[n]?Le[n].p(o,e):(Le[n]=ct(o),Le[n].c(),Le[n].m(be,xe))}for(;n<Le.length;n+=1)Le[n].d(1);Le.length=Te.length}Fe===(Fe=Be(t))&&Re?Re.p(t,e):(Re.d(1),Re=Fe(t),Re&&(Re.c(),Re.m(Ce,null))),32&e[0]&&P(_e,t[5])},i:t,o:t,d(t){t&&p(n),Ae&&Ae.d(),He&&He.d(),d(Ze,t),qe&&qe.d(),d(Ie,t),d(Le,t),Re.d(),Me=!1,o(Ee)}}}function pt(t,e){let n=[];for(let o=0;o<=1;o+=1/e)n.push(dt(t,o));return n.push(t[t.length-1]),n}function dt(t,e){if(1===t.length)return t[0];let n=[];for(let o=0;o<t.length-1;o++){let l=(1-e)*t[o].x+e*t[o+1].x,s=(1-e)*t[o].y+e*t[o+1].y;n.push({x:l,y:s})}return dt(n,e)}const ht=t=>`${t.x},${144-t.y}`;function ft(e,n,o){let l,i,r=function(e,n=t){let o;const l=new Set;function i(t){if(s(e,t)&&(e=t,o)){const t=!S.length;for(const t of l)t[1](),S.push(t,e);if(t){for(let t=0;t<S.length;t+=2)S[t][0](S[t+1]);S.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,r=t){const c=[s,r];return l.add(c),1===l.size&&(o=n(i)||t),s(e),()=>{l.delete(c),0===l.size&&o&&(o(),o=null)}}}}([]);c(e,r,(t=>o(6,i=t)));let v=0,a=0,p=18,d=18,h=18,f=18,g="inches",m="degrees";function b(t){r.update((e=>{const n=e.find((e=>e.id===t));return n&&(n.bezierCurvePoints=pt(n.controlPoints,100)),e}))}function x(){r.update((t=>{const e={id:t.length,controlPoints:[],bezierCurvePoints:[],color:`rgb(${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)}, ${Math.floor(128*Math.random()+128)})`,robotHeading:"constant"};if(t.length>0){const n=t[t.length-1];if(n.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1],o=2*Math.random()*Math.PI,l=50,s=72+Math.cos(o)*l,i=72+Math.sin(o)*l;e.controlPoints.push({x:t.x,y:t.y}),e.controlPoints.push({x:s,y:i})}}else 0===t.length&&(e.controlPoints.push({x:12,y:96}),e.controlPoints.push({x:36,y:96}));return[...t,e]}))}function P(t,e){r.update((n=>{const l=n.find((e=>e.id===t));if(console.log(l.controlPoints),l){const t=2*Math.random()*Math.PI,n=50;o(16,v=72+Math.cos(t)*n),o(17,a=72+Math.sin(t)*n),l.controlPoints.splice(e,0,{x:v,y:a}),l.bezierCurvePoints=pt(l.controlPoints,100)}return console.log(l.controlPoints),n}))}function w(t,e){r.update((n=>{const o=n.find((e=>e.id===t));return o&&(o.color=e),n}))}function $(t){r.update((e=>{const n=e.filter((e=>e.id!==t));if(n.forEach(((t,e)=>{t.id=e})),N&&t>0&&t<e.length-1){const e=n[t-1],o=n[t];e&&o&&(o.controlPoints[0]={...e.controlPoints[e.controlPoints.length-1]},o.bezierCurvePoints=pt(o.controlPoints,100))}return n}))}let k=0,_=12,M=96,E=!1,A=!0,H=!0,D=null,Z=0,q=0,z=null,I=0,T=0,L=0,B=0,F=!0,R=0;function O(){let t=0;i.forEach((e=>{t+=e.bezierCurvePoints.length}));let e=0;for(let n of i){if(k<=(e+n.bezierCurvePoints.length)/t*100){const l=(k-e/t*100)/(n.bezierCurvePoints.length/t*100),s=Math.floor(l*(n.bezierCurvePoints.length-1)),i=n.bezierCurvePoints[s];if(i){o(10,_=i.x),o(11,M=i.y);const t=document.getElementById("robot");if(t)if("tangential"===n.robotHeading){const e=n.bezierCurvePoints[Math.min(s+1,n.bezierCurvePoints.length-1)],l=n.bezierCurvePoints[Math.max(s-1,0)],i=Math.atan2(e.y-l.y,e.x-l.x);t.style.transform=`translate(-50%, 50%) rotate(${-i+Math.PI/2}rad)`,o(13,R="degrees"===m?i*(180/Math.PI):i)}else if("linear"===n.robotHeading){const e=n.startAngle||0,s=e+((n.endAngle||0)-e)*l;t.style.transform=`translate(-50%, 50%) rotate(${-s+Math.PI/2}rad)`,o(13,R="degrees"===m?s*(180/Math.PI):s)}else if("constant"===n.robotHeading){const e=n.constantAngle||0;t.style.transform=`translate(-50%, 50%) rotate(${-e+Math.PI/2}rad)`,o(13,R="degrees"===m?-e*(180/Math.PI):-e)}}break}e+=n.bezierCurvePoints.length}}function j(){o(4,E=!1),D&&(clearInterval(D),D=null),o(31,A=!0),H=!1}document.addEventListener("DOMContentLoaded",(()=>{x(),b(i.length-1)})),document.addEventListener("mousedown",(t=>{const e=document.querySelector(".field").getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;let l=null,s=null,c=null,u=null;if(i.forEach((t=>{t.controlPoints.forEach(((i,r)=>{const v=i.x/144*e.width,a=e.height-i.y/144*e.height;Math.sqrt((n-v)**2+(o-a)**2)<10&&(null===l&&null===s?(l=t.id,s=r):N&&null===c&&null===u&&(c=t.id,u=r))}))})),null!==l&&null!==s){const t=t=>{const n=t.clientX-e.left,o=t.clientY-e.top;let i=n/e.width*144,v=144-o/e.height*144;const a=f/2,p=h/2;i=Math.max(a,Math.min(144-a,i)),v=Math.max(p,Math.min(144-p,v)),r.update((t=>{const e=t.find((t=>t.id===l));if(e&&(e.controlPoints[s]={x:i,y:v},e.bezierCurvePoints=pt(e.controlPoints,100)),N&&null!==c&&null!==u){const e=t.find((t=>t.id===c));e&&(e.controlPoints[u]={x:i,y:v},e.bezierCurvePoints=pt(e.controlPoints,100))}return t})),O()},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}}));let N=!0;function U(){N&&r.update((t=>{for(let e=0;e<t.length-1;e++){const n=t[e],o=t[e+1];if(n.controlPoints.length>0&&o.controlPoints.length>0){const t=n.controlPoints[n.controlPoints.length-1];o.controlPoints[0]={...t},o.bezierCurvePoints=pt(o.controlPoints,100)}}return t}))}let X=!1;return e.$$.update=()=>{if(7&e.$$.dirty[0]){const t="inches"===g?1:2.54;o(8,h=p/t),o(9,f=d/t)}if(72&e.$$.dirty[0]){const t="degrees"===m?Math.PI/180:1;i.forEach((e=>{"linear"===e.robotHeading?(e.startAngle=(e.startAngleDegrees||0)*t,e.endAngle=(e.endAngleDegrees||0)*t):"constant"===e.robotHeading&&(e.constantAngle=(e.constantAngleDegrees||0)*t)}))}if(64&e.$$.dirty[0]&&(l=1.56*i.length),112&e.$$.dirty[0]|1&e.$$.dirty[1]&&!E&&A){const t=i.length,e=Math.floor(T/100*t),n=T/100*t-e,o=n<.5?2*n*n:(4-2*n)*n-1;k=(e+o)/t*100,L=e,Z=o,O()}if(16&e.$$.dirty[0]){const t=document.getElementById("robot");t&&(t.style.transition=E?"transform 1ms linear":"none",t.style.filter=E?"blur(0.2px)":"none")}},U(),O(),b(1),[p,d,g,m,E,T,i,z,h,f,_,M,F,R,N,X,v,a,r,b,function(){const t=i.map((t=>({id:t.id,controlPoints:t.controlPoints,color:t.color}))),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n),l=document.createElement("a");l.href=o,l.download="paths.json",l.click()},function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const e=t.target.files[0],n=await e.text(),o=JSON.parse(n);r.set(o.map(((t,e)=>({...t,id:e})))),o.forEach(((t,e)=>b(e))),O()},t.click()},x,P,w,$,function(){E||(o(4,E=!0),L=H?0:Math.floor(k/100*i.length),B=Date.now()-(H?0:k%(100/i.length)/100*l*1e3),A&&(B=Date.now()-Z*I*1e3),D=setInterval((()=>{q=(Date.now()-B)/1e3,o(7,z=i[L]),I=l/i.length,Z=q/I,o(5,T=(L+Z)/i.length*100),Z<.5?Z*=2*Z:Z=(4-2*Z)*Z-1,k=(L+Z)/i.length*100,O(),q>=I&&(L+1>=i.length?F?L=0:j():L++,B=Date.now())}),1))},O,j,U,function(){const t=window.open("","CodeWindow","width=600,height=400");let e="private Path ";i.forEach(((t,n)=>{e+=`p${n+1}`,n<i.length-1&&(e+=", ")})),e+=";\n\n",e+="public void buildPaths() {\n",i.forEach(((t,n)=>{const o=t.controlPoints.map((t=>`new Point(${t.x.toFixed(3)}, ${t.y.toFixed(3)}, Point.CARTESIAN)`)).join(",\n                "),l=2===t.controlPoints.length?"BezierLine":"BezierCurve";if(e+=`    p${n+1} = new Path(new ${l}(\n                ${o}\n        )\n    );\n\n`,"constant"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.constantAngleDegrees||0})`:`${t.constantAngleDegrees||0}`;e+=`    p${n+1}.setConstantHeadingInterpolation(${o});\n\n`}else if("tangential"===t.robotHeading)e+=`    p${n+1}.setTangentHeadingInterpolation();\n\n`;else if("linear"===t.robotHeading){const o="degrees"===m?`Math.toRadians(${t.startAngleDegrees||0})`:`${t.startAngleDegrees||0}`,l="degrees"===m?`Math.toRadians(${t.endAngleDegrees||0})`:`${t.endAngleDegrees||0}`;e+=`    p${n+1}.setLinearHeadingInterpolation(${o}, ${l});\n\n`}})),e+="}",t.document.write("<pre>"+e+"</pre>"),t.document.close()},A,function(){g=C(this),o(2,g)},function(){p=y(this.value),o(0,p)},function(){d=y(this.value),o(1,d)},function(){i[0].controlPoints[0].x=y(this.value),r.set(i)},()=>O(),function(){i[0].controlPoints[0].y=y(this.value),r.set(i)},()=>O(),function(){_=y(this.value),o(10,_)},function(){M=y(this.value),o(11,M)},function(){X=this.checked,o(15,X)},function(){F=this.checked,o(12,F)},function(){N=this.checked,o(14,N)},function(){m=C(this),o(3,m)},t=>{if(0!=t.id&&t.id!=i.length-1){const e=i[t.id+1];u(r,i[t.id+1]={...i[t.id],id:t.id+1},i),u(r,i[t.id]={...e,id:t.id},i),r.set(i),U()}},t=>{if(0!=t.id&&1!=t.id){const e=i[t.id-1];u(r,i[t.id-1]={...i[t.id],id:t.id-1},i),u(r,i[t.id]={...e,id:t.id},i),r.set(i),U()}},function(t,e){t[e].color=this.value,r.set(i)},t=>w(t.id,t.color),t=>{i.length>1&&$(t.id)},t=>P(t.id,t.controlPoints.length-1),(t,e)=>{"Enter"===e.key&&P(t.id,t.controlPoints.length-1)},(t,e,n,o,l)=>{u(r,n[o].controlPoints[e].x=parseFloat(l.target.value),i),b(t.id),r.set(i)},(t,e,n,o,l)=>{u(r,n[o].controlPoints[e].y=parseFloat(l.target.value),i),b(t.id),r.set(i)},(t,e)=>{t.controlPoints.length>2&&(t.controlPoints.splice(e,1),b(t.id),r.set(i))},(t,e,n,o)=>{u(r,e[n].controlPoints[t.controlPoints.length-1].x=parseFloat(o.target.value),i),b(t.id),r.set(i)},(t,e,n,o)=>{u(r,e[n].controlPoints[t.controlPoints.length-1].y=parseFloat(o.target.value),i),b(t.id),r.set(i)},function(t,e){t[e].robotHeading=C(this),r.set(i)},t=>b(t.id),function(t,e){t[e].startAngleDegrees=y(this.value),r.set(i)},()=>O(),function(t,e){t[e].endAngleDegrees=y(this.value),r.set(i)},()=>O(),function(t,e){t[e].reverse=this.checked,r.set(i)},()=>O(),function(t,e){t[e].constantAngleDegrees=y(this.value),r.set(i)},()=>O(),()=>{x(),b(i.length-1)},function(){T=y(this.value),o(5,T)}]}return new class extends O{constructor(t){super(),R(this,t,ft,at,s,{},null,[-1,-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
